define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/profile",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/naptimejs",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});

define('css!bundles/socialPlugins/wechat/__styles__/wechat-button',[],function(){})
define("nls/socialPlugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});



define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/requirejs/plugins/lazy",["require","exports","module"],function(require,exports,module){var e={version:"0.0.1",load:function load(e,r,u,i){var n=function getModule(n){r([e],function(e){return n(e)})};return n.lazy={moduleId:e},u(n)}};module.exports=e});




define("pages/open-course/peerReview/reviewTypes/structured/partTypes/multiLineInput/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/multiLineInput/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/options/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/options/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/singleLineInput/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/singleLineInput/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/yesNo/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/yesNo/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});

define("nls/peer-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/categories",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});




define("nls/quiz-question-types",["require","exports","module"],function(require,exports,module){module.exports={}});
define("bundles/page/lib/nls/metatagsAddressBook",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/nls/moment.lang",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/discussions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/discussions/api/questions",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/onDemandDiscussionQuestions.v1/",{type:"rest"})});
define("bundles/discussions/api/ThreadsApi",["require","exports","module","q","jsuri","bundles/discussions/constants","bundles/discussions/api/questions"],function(require,exports,module){var e=require("q"),r=require("jsuri"),d=require("bundles/discussions/constants"),s=d.questionSorts,a=require("bundles/discussions/api/questions"),u={load:function load(i){var l=i.sort,o=i.pageNum,u=i.viewContext,n=i.filterQueryString,m=i.limit,y=void 0===m?15:m,d=(new r).addQueryParam("courseId",u.get("courseId")).addQueryParam("sort",l||s.mostRecentSort).addQueryParam("limit",y).addQueryParam("includes","creatorId,lastAnsweredBy,flagId,_links").addQueryParam("fields","answerBadge");n&&d.addQueryParam("sessionFilter",n);var t=u.get("type");return"course"===t?d.addQueryParam("q","byCourse"):"module"===t?d.addQueryParam("q","byModule").addQueryParam("moduleId",u.get("id")):"week"===t?d.addQueryParam("q","byWeek").addQueryParam("weekNumber",u.get("id")):"forum"===t?d.addQueryParam("q","byForum").addQueryParam("forumId",u.get("id")):"item"===t?d.addQueryParam("q","byItem").addQueryParam("itemId",u.get("id")):"group"===t&&d.addQueryParam("q","byGroup").addQueryParam("groupId",u.get("groupId")),o-1>0&&d.addQueryParam("start",(o-1)*y),e(a.get(d.toString()))},add:function add(d){var s=(new r).addQueryParam("fields","answerBadge").toString();return e(a.post(s,d))}};module.exports=u});
define("bundles/discussions/utils/polling",["require","exports","module"],function(require,exports,module){var n=15e3,o=6e4,e=n,s=18e5,l=function onPageVisibilityChange(){e=document.hidden?o:n},a=function addPageVisibilityEvent(){document.addEventListener("visibilitychange",l)},i=function removePageVisibilityEvent(){document.removeEventListener("visibilitychange",l)},t=function Poll(t,n){this.pollNowCallback=t,this.pollEndCallback=n};t.prototype.start=function(){var t=Date.now();a(),this.pollInterval=setInterval(function(){Date.now()-t>s?(i(),clearInterval(this.pollInterval),this.pollEndCallback()):this.pollNowCallback()}.bind(this),e)},t.prototype.stop=function(){clearInterval(this.pollInterval),i()},module.exports={Poll:t}});
define("bundles/discussions/actions/ThreadsActions",["require","exports","module","bundles/discussions/api/ThreadsApi","pages/open-course/common/models/currentSocialProfile","bundles/discussions/constants","bundles/discussions/utils/polling"],function(require,exports,module){var n=require("bundles/discussions/api/ThreadsApi"),e=require("pages/open-course/common/models/currentSocialProfile"),i=require("bundles/discussions/constants"),o=i.loadingStates,s=require("bundles/discussions/utils/polling").Poll,t={poll:null,getOrCreatePoll:function getOrCreatePoll(t){if(this.poll)return this.poll;return this.poll=new s(this.pollNow(t),this.pollingEnded(t)),this.poll},pollNow:function pollNow(t){return function(){var e=t.getStore("ThreadsStore"),i=e.sort,o=e.viewContext,s=e.filterQueryString;n.load({sort:i,pageNum:1,viewContext:o,filterQueryString:s}).then(function(n){return t.dispatch("RECEIVE_THREADS_POLLING",n)}).done()}},pollingEnded:function pollingEnded(t){return function(){return t.dispatch("STOP_THREADS_POLLING")}},startPolling:function startPolling(t){this.getOrCreatePoll(t).start()},stopPolling:function stopPolling(t){this.getOrCreatePoll(t).stop()}};exports.loadThreads=function(t,e){var i=e.filterQueryString,s=e.sort,r=e.pageNum,l=e.viewContext;t.dispatch("START_THREADS_LOAD",{filterQueryString:i,sort:s,pageNum:r,viewContext:l});var u=t.getStore("ThreadsStore"),a=u.hasLoadedThreadPage({filterQueryString:i,sort:s,pageNum:r,currentForumId:l.get("id")});a||(t.dispatch("UPDATE_THREADS_LOADING_STATE",o.LOADING),n.load({sort:s,pageNum:r,viewContext:l,filterQueryString:i}).then(function(n){return t.dispatch("RECEIVE_THREADS",n)}).fail(function(n){return t.dispatch("THREADS_API_ERROR",n)}).done())},exports.startPolling=function(n){t.stopPolling(n),t.startPolling(n),n.dispatch("START_THREADS_POLLING")},exports.stopPolling=function(n){t.stopPolling(n),n.dispatch("STOP_THREADS_POLLING")},exports.addThread=function(t,i){t.dispatch("THREADS_API_SAVING"),n.add(i).then(function(n){return t.dispatch("RECEIVE_NEW_THREAD",Object.assign(n.elements[0],{creator:e.attributes}))}).fail(function(n){return t.dispatch("THREADS_API_SAVE_ERROR",n)}).done()},exports.updateFromPoll=function(n){t.startPolling(),n.dispatch("UPDATE_THREADS_POLLING")}});



define("nls/scribe-plugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/asset-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/phoenix",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/scribe-plugins/styles/scribe-image-upload-command',[],function(){})
define("bundles/discussions/utils/DiscussionsCMLUtils",["require","exports","module","i18n!nls/discussions","react-with-addons","bundles/discussions/constants","bundles/phoenix/utils/CMLUtils","bundles/CMLConverter/CMLParser","bundles/phoenix/constants/CMLEditorBlocks"],function(require,exports,module){var i=require("i18n!nls/discussions"),r=require("react-with-addons"),o=require("bundles/discussions/constants"),n=require("bundles/phoenix/utils/CMLUtils"),a=require("bundles/CMLConverter/CMLParser"),e=require("bundles/phoenix/constants/CMLEditorBlocks"),s=o.questions.details.maxChars,d=o.questions.details.warnChars,t=a.EMPTY_CML.length+"<text></text>".length,l={generateContentLengthWarning:function generateContentLengthWarning(a){var e=n.getValue(a).length,o=void 0;return e>d+t&&s+t>=e?o=r.createElement("div",{className:"c-form-error-message"},i("You are approaching the character limit | ")+e+"/"+s):e>s+t&&(o=r.createElement("div",{className:"c-error-text c-form-error-message"},i("You have exceeded the character limit | ")+e+"/"+s)),o},validateLength:function validateLength(e){return n.isEmpty(e)?!1:n.getValue(e).length>s+t?!1:!0},getImageUploadOptions:function getImageUploadOptions(e,s){return{context:{courseId:e,questionId:s},pendingAssetCreation:{assetType:"image",typeName:"pending",tags:[]},assetCreationUrl:"/api/onDemandDiscussionsAssetCreationAttempts.v1"}},getDefaultBlocks:function getDefaultBlocks(){return[e.Bold,e.Italic,e.Underline,e.Divider,e.Link,e.Image,e.OrderedList,e.UnorderedList,e.Code]}};module.exports=l});
define("bundles/discussions/utils/generateThreadPostData",["require","exports","module"],function(require,exports,module){module.exports=function(e,t){var n={data:{context:{typeName:e.get("type"),definition:{courseId:e.get("courseId")}},content:{question:t.title,details:t.content}}};return t.context&&"default"!==t.context&&("ondemand"===t.context?n.data.forceOnDemand=!0:n.data.forceSessionId=t.context),"week"===e.get("type")?n.data.context.definition.weekNumber=parseInt(e.get("id"),10):n.data.context.definition[e.get("type")+"Id"]=e.get("id"),n}});
define("nls/payments",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/confirmNavigation/nls/confirmNavigation",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/payments-common",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/s12n-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});




define("nls/group-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/enroll-course",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/certificate-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/discussions/components/sessionSwitcher/__styles__/SessionSwitcherDropdown',[],function(){})
define("bundles/discussions/components/sessionSwitcher/SessionSwitcherDropdown",["require","exports","module","underscore","react-with-addons","moment","react-bootstrap","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/waitFor","js/lib/coursera.react-intl","i18n!nls/discussions","css!./__styles__/SessionSwitcherDropdown"],function(require,exports,module){function _defaults(e,i){for(var o=Object.getOwnPropertyNames(i),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(i,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),l=function get(o,a,d){var r=!0;e:for(;r;){var t=o,s=a,l=d;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;o=n,a=s,d=l,r=!0,e=n=void 0;continue e}if("value"in e)return e.value;var i=e.get;if(void 0===i)return void 0;return i.call(l)}},_=require("underscore"),e=require("react-with-addons"),t=require("moment"),n=require("react-bootstrap"),s=n.DropdownButton,a=n.MenuItem,d=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=require("js/lib/waitFor"),c=require("js/lib/coursera.react-intl"),p=c.FormattedMessage,i=require("i18n!nls/discussions");require("css!./__styles__/SessionSwitcherDropdown");var o="MMMM DD, YYYY",f=function(n){function SessionSwitcherDropdown(r,o){var n=this;_classCallCheck(this,SessionSwitcherDropdown),l(Object.getPrototypeOf(SessionSwitcherDropdown.prototype),"constructor",this).call(this,r,o),this.handleDropdownChange=function(e){n.setState({selectedFilter:n.props.filters.find(function(t){return t.id===e})}),n.props.handleDropdownChange(e)},this.buildMenuItemDisplay=function(r){if("all"===r.id)return SessionSwitcherDropdown.buildFilterDisplayString(r);if("ondemand"===r.id)return e.createElement("div",{className:"horizontal-box"},SessionSwitcherDropdown.buildFilterDisplayString(r),"ondemand"===r.id&&e.createElement("div",{className:"menu-item-label caption-text color-secondary-text"},i("Active")));var o=n.props.allSessions.find(function(e){return e.id===r.id}),s=_(o.moduleDeadlines).chain().sortBy(function(e){return e.startedAt}).find(function(e){return t(e.deadline).isAfter(t())}).value(),l=s&&t(s).diff(t(o.startedAt),"weeks")+1;return e.createElement("div",{className:"horizontal-box"},SessionSwitcherDropdown.buildFilterDisplayString(r),l>0&&t(o.endedAt).isAfter(t())&&e.createElement("div",{className:"menu-item-label caption-text color-secondary-text"},e.createElement(p,{message:i("Week {weekNumber} assignment due"),weekNumber:l})))},"all"===r.selectedFilter.id&&r.hideAllSessionsOption?this.state={selectedFilter:r.filters.filter(function(e){return"all"!==e.id})[0]}:this.state={selectedFilter:r.selectedFilter}}return _inherits(SessionSwitcherDropdown,n),r(SessionSwitcherDropdown,null,[{key:"propTypes",value:{filters:e.PropTypes.arrayOf(e.PropTypes.shape({id:e.PropTypes.string.isRequired,startedAt:e.PropTypes.number,endedAt:e.PropTypes.number})),selectedFilter:e.PropTypes.shape({id:e.PropTypes.string.isRequired,startedAt:e.PropTypes.number,endedAt:e.PropTypes.number}),allSessions:e.PropTypes.array,handleDropdownChange:e.PropTypes.func.isRequired,hideAllSessionsOption:e.PropTypes.bool,disabled:e.PropTypes.bool,dropup:e.PropTypes.bool},enumerable:!0},{key:"defaultProps",value:{hideAllSessionsOption:!1,dropup:!1},enumerable:!0}]),r(SessionSwitcherDropdown,[{key:"render",value:function render(){var t=this;return e.createElement("div",{className:"rc-SessionSwitcherDropdown"},e.createElement("div",{className:"dropdown-section"},e.createElement(s,{title:this.buildMenuItemDisplay(this.state.selectedFilter),onSelect:this.handleDropdownChange,disabled:this.props.disabled,dropup:this.props.dropup},this.props.filters.map(function(r){return e.createElement(a,{key:r.id,eventKey:r.id},t.buildMenuItemDisplay(r))}))))}}],[{key:"buildFilterDisplayString",value:function buildFilterDisplayString(e){if("ondemand"===e.id)return"Self Paced";if("all"===e.id)return"All Sessions";var n=t(e.startedAt).format(o),i=t(e.endedAt).format(o),r=n+" - "+i;return e.variantLabel?r+": "+e.variantLabel:r}}]),SessionSwitcherDropdown}(e.Component);module.exports=_.compose(d(["SessionFilterStore"],function(r,n){var e=r.SessionFilterStore,t=e.filters;return n.hideAllSessionsOption&&(t=t.filter(function(e){return"all"!==e.id})),{loaded:e.filtersLoaded,filters:t,sessionsLoaded:e.filtersLoaded,selectedFilter:e.activeFilter,allSessions:e.allSessions}}),u(function(e){return e.loaded}))(f)});

define('css!bundles/discussions/components/__styles__/NewThreadFormComponents',[],function(){})
define("bundles/discussions/components/NewThreadFormComponents",["require","exports","module","classnames","react-with-addons","react-dom","underscore","pages/open-course/common/constants","bundles/discussions/constants","bundles/discussions/utils/DiscussionsCMLUtils","bundles/discussions/viewModels/viewContext","bundles/phoenix/components/CMLOrFallbackEditor","bundles/phoenix/constants/CMLEditorPlugins","bundles/phoenix/propTypes/cml","bundles/discussions/components/sessionSwitcher/SessionSwitcherDropdown","i18n!nls/discussions","css!./__styles__/NewThreadFormComponents"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(s,u,p){var n=!0;e:for(;n;){var t=s,i=u,a=p;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;s=r,u=i,p=a,n=!0,e=r=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},i=require("classnames"),e=require("react-with-addons"),u=require("react-dom"),_=require("underscore"),h=require("pages/open-course/common/constants"),a=require("bundles/discussions/constants"),s=require("bundles/discussions/utils/DiscussionsCMLUtils"),n=require("bundles/discussions/viewModels/viewContext"),p=require("bundles/phoenix/components/CMLOrFallbackEditor"),l=require("bundles/phoenix/constants/CMLEditorPlugins"),c=require("bundles/phoenix/propTypes/cml"),d=require("bundles/discussions/components/sessionSwitcher/SessionSwitcherDropdown"),t=require("i18n!nls/discussions");require("css!./__styles__/NewThreadFormComponents");var m=a.questions.thought.maxChars,f=function(n){function TitleInput(){var e=this;_classCallCheck(this,TitleInput),o(Object.getPrototypeOf(TitleInput.prototype),"constructor",this).apply(this,arguments),this.handleInputChange=function(t){if(t.target.value.length<=m){var n={value:t.target.value,isValid:e.validate(t.target.value)};e.props.handleInputChange("title",n)}}}return _inherits(TitleInput,n),r(TitleInput,[{key:"componentDidMount",value:function componentDidMount(){setTimeout(function(){u.findDOMNode(this).focus()}.bind(this),0)}},{key:"validate",value:function validate(e){return e.length>1}},{key:"render",value:function render(){var n={"c-form":!0,"c-form-input":!0,"c-has-error":this.props.hasError};return e.createElement("input",{ref:"title",className:i(n),onChange:this.handleInputChange,placeholder:t("Write a descriptive title"),title:t("Title"),value:this.props.value})}}],[{key:"propTypes",value:{handleInputChange:e.PropTypes.func.isRequired,value:e.PropTypes.string.isRequired,hasError:e.PropTypes.bool.isRequired},enumerable:!0}]),TitleInput}(e.Component),v=function(n){function ContentInput(){var e=this;_classCallCheck(this,ContentInput),o(Object.getPrototypeOf(ContentInput.prototype),"constructor",this).apply(this,arguments),this.state={blocks:s.getDefaultBlocks()},this.handleInputChange=function(t){var n={value:t,isValid:s.validateLength(t)};e.props.handleInputChange("content",n)}}return _inherits(ContentInput,n),r(ContentInput,[{key:"render",value:function render(){var n={"c-form":!0,"c-form-textarea":!0,"c-has-error":this.props.hasError},r=s.generateContentLengthWarning(this.props.cml),o=e.createElement("div",{className:"c-error-text c-form-error-message"},t("Something went wrong. Please reload the page and try again."));return e.createElement("div",{className:i(n)},e.createElement(p,{ref:"content",placeholder:t("Provide supporting details or context"),onChange:this.handleInputChange,cml:this.props.cml,imageUploadOptions:s.getImageUploadOptions(h.courseId),changeDelay:100,blocks:this.state.blocks,disabledPlugins:[l.ToolbarVisibility],title:t("Thread body")}),r,this.state.submitError&&o)}}],[{key:"propTypes",value:{handleInputChange:e.PropTypes.func.isRequired,cml:c.isRequired,hasError:e.PropTypes.bool.isRequired},enumerable:!0}]),ContentInput}(e.Component),y=function(s){function ForumSelector(){var e=this;_classCallCheck(this,ForumSelector),o(Object.getPrototypeOf(ForumSelector.prototype),"constructor",this).apply(this,arguments),this.handleInputChange=function(t){var n={value:_.find(e.props.forums,function(e){return e.get("id")===t.target.value})||{},isValid:e.validate(t.target.value)};e.props.handleInputChange("currentForum",n)},this.emptyForum={name:t("Please Select a Forum"),id:"empty",get:function get(){return"empty"}}}return _inherits(ForumSelector,s),r(ForumSelector,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!this.props.value||!e.value||this.props.hasError!==e.hasError||this.props.value.get("id")!==e.value.get("id")}},{key:"validate",value:function validate(e){return e!==this.emptyForum.id&&e?!0:!1}},{key:"render",value:function render(){var o={"c-form":!0,"c-form-input":!0,"c-form-select":!0,"c-has-error":this.props.hasError},r=_(this.props.forums).map(function(t,n){return e.createElement("option",{key:t.get("id"),value:t.get("id")},t.getDisplayName())});return this.props.value instanceof n||r.unshift(e.createElement("option",{key:this.emptyForum.id,value:this.emptyForum.id},this.emptyForum.name)),e.createElement("select",{value:this.props.value instanceof n?this.props.value.get("id"):this.emptyForum.id,ref:"currentForum",className:i(o),title:t("Select a subforum"),onChange:this.handleInputChange},r)}}],[{key:"propTypes",value:{handleInputChange:e.PropTypes.func.isRequired,forums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(n)).isRequired,value:e.PropTypes.instanceOf(n),hasError:e.PropTypes.bool},enumerable:!0},{key:"defaultProps",value:{hasError:!1},enumerable:!0}]),ForumSelector}(e.Component),g=function(t){function ContextSelector(){var e=this;_classCallCheck(this,ContextSelector),o(Object.getPrototypeOf(ContextSelector.prototype),"constructor",this).apply(this,arguments),this.state={value:""},this.handleDropdownChange=function(t){e.setState({value:t})}}return _inherits(ContextSelector,t),r(ContextSelector,[{key:"getValue",value:function getValue(){return this.state.value}},{key:"render",value:function render(){return e.createElement("div",{className:"rc-ContextSelector"},e.createElement(d,{hideAllSessionsOption:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))}}],[{key:"propTypes",value:{filters:e.PropTypes.arrayOf(e.PropTypes.shape({id:e.PropTypes.string,startedAt:e.PropTypes.number,endedAt:e.PropTypes.number}))},enumerable:!0}]),ContextSelector}(e.Component);module.exports={TitleInput:f,ContentInput:v,ForumSelector:y,ContextSelector:g}});

define('css!bundles/discussions/components/__styles__/NewThreadButton',[],function(){})
define("bundles/discussions/components/NewThreadButton",["require","exports","module","react-with-addons","react-dom","underscore","bundles/discussions/actions/ThreadsActions","bundles/page/components/TrackedButton","bundles/discussions/constants","bundles/discussions/singletons/viewContexts","bundles/discussions/utils/DiscussionsCMLUtils","bundles/discussions/viewModels/viewContext","bundles/phoenix/components/Modal","bundles/phoenix/utils/CMLUtils","bundles/discussions/utils/discussionsUrl","bundles/iconfont/Icon","bundles/ondemand/appContextSingleton","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/utils/generateThreadPostData","i18n!nls/discussions","pages/open-course/common/utils/ensureEnrolled","bundles/discussions/components/NewThreadFormComponents","css!bundles/discussions/components/__styles__/NewThreadButton.css"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),l=function get(r,l,c){var s=!0;e:for(;s;){var t=r,a=l,i=c;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;r=n,l=a,c=i,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(i)}},e=require("react-with-addons"),r=require("react-dom"),_=require("underscore"),m=require("bundles/discussions/actions/ThreadsActions"),C=m.addThread,a=require("bundles/page/components/TrackedButton"),i=require("bundles/discussions/constants"),w=i.DTD_NAME,s=i.savingStates,F=require("bundles/discussions/singletons/viewContexts"),h=require("bundles/discussions/utils/DiscussionsCMLUtils"),c=require("bundles/discussions/viewModels/viewContext"),p=require("bundles/phoenix/components/Modal"),d=require("bundles/phoenix/utils/CMLUtils"),v=require("bundles/discussions/utils/discussionsUrl"),f=v.buildUrl,b=require("bundles/iconfont/Icon"),g=require("bundles/ondemand/appContextSingleton"),E=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),y=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),S=require("bundles/discussions/utils/generateThreadPostData"),t=require("i18n!nls/discussions"),x=require("pages/open-course/common/utils/ensureEnrolled"),n=require("bundles/discussions/components/NewThreadFormComponents"),T=n.TitleInput,N=n.ContentInput,M=n.ForumSelector,O=n.ContextSelector;require("css!bundles/discussions/components/__styles__/NewThreadButton.css");var u=function(n){function NewThreadButton(t,s){var e=this;_classCallCheck(this,NewThreadButton),l(Object.getPrototypeOf(NewThreadButton.prototype),"constructor",this).call(this,t,s),this.handleSubmit=function(){var s=_(e.state).any(function(e){return e.hasError});if(s)e.state.title.hasError?r.findDOMNode(e.refs.title).focus():e.state.content.hasError?r.findDOMNode(e.refs.content.refs.content.refs.editorWrapper.refs.editor).focus():e.state.currentForum.hasError&&r.findDOMNode(e.refs.currentForum).focus(),e.setState({showErrors:!0});else{var t={title:e.state.title.value,content:e.state.content.value};e.props.showContextSelector?t.context=e.refs.contextSelector.getValue():e.props.filter&&(t.context=e.props.filter.id);var n=S(e.state.currentForum.value,t);e.setState({saving:!0}),e.context.executeAction(C,n)}},this.handleOpenModal=function(){x().then(function(){return e.handleOpen()})},this.handleCloseModal=function(t){"x"===t?e.setState(e.resetState()):e.setState({showModal:!1})},this.handleCloseModalByX=this.handleCloseModal.bind(this,"x"),this.handleInputChange=function(t,s){e.state[t].value=s.value,e.state[t].hasError=!s.isValid,e.setState(e.state)},this.state=this.resetState()}return _inherits(NewThreadButton,n),o(NewThreadButton,null,[{key:"propTypes",value:{showForumSelector:e.PropTypes.bool.isRequired,defaultForum:e.PropTypes.instanceOf(c),showContextSelector:e.PropTypes.bool,videoPlayer:e.PropTypes.object,filter:e.PropTypes.shape({id:e.PropTypes.string}),threadSavingState:e.PropTypes.string,newThread:e.PropTypes.object},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(c).isRequired,executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},enumerable:!0}]),o(NewThreadButton,[{key:"componentWillMount",value:function componentWillMount(){F().then(function(e){var t=_(e).filter(function(e){return"course"!==e.get("type")&&"module"!==e.get("type")});this.setState({forums:t})}.bind(this))}},{key:"componentDidMount",value:function componentDidMount(){if(this.props.showForumSelector===!1&&!this.props.defaultForum)throw new Error("must provide an initial forum if hiding the forum selector")}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.state.saving||this.setState({currentForum:{value:e.defaultForum,hasError:!e.defaultForum}}),this.props.threadSavingState===s.SAVING&&e.threadSavingState===s.SAVED?this.handleSaveSuccess(e.newThread):this.props.threadSavingState===s.SAVING&&e.threadSavingState===s.ERROR&&this.handleSaveError()}},{key:"handleSaveSuccess",value:function handleSaveSuccess(e){this.context.viewContext.isType("item")||this.context.viewContext.isType("question")||this.context.router.push(f(this.context.viewContext.get("discussionsLink"),e.id)),this.setState(this.resetState())}},{key:"handleSaveError",value:function handleSaveError(){this.setState({saveError:!0,saveErrorMessage:t("Something went wrong. Please reload the page and try again."),saving:!1})}},{key:"handleOpen",value:function handleOpen(){this.setState({showModal:!this.state.showModal})}},{key:"resetState",value:function resetState(){return{showModal:!1,title:{value:"",hasError:!0},content:{value:d.create("",w),hasError:!0},currentForum:{value:this.props.defaultForum,hasError:!this.props.defaultForum},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:""}}},{key:"render",value:function render(){var o=h.generateContentLengthWarning(this.state.content.value),r=e.createElement("div",{className:"error-text c-modal-error-message"},this.state.saveErrorMessage),s=void 0;this.state.forums&&(s=e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Forum"))),e.createElement(M,{ref:"currentForum",hasError:this.state.showErrors&&this.state.currentForum.hasError,handleInputChange:this.handleInputChange,forums:this.state.forums,value:this.state.currentForum.value})));var n=void 0;this.props.showContextSelector&&(n=e.createElement("div",{className:"context-selector-container"},e.createElement("div",{className:"bgcolor-divider bt3-pull-left section-divider"}),e.createElement("div",{className:"c-input-area"},e.createElement("h3",{className:"headline-1-text"},t("You're currently viewing All Sessions.")),e.createElement("label",null,e.createElement("span",{className:"caption-text color-secondary-text"},t("Which session should this thread go in?"))),e.createElement(O,{ref:"contextSelector"}))));var i=e.createElement(p,{handleClose:this.handleCloseModal,modalName:t("Create a new thread"),className:"new-thread-modal"},e.createElement("h1",{className:"c-modal-title headline-3-text"},t("Create a new thread")),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Title"))),e.createElement(T,{ref:"title",hasError:this.state.showErrors&&this.state.title.hasError,value:this.state.title.value,handleInputChange:this.handleInputChange})),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Body"))),e.createElement(N,{ref:"content",hasError:this.state.showErrors&&this.state.content.hasError,handleInputChange:this.handleInputChange,cml:this.state.content.value})),this.props.showForumSelector&&s,n,e.createElement("div",null,o,this.state.saveError&&r,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{className:"passive",onClick:this.handleCloseModalByX},t("Cancel")),"  ",e.createElement(a,{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit,trackingName:"new_thread_create"},t("Post")))));return e.createElement("div",{className:"rc-NewThreadForm shrink-block horizontal-box align-items-right"},e.createElement(a,{ref:"newThreadButton",className:"c-new-thread-button secondary large-screen",onClick:this.handleOpenModal,trackingName:"new_thread_button"},t("New Thread")),e.createElement(a,{ref:"newThreadButton",className:"nostyle align-right mobile hide",onClick:this.handleOpenModal,trackingName:"new_thread_button"},e.createElement(b,{name:"plus"})),this.state.showModal&&i)}}]),NewThreadButton}(e.Component),P=y(["SessionFilterStore","ThreadsStore"],function(e,n){var t=e.SessionFilterStore,s=e.ThreadsStore;return{showContextSelector:n.showContextSelector&&"all"===t.activeFilterQueryString,filter:t.activeFilter,threadSavingState:s.savingState,newThread:s.threadToInsert}})(u);module.exports=function(t){function NewThreadButtonComponentContextProvider(){_classCallCheck(this,NewThreadButtonComponentContextProvider),l(Object.getPrototypeOf(NewThreadButtonComponentContextProvider.prototype),"constructor",this).apply(this,arguments)}return _inherits(NewThreadButtonComponentContextProvider,t),o(NewThreadButtonComponentContextProvider,[{key:"render",value:function render(){return e.createElement(E,{context:g.getComponentContext()},e.createElement(P,this.props))}}]),NewThreadButtonComponentContextProvider}(e.Component),module.exports.BaseComp=u});
define("bundles/page/components/TrackedTextInput",["require","exports","module","react-with-addons","js/app/retracked"],function(require,exports,module){function _objectWithoutProperties(t,n){var r={};for(var e in t){if(n.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;r[e]=t[e]}return r}function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var r=a[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},n=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(a,i,p){var r=!0;e:for(;r;){var t=a,c=i,s=p;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,c);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;a=n,i=c,p=s,r=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(s)}},e=require("react-with-addons"),r=require("js/app/retracked"),a=function(a){function TrackedTextInput(){var e=this;_classCallCheck(this,TrackedTextInput),o(Object.getPrototypeOf(TrackedTextInput.prototype),"constructor",this).apply(this,arguments),this.trackClick=function(t){r.trackComponent(e.context._eventData,e.props.data,e.props.trackingName,"click"),e.props.onClick&&e.props.onClick(t)},this.trackKeyPress=function(n){"Enter"===n.key&&r.trackComponent(e.context._eventData,t({},e.props.data,{inputValue:e.refs.input.value,pressedKey:n.key}),e.props.trackingName,"key_press"),e.props.onKeyPress&&e.props.onKeyPress(n)}}return _inherits(TrackedTextInput,a),n(TrackedTextInput,[{key:"render",value:function render(){var o=this.context._eventData&&this.context._eventData.namespace||{},c=o.app,s=o.page,n=void 0,i=this.props.trackingName,r=this.props,d=r.trackingName,p=r.className,u=r.data,l=r.onClick,f=r.onKeyPress,y=r.children,a=_objectWithoutProperties(r,["trackingName","className","data","onClick","onKeyPress","children"]);return n=this.onKeyPress?"key_press":"click",e.createElement("input",t({ref:"input",onClick:this.trackClick,onKeyPress:this.trackKeyPress,"data-track":!0,"data-track-app":c,"data-track-page":s,"data-track-action":n,"data-track-component":i,className:this.props.className},a),this.props.children)}}],[{key:"propTypes",value:{trackingName:e.PropTypes.string.isRequired,className:e.PropTypes.string,data:e.PropTypes.object,onClick:e.PropTypes.func,onKeyPress:e.PropTypes.func,children:e.PropTypes.node},enumerable:!0},{key:"contextTypes",value:{_eventData:e.PropTypes.object},enumerable:!0}]),TrackedTextInput}(e.Component);module.exports=a});

define('css!bundles/discussions/components/search/__styles__/SearchBar',[],function(){})
define("bundles/discussions/components/search/SearchBar",["require","exports","module","react-with-addons","react-dom","i18n!nls/discussions","bundles/discussions/viewModels/viewContext","bundles/page/components/TrackedTextInput","css!./__styles__/SearchBar.css"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var r=a[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function get(a,u,c){var r=!0;e:for(;r;){var t=a,s=u,i=c;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;a=n,u=s,c=i,r=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(i)}},e=require("react-with-addons"),o=require("react-dom"),t=require("i18n!nls/discussions"),a=require("bundles/discussions/viewModels/viewContext"),s=require("bundles/page/components/TrackedTextInput");require("css!./__styles__/SearchBar.css");var i=function(i){function SearchBar(){var e=this;_classCallCheck(this,SearchBar),n(Object.getPrototypeOf(SearchBar.prototype),"constructor",this).apply(this,arguments),this.handleChange=function(t){e.props.handleChange(t.target.value)},this.handleSubmitClick=function(t){t.preventDefault(),e.props.handleSubmit()},this.handleClear=function(r){var t=e.context.router.location.query;t.q||e.props.handleBlur(),delete t.q,e.context.router.push({pathname:e.context.router.location.pathname,params:e.context.router.params,query:t})},this.handleBlur=function(t){e.props.handleBlur&&e.props.handleBlur()},this.checkForEnter=function(t){"Enter"===t.key&&e.props.handleSubmit()},this.submitKeyDown=function(t){"Tab"===t.key&&e.props.handleBlur?e.props.handleBlur():("Enter"===t.key||" "===t.key)&&e.props.handleSubmit()}}return _inherits(SearchBar,i),r(SearchBar,[{key:"componentDidMount",value:function componentDidMount(){this.props.focus&&o.findDOMNode(this.refs.searchbox).focus()}},{key:"render",value:function render(){var r=e.createElement("i",{onMouseDown:this.handleClear,ref:"clear",className:"cif-cancel-hint close-icon"});return e.createElement("div",{className:"rc-SearchBar search-bar expand-block expanded flex-1"},e.createElement("div",{className:"input-area"},e.createElement(s,{trackingName:"search_bar",value:this.props.query,onChange:this.handleChange,onKeyPress:this.checkForEnter,ref:"searchbox",onBlur:this.handleBlur,placeholder:t("Search")+' "'+this.context.viewContext.getDisplayName()+'"',className:"search-input"}),"string"==typeof this.props.query&&r),e.createElement("button",{onMouseDown:this.handleSubmitClick,onKeyDown:this.submitKeyDown,ref:"submit",className:"search-button","aria-label":t("submit search")},e.createElement("i",{className:"cif-search"})))}}],[{key:"propTypes",value:{handleSubmit:e.PropTypes.func.isRequired,handleChange:e.PropTypes.func.isRequired,query:e.PropTypes.string.isRequired,handleBlur:e.PropTypes.func,focus:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(a).isRequired,router:e.PropTypes.object.isRequired},enumerable:!0},{key:"defaultProps",value:{handleBlur:function handleBlur(){}},enumerable:!0}]),SearchBar}(e.Component);module.exports=i});

define('css!bundles/discussions/components/search/__styles__/SearchBox',[],function(){})
define("bundles/discussions/components/search/SearchBox",["require","exports","module","react-with-addons","i18n!nls/discussions","bundles/discussions/components/search/SearchBar","bundles/page/components/TrackedTextInput","css!./__styles__/SearchBox"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],a=Object.getOwnPropertyDescriptor(n,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(a,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=function get(s,i,u){var r=!0;e:for(;r;){var t=s,o=i,c=u;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,o);if(void 0===e){var a=Object.getPrototypeOf(t);if(null===a)return void 0;s=a,i=o,u=c,r=!0,e=a=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(c)}},e=require("react-with-addons"),t=require("i18n!nls/discussions"),n=require("bundles/discussions/components/search/SearchBar"),s=require("bundles/page/components/TrackedTextInput");require("css!./__styles__/SearchBox");var o=function(o){function SearchBox(){var e=this;_classCallCheck(this,SearchBox),a(Object.getPrototypeOf(SearchBox.prototype),"constructor",this).apply(this,arguments),this.state={showBar:!1,query:""},this.handleQueryChange=function(t){e.setState({query:t})},this.handleFocus=function(){e.setState({showBar:!0}),e.props.animateToSearch()},this.handleBlur=function(){e.setState({showBar:!1}),e.props.animateFromSearch()},this.submitSearch=function(){if(e.state.query){var t=e.state.query.replace("*","");e.context.router.push({pathname:e.context.router.location.pathname,params:{},query:{q:t}})}}}return _inherits(SearchBox,o),r(SearchBox,[{key:"render",value:function render(){return this.state.showBar?e.createElement(n,{query:this.state.query,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,focus:!0}):e.createElement("div",{className:"rc-SearchBox expand-block"},e.createElement("div",{className:"large-screen search-bar"},e.createElement("div",{className:"input-area"},e.createElement(s,{trackingName:"search_box",onClick:this.handleFocus,placeholder:t("Search"),value:this.state.query,className:"search-box search-input"})),e.createElement("button",{className:"search-button hide",onClick:this.handleFocus,"aria-label":t("expand search box")},e.createElement("i",{className:"cif-search"}))),e.createElement("div",{className:"mobile hide horizontal-box align-items-right"},e.createElement("button",{className:"nostyle",onClick:this.handleFocus,"aria-label":t("expand search box")},e.createElement("i",{className:"cif-search"}))))}}],[{key:"propTypes",value:{animateToSearch:e.PropTypes.func.isRequired,animateFromSearch:e.PropTypes.func.isRequired},enumerable:!0},{key:"contextTypes",value:{router:e.PropTypes.object.isRequired},enumerable:!0}]),SearchBox}(e.Component);module.exports=o});
define("bundles/discussions/utils/subscriptionUtils",["require","exports","module","q","jsuri","pages/open-course/common/singletons/course","pages/open-course/common/promises/courseAuthorization","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("q"),s=require("jsuri"),t=require("pages/open-course/common/singletons/course"),o=require("pages/open-course/common/promises/courseAuthorization"),i=require("bundles/phoenix/lib/apiWrapper"),n=i("/api/onDemandDiscussionSubscriptions.v1",{type:"rest"}),r={userHasTeachingPermissions:function userHasTeachingPermissions(){return o.then(function(e){if(e.canTeach||e.canModerate)return!0;return!1})},getCourseId:function getCourseId(){return t.then(function(e){return e.get("id")})},getUserSubscriptionsForCourse:function getUserSubscriptionsForCourse(){return r.getCourseId().then(function(t){var r=new s;return r.addQueryParam("q","mySubscriptions").addQueryParam("courseId",t),e(n.get(r.toString())).then(function(e){return e.elements})})},subscribeUserToEntity:function subscribeUserToEntity(r,s){return e(n.post("",{data:{entityType:r,entityId:s}}))},unsubscribeUserFromEntity:function unsubscribeUserFromEntity(r){return e(n["delete"]("/"+r)).then(function(){return r})}};module.exports=r});

define('css!bundles/discussions/components/__styles__/ControlsBar',[],function(){})
define("bundles/discussions/components/ControlsBar",["require","exports","module","classnames","react-with-addons","bundles/discussions/components/NewThreadButton","bundles/discussions/components/search/SearchBox","bundles/discussions/utils/subscriptionUtils","bundles/discussions/viewModels/viewContext","bundles/discussions/constants","i18n!nls/discussions","css!./__styles__/ControlsBar"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var o=r[t],n=Object.getOwnPropertyDescriptor(s,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var u=function(){function defineProperties(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),d=function get(r,c,u){var o=!0;e:for(;o;){var t=r,i=c,a=u;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;r=n,c=i,u=a,o=!0,e=n=void 0;continue e}if("value"in e)return e.value;var s=e.get;if(void 0===s)return void 0;return s.call(a)}},r=require("classnames"),e=require("react-with-addons"),i=require("bundles/discussions/components/NewThreadButton"),s=require("bundles/discussions/components/search/SearchBox"),a=require("bundles/discussions/utils/subscriptionUtils"),c=require("bundles/discussions/viewModels/viewContext"),o=require("bundles/discussions/constants").questionSorts,n=o.mostRecentSort,l=o.popularSort,p=o.unansweredSort,t=require("i18n!nls/discussions");require("css!./__styles__/ControlsBar");var h=function(o){function ControlsBar(){var e=this;_classCallCheck(this,ControlsBar),d(Object.getPrototypeOf(ControlsBar.prototype),"constructor",this).apply(this,arguments),this.state={canTeach:!1},this.handleChangeSort=function(t){var o=window.location.pathname+"?sort="+t.target.value+"&page=1";e.context.router.push(o)}}return _inherits(ControlsBar,o),u(ControlsBar,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this._isMounted=!0,a.userHasTeachingPermissions().then(function(t){e._isMounted&&e.setState({canTeach:t})}).done()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=!1}},{key:"render",value:function render(){var o=r("rc-ControlsBar","styleguide","horizontal-box","align-items-vertical-center",{"in-search-mode":this.props.inSearch});return e.createElement("div",{className:o},e.createElement("div",{className:"flex-2 shrink-block"},e.createElement("span",{className:"label-text color-secondary-text sort-label"},t("Sort By:")),e.createElement("select",{className:"color-secondary-text sort-select",onChange:this.handleChangeSort,value:this.props.sort},e.createElement("option",{value:n},t("Latest")),e.createElement("option",{value:l},t("Top")),e.createElement("option",{value:p},t("Unanswered")))),this.props.showSearchBox&&e.createElement(s,{animateToSearch:this.props.toggleSearch,animateFromSearch:this.props.toggleSearch}),e.createElement(i,{defaultForum:"course"!==this.context.viewContext.get("type")?this.context.viewContext:null,showForumSelector:"item"!==this.context.viewContext.get("type"),showContextSelector:this.state.canTeach}))}}],[{key:"propTypes",value:{inSearch:e.PropTypes.bool.isRequired,toggleSearch:e.PropTypes.func.isRequired,sort:e.PropTypes.string,showSearchBox:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(c),router:e.PropTypes.object.isRequired},enumerable:!0},{key:"defaultProps",value:{sort:n,showSearchBox:!0},enumerable:!0}]),ControlsBar}(e.Component);module.exports=h});

define('css!bundles/discussions/components/__styles__/ListBody',[],function(){})
define("bundles/discussions/components/ListBody",["require","exports","module","react-with-addons","i18n!nls/discussions","classnames","bundles/discussions/constants","css!./__styles__/ListBody.css"],function(require,exports,module){function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var n=o[t],s=Object.getOwnPropertyDescriptor(r,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i=function(){function defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function get(o,l,c){var n=!0;e:for(;n;){var t=o,i=l,a=c;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;o=s,l=i,c=a,n=!0,e=s=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(a)}},e=require("react-with-addons"),n=require("i18n!nls/discussions"),s=require("classnames"),o=require("bundles/discussions/constants"),t=o.loadingStates;require("css!./__styles__/ListBody.css");var a=function(o){function ListBody(){_classCallCheck(this,ListBody),r(Object.getPrototypeOf(ListBody.prototype),"constructor",this).apply(this,arguments),this.state={transitionEnded:!1}}return _inherits(ListBody,o),i(ListBody,[{key:"componentDidMount",value:function componentDidMount(){this.refs.body.addEventListener("transitionend",function(e){this.setState({transitionEnded:!0})}.bind(this))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.setState({transitionEnded:!1})}},{key:"render",value:function render(){var r=void 0;r=this.props.loadingState===t.DONE&&this.props.children.length>0?e.createElement("ol",{className:"nostyle"},this.props.children):this.props.loadingState===t.DONE&&0===this.props.children.length?e.createElement("div",{className:"message color-hint-text"},this.props.emptyStatePlaceholderText):this.props.loadingState===t.ERROR?e.createElement("div",{className:"message color-hint-text"},n("There was a problem, please reload the page and try again.")):this.props.loadingState===t.LOADING?e.createElement("div",{className:"message"},e.createElement("i",{className:"cif-spinner cif-spin cif-2x"})):e.createElement("div",null);var o=s("rc-ListBody",{"c-list-expanded":this.props.loadingState===t.DONE&&this.props.children.length>0,"c-post-transition":this.state.transitionEnded}),i=s("c-pre-fossil",{"c-fossilized":this.props.fossilized});return e.createElement("div",{className:o,ref:"body"},e.createElement("div",{className:i}),r)}}],[{key:"propTypes",value:{loadingState:e.PropTypes.string.isRequired,children:e.PropTypes.array,fossilized:e.PropTypes.bool,emptyStatePlaceholderText:e.PropTypes.string},enumerable:!0},{key:"defaultProps",value:{children:[],fossilized:!1,emptyStatePlaceholderText:n("No Results")},enumerable:!0}]),ListBody}(e.Component);module.exports=a});

define('css!bundles/discussions/components/__styles__/NewContent',[],function(){})
define("bundles/discussions/components/Polling",["require","exports","module","react-with-addons","i18n!nls/discussions","bundles/discussions/constants","bundles/discussions/actions/ThreadsActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!bundles/discussions/components/__styles__/NewContent.css"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),u=function get(s,u,a){var n=!0;e:for(;n;){var t=s,i=u,c=a;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;s=o,u=i,a=c,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(c)}},e=require("react-with-addons"),r=require("i18n!nls/discussions"),s=require("bundles/discussions/constants"),o=s.PollingState,c=s.questionSorts,t=require("bundles/discussions/actions/ThreadsActions"),n=t.startPolling,a=t.stopPolling,l=t.updateFromPoll,p=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!bundles/discussions/components/__styles__/NewContent.css");var d=function(t){function Polling(){var e=this;_classCallCheck(this,Polling),u(Object.getPrototypeOf(Polling.prototype),"constructor",this).apply(this,arguments),this.handleUpdate=function(){var t=e.context.router;e.context.executeAction(l),t.push({pathname:t.location.pathname,query:{page:1,sort:c.mostRecentSort}})},this.handleRestart=function(){e.context.executeAction(n)}}return _inherits(Polling,t),i(Polling,[{key:"componentDidMount",value:function componentDidMount(){this.context.executeAction(n)}},{key:"componentWillUpdate",value:function componentWillUpdate(e){this.props.currentForumId!==e.currentForumId&&this.context.executeAction(n)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.context.executeAction(a)}},{key:"renderNewContent",value:function renderNewContent(){return e.createElement("div",{className:"horizontal-box align-items-absolute-center c-discussion-new-content",onClick:this.handleUpdate},e.createElement("a",{ref:"contentLink"},e.createElement("span",null,r("Load new threads"))))}},{key:"renderRestart",value:function renderRestart(){return e.createElement("div",{className:"horizontal-box align-items-absolute-center c-discussion-new-content",onClick:this.handleRestart},e.createElement("a",{ref:"refreshLink"},e.createElement("span",null,r("Please click to check for new threads"))))}},{key:"render",value:function render(){return e.createElement("div",{className:"rc-NewContent"},this.props.pollingState===o.HAS_NEW&&this.renderNewContent(),this.props.pollingState===o.STOPPED&&this.renderRestart())}}],[{key:"propTypes",value:{sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,totalThreads:e.PropTypes.number,pollingState:e.PropTypes.string,currentForumId:e.PropTypes.string},enumerable:!0},{key:"contextTypes",value:{router:e.PropTypes.object.isRequired,executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),Polling}(e.Component);module.exports=p(d,["ThreadsStore"],function(t){var e=t.ThreadsStore;return{currentForumId:e.currentForumId,pollingState:e.getPollingState()}})});

define('css!bundles/phoenix/components/__styles__/ProfileImage',[],function(){})
define("nls/classmates",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/classmates/components/__styles__/ProfileImageWithRole',[],function(){})
define("bundles/classmates/components/ProfileImageWithRole",["require","exports","module","react-with-addons","classnames","bundles/phoenix/components/ProfileImage","i18n!nls/classmates","css!bundles/classmates/components/__styles__/ProfileImageWithRole"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(o,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(s,i,c){var r=!0;e:for(;r;){var t=s,a=i,l=c;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;s=o,i=a,c=l,r=!0,e=o=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(l)}},e=require("react-with-addons"),n=require("classnames"),s=require("bundles/phoenix/components/ProfileImage"),t=require("i18n!nls/classmates");require("css!bundles/classmates/components/__styles__/ProfileImageWithRole");var a=function(a){function ProfileImageWithRole(){_classCallCheck(this,ProfileImageWithRole),o(Object.getPrototypeOf(ProfileImageWithRole.prototype),"constructor",this).apply(this,arguments)}return _inherits(ProfileImageWithRole,a),r(ProfileImageWithRole,[{key:"getCourseRoleIconInfo",value:function getCourseRoleIconInfo(e){switch(e){case"INSTRUCTOR":return{letter:t("I"),className:"bgcolor-primary"};case"MENTOR":return{letter:t("M"),className:"bgcolor-accent-brown"};default:return void 0}}},{key:"render",value:function render(){var t=this.getCourseRoleIconInfo(this.props.courseRole);return e.createElement("span",{className:"rc-ProfileImageWithRole"},e.createElement(s,{fullName:this.props.fullName,profileImageUrl:this.props.profileImageUrl,width:36,height:36}),t&&e.createElement("span",{className:n("course-role-icon","caption-text","horizontal-box","align-items-absolute-center",t.className)},t.letter))}}],[{key:"propTypes",value:{courseRole:e.PropTypes.string.isRequired,fullName:e.PropTypes.string.isRequired,profileImageUrl:e.PropTypes.string.isRequired},enumerable:!0}]),ProfileImageWithRole}(e.Component);module.exports=a});

define('css!bundles/classmates/components/__styles__/MiniProfile',[],function(){})
define("bundles/classmates/components/MiniProfile",["require","exports","module","underscore","react-with-addons","classnames","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/coursera.react-intl","bundles/classmates/actions/ClassmatesProfileActions","bundles/iconfont/Icon","bundles/classmates/components/ProfileImageWithRole","bundles/classmates/utils/lib","bundles/ondemand/appContextSingleton","i18n!nls/classmates","css!./__styles__/MiniProfile.css"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var o=s[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o=function(){function defineProperties(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=function get(s,l,c){var o=!0;e:for(;o;){var t=s,i=l,a=c;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;s=n,l=i,c=a,o=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(a)}},_=require("underscore"),e=require("react-with-addons"),r=require("classnames"),l=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),f=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),y=require("js/lib/coursera.react-intl"),s=y.FormattedMessage,a=require("bundles/classmates/actions/ClassmatesProfileActions"),c=a.getClassmatesProfile,u=require("bundles/iconfont/Icon"),p=require("bundles/classmates/components/ProfileImageWithRole"),t=require("bundles/classmates/utils/lib"),m=t.getProgressString,d=t.getCourseRoleString,v=t.hasModeratorAccess,b=require("bundles/ondemand/appContextSingleton"),i=require("i18n!nls/classmates");require("css!./__styles__/MiniProfile.css");var h=function(t){function MiniProfile(){_classCallCheck(this,MiniProfile),n(Object.getPrototypeOf(MiniProfile.prototype),"constructor",this).apply(this,arguments),this.state={transitionContainer:!1}}return _inherits(MiniProfile,t),o(MiniProfile,[{key:"componentWillMount",value:function componentWillMount(){(!this.props.profile||_(this.props.profile).isEmpty())&&this.context.executeAction(c,this.props.externalId)}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this.transitionTimeout=setTimeout(function(){e.setState({transitionContainer:!0})},100)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.transitionTimeout&&clearTimeout(this.transitionTimeout)}},{key:"hasLoaded",value:function hasLoaded(){return this.props.profile&&!_(this.props.profile).isEmpty()}},{key:"renderCourseProgress",value:function renderCourseProgress(){var e=this.props.profile,t=this.props.courseRole||e.courseRole;if(v(t))return d(t);return m(e.courseProgressPercentage)}},{key:"renderMiniProfile",value:function renderMiniProfile(){var t=this.props.profile,o=this.props.courseRole||t.courseRole,n=r("profile-footer","caption-text","color-secondary-text","bgcolor-black-g1","horizontal-box","align-items-absolute-center");return e.createElement("div",{className:"vertical-box"},e.createElement("div",{className:"vertical-box profile-header align-items-vertical-center"},e.createElement("div",{className:"profile-photo"},e.createElement(p,{courseRole:o,fullName:t.fullName,profileImageUrl:t.photoUrl||""})),e.createElement("div",{className:"body-1-text"},t.fullName),e.createElement("div",{className:"caption-text color-secondary-text"},this.renderCourseProgress())),e.createElement("div",{className:n},e.createElement(s,{message:i("{postsCount} {postsCount, plural, =1 { post} other { posts}}"),postsCount:t.postsCount||"0"}),e.createElement("span",{className:"dot-spacing"}," · "),e.createElement(s,{message:i("{upvotes} {upvotes, plural, =1 { upvote} other { upvotes}}"),upvotes:t.votesReceivedCount||"0"})))}},{key:"renderLoading",value:function renderLoading(){return e.createElement("div",{className:"loading-state"},e.createElement(u,{name:"spinner",size:"3x",spin:!0}))}},{key:"render",value:function render(){var t=r("rc-MiniProfile","card-one-clicker",this.props.orientationClass,{"transition-in":this.state.transitionContainer});return e.createElement("div",{className:t},this.hasLoaded()?this.renderMiniProfile():this.renderLoading())}}],[{key:"propTypes",value:{externalId:e.PropTypes.string.isRequired,courseRole:e.PropTypes.string,orientationClass:e.PropTypes.string.isRequired,profile:e.PropTypes.object},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),MiniProfile}(e.Component),g=f(h,["ClassmatesProfileStore"],function(e,t){var o=e.ClassmatesProfileStore,n=t.externalId;return{profile:_(o.profiles).findWhere({externalId:n})}});module.exports=function(t){function MiniProfileApp(){_classCallCheck(this,MiniProfileApp),n(Object.getPrototypeOf(MiniProfileApp.prototype),"constructor",this).apply(this,arguments)}return _inherits(MiniProfileApp,t),o(MiniProfileApp,[{key:"render",value:function render(){return e.createElement(l,{context:b.getComponentContext()},e.createElement(g,this.props))}}]),MiniProfileApp}(e.Component)});
define("bundles/classmates/components/MiniProfileRenderer",["require","exports","module","jquery","react-with-addons","bundles/classmates/components/MiniProfile"],function(require,exports,module){var $=require("jquery"),e=require("react-with-addons"),s=require("bundles/classmates/components/MiniProfile"),i=e.createClass({displayName:"MiniProfileRenderer",propTypes:{externalId:e.PropTypes.string.isRequired,courseRole:e.PropTypes.string,source:e.PropTypes.string.isRequired},statics:{MAX_HEIGHT:200,MIN_HOVER_TIME:500},getInitialState:function getInitialState(){return{showMiniProfile:!1}},componentWillUnmount:function componentWillUnmount(){this.displayTimeout&&clearTimeout(this.displayTimeout)},displayTimeout:null,isDisplayMethodLocked:!1,display:function display(s){var e=this;if(this.isDisplayMethodLocked)return;var t=$(window).height()-(s.pageY-$(window).scrollTop())>i.MAX_HEIGHT;this.isDisplayMethodLocked=!0,this.displayTimeout=setTimeout(function(){var i=e.props.source+(t?"South":"North");e.setState({showMiniProfile:!0,className:i})},i.MIN_HOVER_TIME)},hide:function hide(e){this.displayTimeout&&clearTimeout(this.displayTimeout),this.isDisplayMethodLocked=!1,this.setState({showMiniProfile:!1})},render:function render(){return this.state.showMiniProfile&&e.createElement(s,{externalId:this.props.externalId,courseRole:this.props.courseRole,orientationClass:this.state.className})}});module.exports=i});

define('css!bundles/discussions/components/__styles__/ProfileName',[],function(){})
define("bundles/discussions/components/ProfileName",["require","exports","module","react-with-addons","bundles/classmates/components/MiniProfileRenderer","bundles/discussions/utils/discussionsUrl","css!./__styles__/ProfileName"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),r=0;r<i.length;r++){var t=i[r],n=Object.getOwnPropertyDescriptor(o,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r=function(){function defineProperties(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),t=function get(i,a,l){var t=!0;e:for(;t;){var r=i,s=a,u=l;t=!1,null===r&&(r=Function.prototype);var e=Object.getOwnPropertyDescriptor(r,s);if(void 0===e){var n=Object.getPrototypeOf(r);if(null===n)return void 0;i=n,a=s,l=u,t=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(u)}},e=require("react-with-addons"),n=require("bundles/classmates/components/MiniProfileRenderer"),o=require("bundles/discussions/utils/discussionsUrl"),i=o.getProfileLink;require("css!./__styles__/ProfileName");var s=function(o){function ProfileName(){var e=this;_classCallCheck(this,ProfileName),t(Object.getPrototypeOf(ProfileName.prototype),"constructor",this).apply(this,arguments),this.onNameClick=function(r){e.context.router.push(i(e.props.externalId))}}return _inherits(ProfileName,o),r(ProfileName,[{key:"render",value:function render(){var r=this;return e.createElement("span",{className:"rc-ProfileName"},e.createElement("button",{className:"nostyle profile-name",onClick:this.onNameClick,onMouseEnter:function(e){return r.refs.miniProfile.display(e)},onMouseLeave:function(e){return r.refs.miniProfile.hide(e)}},this.props.fullName),e.createElement("span",{"data-js":"mini-profile"},e.createElement(n,{ref:"miniProfile",source:"profileName",externalId:this.props.externalId,userId:this.props.userId})))}}],[{key:"propTypes",value:{fullName:e.PropTypes.string.isRequired,externalId:e.PropTypes.string.isRequired,userId:e.PropTypes.number},enumerable:!0},{key:"contextTypes",value:{router:e.PropTypes.object.isRequired},enumerable:!0}]),ProfileName}(e.Component);module.exports=s});
define("bundles/discussions/api/answers",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/onDemandDiscussionAnswers.v1/",{type:"rest"})});
define("bundles/discussions/actions/DropdownActions",["require","exports","module","bundles/discussions/api/answers","bundles/discussions/api/questions","jsuri"],function(require,exports,module){var t=require("bundles/discussions/api/answers"),a=require("bundles/discussions/api/questions"),n=require("jsuri"),e=function getApi(n){return"question"===n.type?a:t};exports.editThread=function(p,e){var i=e.questionId,o=e.question,s=e.details,d=e.reason,r=e.handleSuccess,u=e.handleFailure,c=e.dontNotify,l={content:{question:o,details:s}},t=new n(i);d&&t.addQueryParam("reason",d),c&&t.addQueryParam("noModerationEmail","true"),a.put(t.toString(),{data:l}).then(function(n){r(n),p.dispatch("EDIT_THREAD",{questionId:i,question:o,details:s})}).fail(u).done()},exports.editReply=function(o,a){var e=a.reply,s=a.content,d=a.handleFailure,r=a.onSuccess,u={content:s},i=new n(e.id);e.editReason&&i.addQueryParam("reason",e.editReason),e.dontNotify&&i.addQueryParam("noModerationEmail","true"),t.put(i.toString(),{data:u}).then(function(n){o.dispatch("EDIT_REPLY",{reply:e,content:s}),o.dispatch("HIDE_REPLY_EDITOR",{reply:e}),r()}).fail(d).done()},exports.showReplyEditor=function(e,n){var t=n.reply,a=n.reason,i=n.dontNotify;e.dispatch("SHOW_REPLY_EDITOR",{reply:t,reason:a,dontNotify:i})},exports.hideReplyEditor=function(n,e){var t=e.reply;n.dispatch("HIDE_REPLY_EDITOR",{reply:t})},exports.deletePost=function(s,t){var a=t.post,i=t.reason,d=t.handleSuccess,r=t.handleFailure,u=t.dontNotify,o=new n(a.id);i&&o.addQueryParam("reason",i),u&&o.addQueryParam("noModerationEmail","true"),e(a)["delete"](o.toString()).then(function(n){d(n),i?s.dispatch("SOFT_DELETE_POST",{post:a}):"question"!==a.type&&s.dispatch("DELETE_POST",{post:a})}).fail(r).done()},exports.undoDelete=function(i,t){var a=t.post,o=t.handleFailure,s=t.onSuccess,d=(new n).addQueryParam("action","undoDelete").addQueryParam("id",a.id);e(a).post(d.toString()).then(function(n){i.dispatch("UNDO_DELETE",{post:a}),s()}).fail(o).done()},exports.flagPost=function(i,t){var a=t.post,o=t.handleSuccess,s=t.handleFailure,d=(new n).addQueryParam("action","flag").addQueryParam("id",a.id);e(a).post(d.toString()).then(function(n){i.dispatch("FLAG_POST",{post:a}),o()}).fail(s).done()},exports.unflagPost=function(i,t){var a=t.post,o=t.handleSuccess,s=t.handleFailure,d=(new n).addQueryParam("action","unflag").addQueryParam("id",a.id);e(a).post(d.toString()).then(function(n){i.dispatch("UNFLAG_POST",{post:a}),o()}).fail(s).done()},exports.showAdminDetails=function(n,e){var t=e.post;n.dispatch("SHOW_ADMIN_DETAILS",{post:t})},exports.hideAdminDetails=function(n,e){var t=e.post;n.dispatch("HIDE_ADMIN_DETAILS",{post:t})}});

define('css!bundles/discussions/components/__styles__/SoftDelete',[],function(){})
define("bundles/discussions/components/SoftDelete",["require","exports","module","i18n!nls/discussions","react-with-addons","bundles/discussions/actions/DropdownActions","css!./__styles__/SoftDelete"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(o,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(s,c,l){var r=!0;e:for(;r;){var t=s,i=c,a=l;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;s=o,c=i,l=a,r=!0,e=o=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}},t=require("i18n!nls/discussions"),e=require("react-with-addons"),n=require("bundles/discussions/actions/DropdownActions"),s=n.undoDelete;require("css!./__styles__/SoftDelete");var i=function(n){function SoftDelete(){var e=this;_classCallCheck(this,SoftDelete),o(Object.getPrototypeOf(SoftDelete.prototype),"constructor",this).apply(this,arguments),this.state={showError:!1},this.handleUndoDelete=function(t){t.preventDefault(),e.context.executeAction(s,{post:e.props.entry,handleFailure:e.handleError,onSuccess:function onSuccess(){}})},this.handleError=function(t){e.setState({showError:!0})}}return _inherits(SoftDelete,n),r(SoftDelete,[{key:"render",value:function render(){var s=e.createElement("div",{ref:"error",className:"c-soft-delete-error c-error-text"},t("Error undoing delete, please reload the page and try again")),o=void 0,r=this.props.entry;o=r.state.deleted&&r.state.deleted.userId===r.creator.id;var i=t(o?"This post has been deleted by its creator":"This post has been deleted by a moderator"),a=e.createElement("div",{className:"c-soft-delete-header"},e.createElement("span",{ref:"message"},i," · "),e.createElement("a",{ref:"undoDelete",href:"",onClick:this.handleUndoDelete},t("Undo Delete"))),n="c-soft-delete";return this.props.hideUndoDelete&&(n+=" c-soft-delete-clickable"),e.createElement("div",{className:"rc-SoftDelete"},e.createElement("div",{className:n},!this.props.hideUndoDelete&&!this.state.showError&&a,this.state.showError&&s))}}],[{key:"propTypes",value:{hideUndoDelete:e.PropTypes.bool,entry:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),SoftDelete}(e.Component);module.exports=i});
define("bundles/discussions/components/WhoRepliedBadge",["require","exports","module","react-with-addons","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function get(i,c,s){var r=!0;e:for(;r;){var t=i,a=c,u=s;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,c=a,s=u,r=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(u)}},t=require("react-with-addons"),e=require("i18n!nls/discussions"),o={INSTRUCTOR_CREATED:e("Instructor Created"),STAFF_CREATED:e("Staff Created"),MENTOR_CREATED:e("Mentor Created"),INSTRUCTOR_RESPONDED:e("Instructor Replied"),STAFF_RESPONDED:e("Staff Replied"),MENTOR_RESPONDED:e("Mentor Replied")},i=function(e){function WhoRepliedBadge(){_classCallCheck(this,WhoRepliedBadge),n(Object.getPrototypeOf(WhoRepliedBadge.prototype),"constructor",this).apply(this,arguments)}return _inherits(WhoRepliedBadge,e),r(WhoRepliedBadge,[{key:"render",value:function render(){var r=this.props.badge,e=o[r];if(!e)return null;return t.createElement("span",{className:"moderator-replied-badge bgcolor-accent-brown-light"},e)}}],[{key:"propTypes",value:{badge:t.PropTypes.string},enumerable:!0}]),WhoRepliedBadge}(t.Component);module.exports=i});
define("bundles/discussions/lib/propTypes",["require","exports","module","react-with-addons","underscore","bundles/discussions/constants","bundles/phoenix/propTypes/cml"],function(require,exports,module){var s=require("react-with-addons"),e=s.PropTypes,_=require("underscore"),i=require("bundles/discussions/constants"),r=i.naptimeForumTypes,n=require("bundles/phoenix/propTypes/cml");exports.forumMetadataPropType=e.shape({id:e.string.isRequired,title:e.string.isRequired,forumType:e.shape({typeName:e.oneOf(_(r).values()).isRequired,definition:e.object.isRequired}).isRequired,description:n.isRequired,threadCount:e.number,mostRecentThread:e.object}),exports.profilePropType=e.shape({fullName:e.string.isRequired,userId:e.number.isRequired,externalUserId:e.string.isRequired})});
define("bundles/discussions/utils/threadUtils",["require","exports","module"],function(require,exports,module){exports.formatCount=function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(e>1e3){if(t)return Math.round(e/1e3)+"k";return Math.round(e/1e3*10)/10+"k"}return e}});

define('css!bundles/discussions/components/__styles__/ThreadsListEntry',[],function(){})
define("bundles/discussions/components/ThreadsListEntry",["require","exports","module","classnames","moment","react-with-addons","bundles/discussions/components/ProfileName","bundles/discussions/components/SoftDelete","bundles/discussions/components/WhoRepliedBadge","bundles/discussions/lib/propTypes","bundles/discussions/utils/threadUtils","bundles/discussions/viewModels/viewContext","bundles/page/components/TrackedLink2","bundles/phoenix/components/CMLText","i18n!nls/discussions","css!bundles/discussions/components/__styles__/ThreadsListEntry"],function(require,exports,module){function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var s=o[t],n=Object.getOwnPropertyDescriptor(r,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),r=function get(o,l,c){var s=!0;e:for(;s;){var t=o,i=l,a=c;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;o=n,l=i,c=a,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(a)}},t=require("classnames"),c=require("moment"),e=require("react-with-addons"),d=require("bundles/discussions/components/ProfileName"),f=require("bundles/discussions/components/SoftDelete"),l=require("bundles/discussions/components/WhoRepliedBadge"),a=require("bundles/discussions/lib/propTypes"),o=a.profilePropType,p=require("bundles/discussions/utils/threadUtils"),i=p.formatCount,u=require("bundles/discussions/viewModels/viewContext"),m=require("bundles/page/components/TrackedLink2"),y=m.TrackedReactLink,b=require("bundles/phoenix/components/CMLText"),s=require("i18n!nls/discussions");require("css!bundles/discussions/components/__styles__/ThreadsListEntry");var v=function(t){function Metadata(){_classCallCheck(this,Metadata),r(Object.getPrototypeOf(Metadata.prototype),"constructor",this).apply(this,arguments)}return _inherits(Metadata,t),n(Metadata,[{key:"render",value:function render(){var t=this.props,r=t.badge,n=t.profile,o=t.metadataLabel,i=t.timestamp;return e.createElement("div",{className:"entry-metadata caption-text color-secondary-text"},e.createElement(l,{badge:r}),o||s("Created by")," ",e.createElement(d,{fullName:n.fullName,externalId:n.externalUserId,userId:n.userId}),e.createElement("span",{className:"timestamp-separator"}," · "),e.createElement("span",{className:"timestamp"},c(new Date(i)).fromNow()))}}],[{key:"propTypes",value:{profile:o.isRequired,timestamp:e.PropTypes.number.isRequired,badge:e.PropTypes.string,metadataLabel:e.PropTypes.string},enumerable:!0}]),Metadata}(e.Component),g=function(a){function ThreadsListEntry(){_classCallCheck(this,ThreadsListEntry),r(Object.getPrototypeOf(ThreadsListEntry.prototype),"constructor",this).apply(this,arguments)}return _inherits(ThreadsListEntry,a),n(ThreadsListEntry,[{key:"render",value:function render(){var n=this.props,g=n.className,T=n.linkClassName,x=n.entry,E=n.isPinned,C=n.isDeleted,R=n.isRead,u=n.threadUrl,o=n.viewCount,a=n.answerCount,P=n.badge,m=n.profile,h=n.metadataLabel,l=n.forumName,N=n.threadName,c=n.snippet,w=n.timestamp,k=n.questionId,O=n.questionUserId,q=t("headline-1-text question-title color-primary-text",{"question-title-bold":!R}),p="undefined"!=typeof o,d="undefined"!=typeof a,r=p||d;return e.createElement("li",{className:t("rc-ThreadsListEntry",{"horizontal-box":r},g)},E&&e.createElement("span",{className:"cif-stack cif-lg pin-container align-self-start"},e.createElement("i",{className:"cif-circle cif-stack-2x pin-background"}),e.createElement("i",{className:"cif-pin cif-stack-lg pin-icon"})),e.createElement(y,{href:u,className:t("flex-1 align-self-center",T),trackingName:"thread_list_entry",data:{question_id:k,question_user_id:O}},l&&e.createElement("div",{className:"forum-info caption-text color-secondary-text"},l),e.createElement("div",{className:q},N),c&&e.createElement("div",{className:t("body-1-text","entry-snippet")},e.createElement(b,{cml:c})),e.createElement(v,{badge:P,profile:m,metadataLabel:h,timestamp:w})),r&&e.createElement("div",{className:"horizontal-box align-self-center color-secondary-text c-reply-area"},p&&e.createElement("div",{className:"vertical-box align-items-vertical-center view-count"},e.createElement("div",{className:"label-text color-secondary-text"},i(o)),e.createElement("div",{className:"caption-text color-secondary-text"},s("views"))),d&&e.createElement("div",{className:"vertical-box align-items-vertical-center"},e.createElement("div",{className:"label-text color-secondary-text"},i(a)),e.createElement("div",{className:"caption-text color-secondary-text"},s("replies")))),C&&e.createElement(f,{entry:x,hideUndoDelete:!0}))}}],[{key:"propTypes",value:{threadUrl:e.PropTypes.string.isRequired,profile:o.isRequired,timestamp:e.PropTypes.number.isRequired,threadName:e.PropTypes.string.isRequired,questionId:e.PropTypes.string.isRequired,questionUserId:e.PropTypes.number.isRequired,className:e.PropTypes.string,linkClassName:e.PropTypes.string,entry:e.PropTypes.object,isPinned:e.PropTypes.bool,isDeleted:e.PropTypes.bool,isRead:e.PropTypes.bool,viewCount:e.PropTypes.number,answerCount:e.PropTypes.number,badge:e.PropTypes.string,metadataLabel:e.PropTypes.string,snippet:e.PropTypes.object,forumName:e.PropTypes.string},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(u).isRequired},enumerable:!0},{key:"defaultProps",value:{isPinned:!1,isDeleted:!1,isRead:!0},enumerable:!0}]),ThreadsListEntry}(e.Component);module.exports=g});
define("bundles/discussions/utils/unreadTracker",["require","exports","module","js/lib/coursera.store","moment"],function(require,exports,module){var e=require("js/lib/coursera.store"),s=require("moment"),r="unreadTracker";exports.markRead=function(t){var s=e.get(r)||{};s[t]=Date.now(),e.set(r,s)},exports.hasUnread=function(t){var a=e.get(r)||{},n=a[t.id],o=t.lastAnsweredAt||t.createdAt;return!n||s(n).isBefore(o)}});

define('css!bundles/discussions/components/__styles__/ThreadsList',[],function(){})

define('css!bundles/page/components/__styles__/PaginationControls',[],function(){})
define("bundles/discussions/components/ThreadsList",["require","exports","module","react-with-addons","underscore","bundles/discussions/actions/ThreadsActions","bundles/discussions/components/ControlsBar","bundles/discussions/components/ListBody","bundles/discussions/components/Polling","bundles/discussions/components/ThreadsListEntry","bundles/discussions/constants","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/unreadTracker","bundles/discussions/viewModels/viewContext","bundles/page/components/PaginationControls","js/lib/waitFor","i18n!nls/discussions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/ThreadsList.css","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),s=function get(r,u,c){var s=!0;e:for(;s;){var t=r,i=u,a=c;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;r=n,u=i,c=a,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},e=require("react-with-addons"),d=require("underscore"),m=d.compose,x=require("bundles/discussions/actions/ThreadsActions"),n=x.loadThreads,a=require("bundles/discussions/components/ControlsBar"),u=require("bundles/discussions/components/ListBody"),c=require("bundles/discussions/components/Polling"),i=require("bundles/discussions/components/ThreadsListEntry"),l=require("bundles/discussions/constants"),p=l.loadingStates,g=require("bundles/discussions/utils/discussionsUrl"),h=require("bundles/discussions/utils/discussionsUrl"),y=h.getAllThreadsDiscussionsUrl,v=require("bundles/discussions/utils/unreadTracker"),o=require("bundles/discussions/viewModels/viewContext"),b=require("bundles/page/components/PaginationControls"),f=require("js/lib/waitFor"),r=require("i18n!nls/discussions"),w=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/ThreadsList.css"),require("css!bundles/page/components/__styles__/PaginationControls.css");var C=function(d){function ThreadsList(){var t=this;_classCallCheck(this,ThreadsList),s(Object.getPrototypeOf(ThreadsList.prototype),"constructor",this).apply(this,arguments),this.state={inSearch:!1},this.onPageChange=function(e){var s=t.context.router;s.push({pathname:t.context.router.location.pathname,params:{},query:Object.assign(t.context.router.location.query,{page:e})})},this.toggleSearch=function(){t.setState({inSearch:!t.state.inSearch})},this.renderEntry=function(s){var o=t.props,c=o.forumMetadatas,d=o.activeFilterQueryString,a=t.context.viewContext,n=c[s.context.definition.forumId],u=s.lastAnsweredAt&&s.lastAnsweredBy,l=!v.hasUnread(s),p=u?s.lastAnsweredBy:s.creator,h=r(u?"Last post by":"Created by");return e.createElement(i,{key:s.id+d,threadUrl:g.getDeepLink(a.get("discussionsLink"),s),profile:p,timestamp:s.lastAnsweredAt||s.createdAt,threadName:s.content.question,questionId:s.id,questionUserId:s.creator.id,entry:s,isPinned:!(!s.state||!s.state.pinned),isDeleted:!(!s.state||!s.state.deleted),isRead:l,forumName:n&&n.id!==a.get("id")&&n.title,metadataLabel:h,viewCount:Math.max(s.answerCount,s.viewCount),answerCount:s.answerCount,badge:s.answerBadge.answerBadge})}}return _inherits(ThreadsList,d),t(ThreadsList,[{key:"componentWillMount",value:function componentWillMount(){var e=this.props,t=e.sort,s=e.page,o=this.context.viewContext;this.context.executeAction(n,{filterQueryString:this.props.activeFilterQueryString,sort:t,pageNum:s,viewContext:o})}},{key:"componentWillUpdate",value:function componentWillUpdate(e,s,t){(this.props.sort!==e.sort||this.props.page!==e.page||this.context.viewContext.get("id")!==t.viewContext.get("id")||this.props.activeFilterQueryString!==e.activeFilterQueryString)&&this.context.executeAction(n,{filterQueryString:e.activeFilterQueryString,sort:e.sort,pageNum:e.page,viewContext:t.viewContext})}},{key:"render",value:function render(){var t=this.context.viewContext.get("type")===this.context.viewContext.types().Item,s=this.context.router.isActive({pathname:y()});return e.createElement("div",{className:"rc-ThreadsList styleguide horizontal-box"},e.createElement("div",{className:"flex-2"},!t&&e.createElement(c,{sort:this.props.sort,page:this.props.page,totalThreads:this.props.threadCount}),e.createElement("div",{className:"card-rich-interaction"},e.createElement(a,{sort:this.props.sort,inSearch:this.state.inSearch,toggleSearch:this.toggleSearch,showSearchBox:!s}),e.createElement(u,{emptyStatePlaceholderText:r("No Posts Yet"),fossilized:this.state.inSearch,loadingState:this.props.loadingState},this.props.entries&&this.props.entries.map(this.renderEntry))),e.createElement(b,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5})))}}],[{key:"propTypes",value:{sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,videoPlayer:e.PropTypes.object,entries:e.PropTypes.array,loadingState:e.PropTypes.oneOf(Object.keys(p)),pageCount:e.PropTypes.number,threadCount:e.PropTypes.number,activeFilterQueryString:e.PropTypes.string,forumMetadatas:e.PropTypes.object},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(o).isRequired,executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},enumerable:!0}]),ThreadsList}(e.Component),P=function(n){function ThreadsListContainer(){_classCallCheck(this,ThreadsListContainer),s(Object.getPrototypeOf(ThreadsListContainer.prototype),"constructor",this).apply(this,arguments)}return _inherits(ThreadsListContainer,n),t(ThreadsListContainer,[{key:"render",value:function render(){if(!this.context.viewContext)return!1;return e.createElement(C,this.props)}}],[{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(o).isRequired},enumerable:!0}]),ThreadsListContainer}(e.Component);module.exports=m(w(["SessionFilterStore","ForumMetadataStore","ThreadsStore"],function(t){var s=t.SessionFilterStore,n=t.ForumMetadataStore,e=t.ThreadsStore;return{activeFilterQueryString:s.activeFilterQueryString,forumMetadatas:n.getAllForumMetadatas(),entries:e.getThreadsPage(),loadingState:e.getLoadingState(),pageCount:e.getPageCount(),threadCount:e.getThreadCount()}}),f(function(e){return!(void 0===e.activeFilterQueryString||!e.sort||!e.page)}))(P)});
define("bundles/discussions/api/answerPosition",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/onDemandDiscussionAnswerPositions.v1/",{type:"rest"})});
define("bundles/discussions/utils/threadDetailsUtils",["require","exports","module","q","jsuri","bundles/discussions/api/questions","bundles/discussions/api/answerPosition"],function(require,exports,module){var r=require("q"),n=require("jsuri"),a=require("bundles/discussions/api/questions"),e=require("bundles/discussions/api/answerPosition"),i={closeThread:function closeThread(i){var e=new n;return e.addQueryParam("action","close"),e.addQueryParam("id",i),e.addQueryParam("reason","inappropriate"),r(a.post(e.toString()))},uncloseThread:function uncloseThread(i){var e=new n;return e.addQueryParam("action","undoClose"),e.addQueryParam("id",i),r(a.post(e.toString()))},pinThread:function pinThread(i){var e=new n;return e.addQueryParam("action","pin"),e.addQueryParam("id",i),e.addQueryParam("reason","inappropriate"),r(a.post(e.toString()))},unpinThread:function unpinThread(i){var e=new n;return e.addQueryParam("action","undoPin"),e.addQueryParam("id",i),r(a.post(e.toString()))},getAnswerPosition:function getAnswerPosition(a,i,s){var t=(new n).addQueryParam("q","position").addQueryParam("id",a).addQueryParam("sort",i);return r(e.get(t.toString())).then(function(r){var n=r.elements.length>0?r.elements[0].position:-1,a=n>=0?Math.floor(n/s)+1:1;return a})}};module.exports=i});
define("bundles/discussions/actions/ThreadSettingsActions",["require","exports","module","bundles/discussions/utils/threadDetailsUtils"],function(require,exports,module){var n=require("bundles/discussions/utils/threadDetailsUtils"),e=function errorAction(n,e){n.dispatch("THREAD_SETTINGS_ERROR",e)};exports.addThread=function(n,e){n.dispatch("ADD_THREAD",e)},exports.closeThread=function(t,i){n.closeThread(i).then(function(){t.dispatch("CLOSE_THREAD",i)},function(n){t.executeAction(e,n)}).done()},exports.uncloseThread=function(t,i){n.uncloseThread(i).then(function(){t.dispatch("UNCLOSE_THREAD",i)},function(n){t.executeAction(e,n)}).done()},exports.pinThread=function(t,i){n.pinThread(i).then(function(){t.dispatch("PIN_THREAD",i)},function(n){t.executeAction(e,n)}).done()},exports.unpinThread=function(t,i){n.unpinThread(i).then(function(){t.dispatch("UNPIN_THREAD",i)},function(n){t.executeAction(e,n)}).done()}});
define("bundles/discussions/promises/nextViewContext",["require","exports","module","q","bundles/discussions/singletons/viewContexts","pages/open-course/common/singletons/courseMaterials","pages/open-course/common/singletons/courseSchedule"],function(require,exports,module){function getWeekNumber(e,t,n){if("module"===e.typeName)return n.getWeekForModuleId(e.definition.moduleId);if("item"===e.typeName)return n.getWeekForModuleId(t.getModuleForItem(e.definition.itemId).get("id"));return void 0}function getNextViewContext(i,e,n,o,r){var t=i.types();if("module"===e.typeName||"item"===e.typeName)return n.filter(function(n){return n.isType(t.Week)&&parseInt(n.get("id"),10)===getWeekNumber(e,o,r)})[0];if("forum"===e.typeName)return n.filter(function(n){return n.isType(t.Forum)&&n.get("id")===e.definition.forumId})[0];if("week"===e.typeName)return n.filter(function(n){return n.isType(t.Week)&&parseInt(n.get("id"),10)===e.definition.weekNumber})[0];return void 0}var e=require("q"),n=require("bundles/discussions/singletons/viewContexts"),t=require("pages/open-course/common/singletons/courseMaterials"),i=require("pages/open-course/common/singletons/courseSchedule");exports.create=function(o,r){return e.all([n(),t,i]).spread(function(e,n,t){return getNextViewContext(o,r,e,n,t)})}});
define("bundles/discussions/actions/ThreadDetailsActions",["require","exports","module","bundles/discussions/api/answers","bundles/discussions/api/questions","bundles/discussions/actions/ThreadSettingsActions","bundles/discussions/promises/nextViewContext","bundles/discussions/constants","bundles/discussions/utils/unreadTracker","jsuri"],function(require,exports,module){var e=require("bundles/discussions/api/answers"),s=require("bundles/discussions/api/questions"),l=require("bundles/discussions/actions/ThreadSettingsActions"),p=l.addThread,u=require("bundles/discussions/promises/nextViewContext"),a=require("bundles/discussions/constants"),c=require("bundles/discussions/utils/unreadTracker"),n=require("jsuri"),i=a.savingStates,t=a.loadingStates,f=a.answerSorts,r=a.answers.limitPerPage,o=a.comments.limitPerPage;exports.fetchThread=function(e,i){var a=i.questionId,r=i.sort,o=i.page;e.getStore("ThreadDetailsStore").getQuestion(a)||!function(){var i=function setLoadingState(t){e.dispatch("QUESTION_LOADING_STATE",{questionId:a,loadingState:t})};i(t.LOADING);var r=new n(a).addQueryParam("includes","creatorId,flagId,_links");s.get(r.toString()).then(function(n){e.dispatch("LOAD_QUESTION",{response:n,questionId:a}),i(t.DONE),e.executeAction(p,n.elements[0])}).fail(function(n){return i(t.ERROR)}).done()}()};var d=function fetchCommentPagesHelper(r,a){var i=a.answerId,s=a.startPage,u=a.endPage,d=(new n).addQueryParam("q","byParentAnswer").addQueryParam("parentAnswerId",i).addQueryParam("includes","creatorId,flagId,_links").addQueryParam("sort",f.newestSort).addQueryParam("limit",(u-s+1)*o);s&&d.addQueryParam("start",(s-1)*o),e.get(d.toString()).then(function(t){r.dispatch("LOAD_COMMENT_PAGES",{response:t,answerId:i,startPage:s})}).fail(function(n){r.dispatch("COMMENT_LOADING_STATE",{answerId:i,loadingState:t.ERROR})}).done()};exports.fetchMultipleCommentPages=function(e,n){var s=n.answerId,a=n.startPage,i=n.endPage;e.dispatch("COMMENT_LOADING_STATE",{answerId:s,loadingState:t.LOADING}),e.executeAction(d,{answerId:s,startPage:a,endPage:i})},exports.fetchAnswers=function(s,i){var o=i.questionId,u=i.sort,a=i.page,c=function setLoadingState(t){s.dispatch("ANSWER_LOADING_STATE",{questionId:o,sort:u,page:a,loadingState:t})};c(t.LOADING);var p=(new n).addQueryParam("q","byQuestion").addQueryParam("questionId",o).addQueryParam("includes","creatorId,flagId,_links").addQueryParam("sort",u).addQueryParam("limit",r);a&&p.addQueryParam("start",(a-1)*r),e.get(p.toString()).then(function(e){c(t.DONE),s.dispatch("LOAD_ANSWERS",{response:e,questionId:o,page:a,sort:u});var n=e.elements.filter(function(t){return t.childAnswerCount>0});n.length&&(s.dispatch("MULTIPLE_COMMENTS_LOADING_STATES",{answerIds:n.map(function(t){return t.id}),loadingState:t.LOADING}),n.forEach(function(t){s.executeAction(d,{answerId:t.id,startPage:1,endPage:1})}))}).fail(function(n){return c(t.ERROR)}).done()},exports.fetchNextViewInfo=function(s,n){var t=n.viewContext,e=n.question;u.create(t,e.context).then(function(n){if(n){var i=t.types(),a=void 0;a=t.isType(i.Item)?n.get("link"):n.get("discussionsLink"),s.dispatch("LOAD_NEXT_VIEW_INFO",{questionId:e.id,nextViewName:n.getDisplayName(),nextViewLink:a})}})},exports.savePost=function(n,s){var a=s.options,t=s.parentPost;n.dispatch("SET_SAVING_STATE",{savingState:i.SAVING,parentPost:t}),e.post("",a).then(function(e){c.markRead(t.questionId),n.dispatch("RECEIVE_POST",{resp:e,parentPost:t}),n.dispatch("SET_SAVING_STATE",{savingState:i.SAVED,parentPost:t})}).fail(function(e){return n.dispatch("SET_SAVING_STATE",{savingState:i.ERROR,parentPost:t})}).done()},exports.upvote=function(a,i){var t=i.post,r=(new n).addQueryParam("action","upvote").addQueryParam("id",t.id),o="question"===t.type?s:e;o.post(r.toString()).then(function(n){return a.dispatch("UPVOTE",{post:t})}).fail(function(n){return a.dispatch("UPVOTE_ERROR",{post:t})}).done()},exports.cancelUpvote=function(a,i){var t=i.post,r=(new n).addQueryParam("action","cancelUpvote").addQueryParam("id",t.id),o="question"===t.type?s:e;o.post(r.toString()).then(function(n){return a.dispatch("CANCEL_UPVOTE",{post:t})}).fail(function(n){return a.dispatch("UPVOTE_ERROR",{post:t})}).done()},exports.follow=function(e,a){var t=a.question,i=(new n).addQueryParam("action","follow").addQueryParam("id",t.id);s.post(i.toString()).then(function(n){return e.dispatch("FOLLOW",{question:t})}).fail(function(n){return e.dispatch("FOLLOW_ERROR",{question:t})}).done()},exports.unfollow=function(e,a){var t=a.question,i=(new n).addQueryParam("action","unfollow").addQueryParam("id",t.id);s.post(i.toString()).then(function(n){return e.dispatch("UNFOLLOW",{question:t})}).fail(function(n){return e.dispatch("FOLLOW_ERROR",{question:t})}).done()},exports.setSavingState=function(n,t){var e=t.savingState,s=t.parentPost;n.dispatch("SET_SAVING_STATE",{savingState:e,parentPost:s})}});

define('css!bundles/discussions/components/__styles__/ModerationReasons',[],function(){})
define("bundles/discussions/components/ModerationReasons",["require","exports","module","i18n!nls/discussions","react-with-addons","css!bundles/discussions/components/__styles__/ModerationReasons.css"],function(require,exports,module){function _defaults(e,r){for(var a=Object.getOwnPropertyNames(r),t=0;t<a.length;t++){var n=a[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(a,s,c){var n=!0;e:for(;n;){var t=a,i=s,l=c;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;a=o,s=i,c=l,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(l)}},t=require("i18n!nls/discussions"),e=require("react-with-addons");require("css!bundles/discussions/components/__styles__/ModerationReasons.css");var r=function(r){function ModerationReasons(){_classCallCheck(this,ModerationReasons),o(Object.getPrototypeOf(ModerationReasons.prototype),"constructor",this).apply(this,arguments)}return _inherits(ModerationReasons,r),n(ModerationReasons,[{key:"render",value:function render(){return e.createElement("div",{className:"rc-ModerationReasons"},e.createElement("ul",{className:"c-radio-group"},e.createElement("li",null,e.createElement("input",{id:"honorCodeViolation",type:"radio",value:"honorCodeViolation",name:"reason",ref:"firstOption",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"honorCodeViolation",className:"c-radio-label"},t("Removing an "),e.createElement("a",{target:"_blank",href:"https://learner.coursera.help/hc/articles/208280036"},t("Honor Code")),t(" violation (e.g., problem solutions)"))),e.createElement("li",null,e.createElement("input",{id:"inappropriate",type:"radio",value:"inappropriate",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"inappropriate",className:"c-radio-label"},t("Removing "),e.createElement("a",{target:"_blank",href:"https://learner.coursera.help/hc/articles/209818863"},t("Inappropriate Content")),t(" violation (e.g., obscenities or mature content)"))),e.createElement("li",null,e.createElement("input",{id:"copyrightViolation",type:"radio",value:"copyrightViolation",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"copyrightViolation",className:"c-radio-label"},t("Removing a copyright violation"))),e.createElement("li",null,e.createElement("input",{id:"spam",type:"radio",value:"spam",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"spam",className:"c-radio-label"},t("Removing spam (e.g. unintelligible content or advertisements)"))),e.createElement("li",null,e.createElement("input",{id:"clarity",type:"radio",value:"clarity",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"clarity",className:"c-radio-label"},t("Editing for clarity")))))}}],[{key:"propTypes",value:{handleSelect:e.PropTypes.func.isRequired},enumerable:!0}]),ModerationReasons}(e.Component);module.exports=r});

define('css!bundles/discussions/components/__styles__/NotifyOption',[],function(){})
define("bundles/discussions/components/NotifyOption",["require","exports","module","i18n!nls/discussions","react-with-addons","css!./__styles__/NotifyOption"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var o=i[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(r,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),o=function get(i,u,a){var o=!0;e:for(;o;){var t=i,s=u,c=a;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,u=s,a=c,o=!0,e=r=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(c)}},r=require("i18n!nls/discussions"),e=require("react-with-addons");require("css!./__styles__/NotifyOption");var n=function(n){function NotifyOption(){_classCallCheck(this,NotifyOption),o(Object.getPrototypeOf(NotifyOption.prototype),"constructor",this).apply(this,arguments)}return _inherits(NotifyOption,n),t(NotifyOption,[{key:"render",value:function render(){return e.createElement("div",{className:"rc-NotifyOption"},e.createElement("input",{id:"notify",type:"checkbox",checked:!this.props.dontNotify,onChange:this.props.toggleNotify}),e.createElement("label",{htmlFor:"notify",className:"color-secondary-text"},r("Notify Original Poster")))}}],[{key:"propTypes",value:{dontNotify:e.PropTypes.bool.isRequired,toggleNotify:e.PropTypes.func.isRequired},enumerable:!0}]),NotifyOption}(e.Component);module.exports=n});

define('css!bundles/discussions/components/__styles__/Delete',[],function(){})
define("bundles/discussions/components/Delete",["require","exports","module","i18n!nls/discussions","react-with-addons","react-dom","bundles/discussions/components/ModerationReasons","bundles/discussions/actions/DropdownActions","bundles/phoenix/components/Modal","bundles/discussions/components/NotifyOption","css!./__styles__/Delete"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var o=r[t],s=Object.getOwnPropertyDescriptor(n,o);s&&s.configurable&&void 0===e[o]&&Object.defineProperty(e,o,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(s,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=function get(r,l,c){var o=!0;e:for(;o;){var t=r,i=l,a=c;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;r=s,l=i,c=a,o=!0,e=s=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}},t=require("i18n!nls/discussions"),e=require("react-with-addons"),o=require("react-dom"),r=require("bundles/discussions/components/ModerationReasons"),i=require("bundles/discussions/actions/DropdownActions"),a=i.deletePost,l=require("bundles/phoenix/components/Modal"),c=require("bundles/discussions/components/NotifyOption");require("css!./__styles__/Delete");var u=function(i){function Delete(){var e=this;_classCallCheck(this,Delete),n(Object.getPrototypeOf(Delete.prototype),"constructor",this).apply(this,arguments),this.state={selectedOption:"",showInputError:!1,showServerError:!1,dontNotify:!1},this.handleSelect=function(t){e.setState({selectedOption:t.target.value})},this.handleCancel=function(){e.props.handleClose()},this.handleSubmit=function(){!e.props.showReasons||e.state.selectedOption?e.context.executeAction(a,{post:e.props.post,reason:e.state.selectedOption,handleSuccess:e.onDeleteSuccess,handleFailure:e.onDeleteError,dontNotify:e.state.dontNotify}):e.setState({showInputError:!0})},this.handleCloseModal=function(){e.props.handleClose()},this.onDeleteError=function(t){e.setState({showServerError:!0})},this.onDeleteSuccess=function(){e.props.handleClose(),"question"===e.props.post.type&&e.props.onDeleteSuccess(e.state.selectedOption)},this.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})}}return _inherits(Delete,i),s(Delete,[{key:"componentDidMount",value:function componentDidMount(){this.refs.firstOption?o.findDOMNode(this.refs.firstOption).focus():o.findDOMNode(this.refs.cancel).focus()}},{key:"render",value:function render(){var o=e.createElement("div",null,e.createElement(r,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(c,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify})),s=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason")),n=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Error deleting post; please try again or reload the page")),i=e.createElement("div",{className:"c-delete-warning"},t("Are you sure you want to delete this post?")),a=e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to delete this? "))),u=e.createElement(l,{handleClose:this.handleCloseModal,modalName:t("Delete Post")},e.createElement("h1",{className:"c-modal-title subtitle display-1-text"},t("Delete Post")),this.props.showReasons&&a,this.props.showReasons?o:i,e.createElement("div",null,this.state.showInputError&&s,this.state.showServerError&&n,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleCancel},"Cancel"),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Delete")))));return e.createElement("div",{className:"rc-Delete"},u)}}],[{key:"propTypes",value:{showReasons:e.PropTypes.bool.isRequired,handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired,onDeleteSuccess:e.PropTypes.func},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),Delete}(e.Component);module.exports=u});
define("bundles/discussions/components/EditThreadModal",["require","exports","module","underscore","i18n!nls/discussions","react-with-addons","react-dom","bundles/phoenix/components/Modal","bundles/phoenix/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/discussions/components/ModerationReasons","bundles/discussions/components/NotifyOption","bundles/discussions/constants","bundles/discussions/actions/DropdownActions","bundles/discussions/components/NewThreadFormComponents","css!./__styles__/NewThreadButton"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var s=a[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),u=function get(a,l,c){var s=!0;e:for(;s;){var t=a,r=l,i=c;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;a=n,l=r,c=i,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(i)}},_=require("underscore"),t=require("i18n!nls/discussions"),e=require("react-with-addons"),r=require("react-dom"),i=require("bundles/phoenix/components/Modal"),l=require("bundles/phoenix/utils/CMLUtils"),a=require("bundles/discussions/utils/DiscussionsCMLUtils"),c=require("bundles/discussions/components/ModerationReasons"),d=require("bundles/discussions/components/NotifyOption"),n=require("bundles/discussions/constants"),h=require("bundles/discussions/actions/DropdownActions"),m=h.editThread,o=require("bundles/discussions/components/NewThreadFormComponents"),p=o.TitleInput,f=o.ContentInput;require("css!./__styles__/NewThreadButton");var v=function(o){function EditThreadModal(a,i){var e=this;_classCallCheck(this,EditThreadModal),u(Object.getPrototypeOf(EditThreadModal.prototype),"constructor",this).call(this,a,i),this.handleSuccess=function(){e.closeModal()},this.handleSubmit=function(){var t=_(e.state).any(function(e){return e.hasError});t?(e.state.title.hasError?e.refs.title.refs.title.focus():e.state.content.hasError&&r.findDOMNode(e.refs.content.refs.content.refs.editorWrapper.refs.editor).focus(),e.setState({showErrors:!0})):(e.setState({saving:!0}),e.context.executeAction(m,{questionId:e.props.question.id,question:e.state.title.value,details:e.state.content.value,handleSuccess:e.handleSuccess,handleFailure:e.handleSaveError,reason:e.state.selectedOption,dontNotify:e.state.dontNotify}))},this.handleInputChange=function(t,s){e.state[t].value=s.value,e.state[t].hasError=!s.isValid,e.setState(e.state)},this.handleSaveError=function(s){e.setState({saveError:!0,saveErrorMessage:t("Something went wrong. Please reload the page and try again."),saving:!1})},this.handleSelect=function(t){e.setState({selectedOption:t.target.value})},this.handleReasonsSubmit=function(){e.state.selectedOption?e.setState({showModerationReasons:!1}):e.setState({showInputError:!0})},this.handleReasonsCancel=function(){e.closeModal()},this.handleCloseModal=function(){e.closeModal()},this.handleCancel=function(){e.closeModal()},this.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})};var s=a.question.content,o=s.details;if(!s.details||!s.details.typeName){var c="<co-content><text>"+(s.details||"")+"</text></co-content>";o=l.create(c,n.DTD_NAME)}o.definition.dtdId=n.DTD_NAME,this.state={title:{value:s.question||"",hasError:!1},content:{value:o,hasError:!1},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",showModerationReasons:!1,selectedOption:"",showInputError:!1,dontNotify:!1}}return _inherits(EditThreadModal,o),s(EditThreadModal,null,[{key:"propTypes",value:{question:e.PropTypes.object.isRequired,handleClose:e.PropTypes.func.isRequired,showReasons:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),s(EditThreadModal,[{key:"componentWillMount",value:function componentWillMount(){this.setState({showModerationReasons:this.props.showReasons})}},{key:"closeModal",value:function closeModal(){this.props.handleClose()}},{key:"render",value:function render(){var n=a.generateContentLengthWarning(this.state.content.value),o=e.createElement("div",{className:"c-error-text c-form-error-message"},this.state.saveErrorMessage),r=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason")),s=void 0;s=this.state.showModerationReasons?e.createElement("div",null,e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to edit this? "))),e.createElement(c,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(d,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify}),e.createElement("div",null,this.state.showInputError&&r,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleReasonsCancel},t("Cancel")),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleReasonsSubmit},t("Edit Post"))))):e.createElement("div",null,e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Title"))),e.createElement(p,{ref:"title",hasError:this.state.showErrors&&this.state.title.hasError,value:this.state.title.value,handleInputChange:this.handleInputChange})),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Body"))),e.createElement(f,{ref:"content",hasError:this.state.showErrors&&this.state.content.hasError,handleInputChange:this.handleInputChange,cml:this.state.content.value})),e.createElement("div",null,n,this.state.saveError&&o,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{className:"passive",onClick:this.handleCancel},t("Cancel")),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit")))));var l=e.createElement(i,{handleClose:this.handleCloseModal,modalName:t("Edit thread"),ref:"editThreadModal"},e.createElement("h1",{className:"c-modal-title display-1-text"},t("Edit thread")),s);return e.createElement("div",{className:"rc-EditThreadForm"},l)}}]),EditThreadModal}(e.Component);module.exports=v});
define("bundles/discussions/components/EditWithModerationModal",["require","exports","module","i18n!nls/discussions","react-with-addons","bundles/phoenix/components/Modal","bundles/discussions/components/ModerationReasons","bundles/discussions/components/NotifyOption"],function(require,exports,module){function _defaults(e,s){for(var i=Object.getOwnPropertyNames(s),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(i,l,c){var n=!0;e:for(;n;){var t=i,r=l,a=c;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;i=o,l=r,c=a,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var s=e.get;if(void 0===s)return void 0;return s.call(a)}},t=require("i18n!nls/discussions"),e=require("react-with-addons"),s=require("bundles/phoenix/components/Modal"),i=require("bundles/discussions/components/ModerationReasons"),r=require("bundles/discussions/components/NotifyOption"),a=function(a){function EditWithModerationModal(){var e=this;_classCallCheck(this,EditWithModerationModal),o(Object.getPrototypeOf(EditWithModerationModal.prototype),"constructor",this).apply(this,arguments),this.state={showInputError:!1,selectedOption:"",dontNotify:!1},this.handleSelect=function(t){e.setState({selectedOption:t.target.value})},this.handleCancel=function(){e.props.handleCancel()},this.handleClose=function(){e.props.handleCancel()},this.handleSubmit=function(){e.state.selectedOption?e.props.handleSuccess(e.state.selectedOption,e.state.dontNotify):e.setState({showInputError:!0})},this.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})}}return _inherits(EditWithModerationModal,a),n(EditWithModerationModal,[{key:"render",value:function render(){var n=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason"));return e.createElement("div",{className:"rc-EditWithModerationModal"},e.createElement(s,{handleClose:this.handleClose,modalName:t("Edit Post")},e.createElement("h1",{className:"c-modal-title subtitle display-1-text"},t("Edit Post")),e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to edit this? "))),e.createElement(i,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(r,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify}),e.createElement("div",null,this.state.showInputError&&n,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleCancel},"Cancel"),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit"))))))}}],[{key:"propTypes",value:{handleCancel:e.PropTypes.func.isRequired,handleSuccess:e.PropTypes.func.isRequired},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),EditWithModerationModal}(e.Component);module.exports=a});

define('css!bundles/discussions/components/__styles__/FlaggingModal',[],function(){})
define("bundles/discussions/components/FlaggingModal",["require","exports","module","i18n!nls/discussions","classnames","react-with-addons","bundles/discussions/actions/DropdownActions","bundles/phoenix/components/Modal","css!./__styles__/FlaggingModal"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(o,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),n=function get(r,c,l){var s=!0;e:for(;s;){var t=r,i=c,a=l;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;r=o,c=i,l=a,s=!0,e=o=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}},t=require("i18n!nls/discussions"),o=require("classnames"),e=require("react-with-addons"),s=require("bundles/discussions/actions/DropdownActions"),i=s.flagPost,a=s.unflagPost,c=require("bundles/phoenix/components/Modal");require("css!./__styles__/FlaggingModal");var l=function(s){function FlaggingModal(){var e=this;_classCallCheck(this,FlaggingModal),n(Object.getPrototypeOf(FlaggingModal.prototype),"constructor",this).apply(this,arguments),this.state={error:!1,saving:!1,success:!1},this.handleSubmitError=function(){e.setState({saving:!1,error:!0})},this.flagAction=function(){var t=e.props.post;e.setState({saving:!0,success:!1,error:!1}),e.isActive()?e.context.executeAction(a,{post:t,handleSuccess:e.props.handleClose,handleFailure:e.handleSubmitError}):e.context.executeAction(i,{post:t,handleSuccess:function handleSuccess(){e.setState({success:!0,saving:!1})},handleFailure:e.handleSubmitError})},this.isActive=function(){return e.props.post.flagDetails&&e.props.post.flagDetails.isActive}}return _inherits(FlaggingModal,s),r(FlaggingModal,[{key:"getBodyText",value:function getBodyText(){return t(this.state.success?"Thank you. We will review it and take appropriate action.":this.state.error?"Sorry, an error occured. Please try again later.":this.isActive()?"Are you sure you want to resolve the reported post?":"Are you sure you want to report this post?")}},{key:"renderButtonContainer",value:function renderButtonContainer(){return e.createElement("div",{className:"horizontal-box align-items-right button-container"},e.createElement("button",{className:"passive never-mind",onClick:this.props.handleClose},t("Never mind")),e.createElement("button",{className:"secondary",onClick:this.flagAction,disabled:this.state.error||this.state.saving},t(this.isActive()?"Resolve":"Report")))}},{key:"render",value:function render(){var s=o("modal-text",{"body-1-text":!this.state.success,"body-2-text":this.state.success,success:this.state.success});return e.createElement(c,{handleClose:this.props.handleClose,modalName:t(this.isActive?"Resolve":"Report"),ref:"editThreadModal",className:"rc-FlaggingModal"},this.state.success||e.createElement("h3",{className:"c-modal-title headline-3-text"},t(this.isActive()?"Resolve report":"Report as inappropriate")),e.createElement("p",{className:s},this.getBodyText()),this.state.success||this.renderButtonContainer())}}],[{key:"propTypes",value:{handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),FlaggingModal}(e.Component);module.exports=l});
!function(b,h){var n=b,i=n.document,p=n.navigator,T=n.setTimeout,B=n.encodeURIComponent,Fe=n.ActiveXObject,Xe=n.Error,ie=n.Number.parseInt||n.parseInt,Y=n.Number.parseFloat||n.parseFloat,ze=n.Number.isNaN||n.isNaN,x=n.Math.round,X=n.Date.now,A=n.Object.keys,se=n.Object.defineProperty,l=n.Object.prototype.hasOwnProperty,ke=n.Array.prototype.slice,Le=function(){var e=function unwrapper(e){return e};if("function"==typeof n.wrap&&"function"==typeof n.unwrap)try{var t=i.createElement("div"),r=n.unwrap(t);1===t.nodeType&&r&&1===r.nodeType&&(e=n.unwrap)}catch(a){}return e}(),a=function _args(e){return ke.call(e,0)},o=function _extend(){var t,s,n,e,u,r,o=a(arguments),i=o[0]||{};for(t=1,s=o.length;s>t;t++)if(null!=(n=o[t]))for(e in n)l.call(n,e)&&(u=i[e],r=n[e],i!==r&&r!==h&&(i[e]=r));return i},m=function _deepCopy(e){var t,n,a,r;if("object"!=typeof e||null==e)t=e;else if("number"==typeof e.length)for(t=[],n=0,a=e.length;a>n;n++)l.call(e,n)&&(t[n]=_deepCopy(e[n]));else{t={};for(r in e)l.call(e,r)&&(t[r]=_deepCopy(e[r]))}return t},Ye=function _pick(n,t){for(var r={},e=0,a=t.length;a>e;e++)t[e]in n&&(r[t[e]]=n[t[e]]);return r},M=function _omit(t,r){var n={};for(var e in t)-1===r.indexOf(e)&&(n[e]=t[e]);return n},ee=function _deleteOwnProperties(e){if(e)for(var t in e)l.call(e,t)&&delete e[t];return e},z=function _containedBy(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},N=function _getDirPathOfUrl(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},ue=function _getCurrentScriptUrlFromErrorStack(t){var n,e;return"string"==typeof t&&t&&(e=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]?n=e[1]:(e=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]&&(n=e[1]))),n},pe=function _getCurrentScriptUrlFromError(){var t,e;try{throw new Xe}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||ue(e.stack)),t},he=function _getCurrentScriptUrl(){var t,e,n;if(i.currentScript&&(t=i.currentScript.src))return t;if(e=i.getElementsByTagName("script"),1===e.length)return e[0].src||h;if("readyState"in e[0])for(n=e.length;n--;)if("interactive"===e[n].readyState&&(t=e[n].src))return t;if("loading"===i.readyState&&(t=e[e.length-1].src))return t;if(t=pe())return t;return h},xe=function _getUnanimousScriptParentDir(){var n,e,t,r=i.getElementsByTagName("script");for(n=r.length;n--;){if(!(t=r[n].src)){e=null;break}if(t=N(t),null==e)e=t;else if(e!==t){e=null;break}}return e||h},Ee=function _getDefaultSwfPath(){var e=N(he())||xe()||"";return e+"ZeroClipboard.swf"},t={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},I="11.0.0",c={},u,D,f={},C=null,Je={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},r={swfPath:Ee(),trustedDomains:b.location.host?[b.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},P=function _config(e){if("object"==typeof e&&null!==e)for(var n in e)if(l.call(e,n))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(n))r[n]=e[n];else if(null==t.bridge)if("containerId"===n||"swfObjectId"===n){if(!ae(e[n]))throw new Error("The specified `"+n+"` value is not valid as an HTML4 Element ID");r[n]=e[n]}else r[n]=e[n];if("string"==typeof e&&e){if(l.call(r,e))return r[e];return}return m(r)},R=function _state(){return{browser:Ye(p,["userAgent","platform","appName"]),flash:M(t,["bridge"]),zeroclipboard:{version:e.version,config:e.config()}}},Z=function _isFlashUnusable(){return!!(t.disabled||t.outdated||t.unavailable||t.deactivated)},V=function _on(r,u){var n,i,a,o={};if("string"==typeof r&&r)a=r.toLowerCase().split(/\s+/);else if("object"==typeof r&&r&&"undefined"==typeof u)for(n in r)l.call(r,n)&&"string"==typeof n&&n&&"function"==typeof r[n]&&e.on(n,r[n]);if(a&&a.length){for(n=0,i=a.length;i>n;n++)r=a[n].replace(/^on/,""),o[r]=!0,c[r]||(c[r]=[]),c[r].push(u);if(o.ready&&t.ready&&e.emit({type:"ready"}),o.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=s.length;i>n;n++)if(t[s[n]]===!0){e.emit({type:"error",name:"flash-"+s[n]});break}}}return e},K=function _off(t,o){var n,s,i,a,r;if(0===arguments.length)a=A(c);else if("string"==typeof t&&t)a=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof o)for(n in t)l.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&e.off(n,t[n]);if(a&&a.length)for(n=0,s=a.length;s>n;n++)if(t=a[n].toLowerCase().replace(/^on/,""),r=c[t],r&&r.length)if(o)for(i=r.indexOf(o);-1!==i;)r.splice(i,1),i=r.indexOf(o,i);else r.length=0;return e},U=function _listeners(e){var t;return t="string"==typeof e&&e?m(c[e])||null:m(c)},G=function _emit(n){var a,i,r;if(n=k(n),!n)return;if(ce(n))return;if("ready"===n.type&&t.overdue===!0)return e.emit({type:"error",name:"flash-overdue"});return a=o({},n),fe.call(this,a),"copy"===n.type&&(r=me(f),i=r.data,C=r.formatMap),i},J=function _create(){if("boolean"!=typeof t.ready&&(t.ready=!1),!e.isFlashUnusable()&&null===t.bridge){var n=r.flashLoadTimeout;"number"==typeof n&&n>=0&&T(function(){"boolean"!=typeof t.deactivated&&(t.deactivated=!0),t.deactivated===!0&&e.emit({type:"error",name:"flash-deactivated"})},n),t.overdue=!1,ye()}},W=function _destroy(){e.clearData(),e.blur(),e.emit("destroy"),ve(),e.off()},q=function _setData(r,a){var t;if("object"==typeof r&&r&&"undefined"==typeof a)t=r,e.clearData();else{if("string"!=typeof r||!r)return;t={},t[r]=a}for(var n in t)"string"==typeof n&&n&&l.call(t,n)&&"string"==typeof t[n]&&t[n]&&(f[n]=t[n])},Q=function _clearData(e){"undefined"==typeof e?(ee(f),C=null):"string"==typeof e&&l.call(f,e)&&delete f[e]},qe=function _getData(e){if("undefined"==typeof e)return m(f);if("string"==typeof e&&l.call(f,e))return f[e]},te=function _focus(e){if(!e||1!==e.nodeType)return;u&&(v(u,r.activeClass),u!==e&&v(u,r.hoverClass)),u=e,L(e,r.hoverClass);var n=e.getAttribute("title")||r.title;if("string"==typeof n&&n){var a=y(t.bridge);a&&a.setAttribute("title",n)}var i=r.forceHandCursor===!0||"pointer"===je(e,"cursor");Ne(i),Ie()},ne=function _blur(){var e=y(t.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),u&&(v(u,r.hoverClass),v(u,r.activeClass),u=null)},re=function _activeElement(){return u||null},ae=function _isValidHtml4Id(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},k=function _createEvent(n){var r;if("string"==typeof n&&n?(r=n,n={}):"object"==typeof n&&n&&"string"==typeof n.type&&n.type&&(r=n.type),!r)return;!n.target&&/^(copy|aftercopy|_click)$/.test(r.toLowerCase())&&(n.target=D),o(n,{type:r.toLowerCase(),target:n.target||u||null,relatedTarget:n.relatedTarget||null,currentTarget:t&&t.bridge||null,timeStamp:n.timeStamp||X()||null});var a=Je[n.type];return"error"===n.type&&n.name&&a&&(a=a[n.name]),a&&(n.message=a),"ready"===n.type&&o(n,{target:null,version:t.version}),"error"===n.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{target:null,minimumVersion:I}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{version:t.version})),"copy"===n.type&&(n.clipboardData={setData:e.setData,clearData:e.clearData}),"aftercopy"===n.type&&(n=ge(n,C)),n.target&&!n.relatedTarget&&(n.relatedTarget=oe(n.target)),n=le(n)},oe=function _getRelatedTarget(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?i.getElementById(t):null},le=function _addMouseData(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var a=e.target,p="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:h,d="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:h,l=j(a),v=n.screenLeft||n.screenX||0,m=n.screenTop||n.screenY||0,c=i.body.scrollLeft+i.documentElement.scrollLeft,f=i.body.scrollTop+i.documentElement.scrollTop,s=l.left+("number"==typeof e._stageX?e._stageX:0),u=l.top+("number"==typeof e._stageY?e._stageY:0),t=s-c,r=u-f,g=v+t,b=m+r,w="number"==typeof e.movementX?e.movementX:0,y="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,o(e,{srcElement:a,fromElement:p,toElement:d,screenX:g,screenY:b,pageX:s,pageY:u,clientX:t,clientY:r,x:t,y:r,movementX:w,movementY:y,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},O=function _shouldPerformAsync(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},S=function _dispatchCallback(e,t,n,r){r?T(function(){e.apply(t,n)},0):e.apply(t,n)},fe=function _dispatchCallbacks(t){if("object"!=typeof t||!t||!t.type)return;var d=O(t),u=c["*"]||[],f=c[t.type]||[],a=u.concat(f);if(a&&a.length){var r,l,e,i,s,p=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=p,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"==typeof e&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(s=o({},t),S(e,i,[s],d))}return this},ce=function _preprocessEvent(n){var a=n.target||u||null,l="swf"===n._source;delete n._source;var h=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(n.type){case"error":-1!==h.indexOf(n.name)&&o(t,{disabled:"flash-disabled"===n.name,outdated:"flash-outdated"===n.name,unavailable:"flash-unavailable"===n.name,deactivated:"flash-deactivated"===n.name,overdue:"flash-overdue"===n.name,ready:!1});break;case"ready":var p=t.deactivated===!0;o(t,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:p,ready:!p});break;case"beforecopy":D=a;break;case"copy":var s,c,i=n.relatedTarget;!f["text/html"]&&!f["text/plain"]&&i&&(c=i.value||i.outerHTML||i.innerHTML)&&(s=i.value||i.textContent||i.innerText)?(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s),c!==s&&n.clipboardData.setData("text/html",c)):!f["text/plain"]&&n.target&&(s=n.target.getAttribute("data-clipboard-text"))&&(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s));break;case"aftercopy":e.clearData(),a&&a!==Te()&&a.focus&&a.focus();break;case"_mouseover":e.focus(a),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&d(o({},n,{type:"mouseenter",bubbles:!1,cancelable:!1})),d(o({},n,{type:"mouseover"})));break;case"_mouseout":e.blur(),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&d(o({},n,{type:"mouseleave",bubbles:!1,cancelable:!1})),d(o({},n,{type:"mouseout"})));break;case"_mousedown":L(a,r.activeClass),r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}));break;case"_mouseup":v(a,r.activeClass),r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}));break;case"_click":D=null,r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}));break;case"_mousemove":r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(n.type))return!0},d=function _fireMouseEvent(t){if(!t||"string"!=typeof t.type||!t)return;var r,a=t.target||null,l=a&&a.ownerDocument||i,s={view:l.defaultView||n,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:l.createEvent?0:1},e=o(s,t);if(!a)return;l.createEvent&&a.dispatchEvent&&(e=[e.type,e.canBubble,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget],r=l.createEvent("MouseEvents"),r.initMouseEvent&&(r.initMouseEvent.apply(r,e),r._source="js",a.dispatchEvent(r)))},de=function _createHtmlBridge(){var e=i.createElement("div");return e.id=r.containerId,e.className=r.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+F(r.zIndex),e},y=function _getHtmlBridge(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},ye=function _embedSwf(){var f,a=t.bridge,o=y(a);if(!a){var u=Ce(n.location.host,r),h="never"===u?"none":"all",d=we(r),c=r.swfPath+be(r.swfPath,r);o=de();var p=i.createElement("div");o.appendChild(p),i.body.appendChild(o);var l=i.createElement("div"),s="activex"===t.pluginType;l.innerHTML='<object id="'+r.swfObjectId+'" name="'+r.swfObjectId+'" width="100%" height="100%" '+(s?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+c+'"')+">"+(s?'<param name="movie" value="'+c+'"/>':"")+'<param name="allowScriptAccess" value="'+u+'"/><param name="allowNetworking" value="'+h+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+d+'"/></object>',a=l.firstChild,l=null,Le(a).ZeroClipboard=e,o.replaceChild(a,p)}return a||(a=i[r.swfObjectId],a&&(f=a.length)&&(a=a[f-1]),!a&&o&&(a=o.firstChild)),t.bridge=a||null,a},ve=function _unembedSwf(){var e=t.bridge;if(e){var n=y(e);n&&("activex"===t.pluginType&&"readyState"in e?(e.style.display="none",function removeSwfFromIE(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n)}else T(removeSwfFromIE,10)}()):(e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n))),t.ready=null,t.bridge=null,t.deactivated=null}},me=function _mapClipDataToFlash(t){var n={},r={};if("object"!=typeof t||!t)return;for(var e in t)if(e&&l.call(t,e)&&"string"==typeof t[e]&&t[e])switch(e.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":n.text=t[e],r.text=e;break;case"text/html":case"html":case"air:html":case"flash:html":n.html=t[e],r.html=e;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":n.rtf=t[e],r.rtf=e}return{data:n,formatMap:r}},ge=function _mapClipResultsFromFlash(t,r){if("object"!=typeof t||!t||"object"!=typeof r||!r)return t;var a={};for(var e in t)if(l.call(t,e)){if("success"!==e&&"data"!==e){a[e]=t[e];continue}a[e]={};var i=t[e];for(var n in i)n&&l.call(i,n)&&l.call(r,n)&&(a[e][r[n]]=i[n])}return a},be=function _cacheBust(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+X():""},we=function _vars(e){var r,s,a,t,i="",o=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?t=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(t=e.trustedDomains)),t&&t.length)for(r=0,s=t.length;s>r;r++)if(l.call(t,r)&&t[r]&&"string"==typeof t[r]){if(a=w(t[r]),!a)continue;if("*"===a){o.length=0,o.push(a);break}o.push.apply(o,[a,"//"+a,n.location.protocol+"//"+a])}return o.length&&(i+="trustedOrigins="+B(o.join(","))),e.forceEnhancedClipboard===!0&&(i+=(i?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(i+=(i?"&":"")+"swfObjectId="+B(e.swfObjectId)),i},w=function _extractDomain(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");if(e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase())return null;return e||null},Ce=function(){var e=function _extractAllDomains(e){var n,a,r,t=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return t;for(n=0,a=e.length;a>n;n++)if(l.call(e,n)&&(r=w(e[n]))){if("*"===r){t.length=0,t.push("*");break}-1===t.indexOf(r)&&t.push(r)}return t};return function(t,i){var n=w(i.swfPath);null===n&&(n=t);var r=e(i.trustedDomains),a=r.length;if(a>0){if(1===a&&"*"===r[0])return"always";if(-1!==r.indexOf(t)){if(1===a&&t===n)return"sameDomain";return"always"}}return"never"}}(),Te=function _safeActiveElement(){try{return i.activeElement}catch(e){return null}},L=function _addClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var r=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",a=e.className,n=0,o=r.length;o>n;n++)i.indexOf(" "+r[n]+" ")<0&&(a+=" "+r[n]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},v=function _removeClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var a=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,i=a.length;i>r;r++)n=n.replace(" "+a[r]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}return e},je=function _getStyle(t,r){var e=n.getComputedStyle(t,null).getPropertyValue(r);if("cursor"===r&&(!e||"auto"===e)&&"A"===t.nodeName)return"pointer";return e},Oe=function _getZoomFactor(){var e,t,n,r=1;return"function"==typeof i.body.getBoundingClientRect&&(e=i.body.getBoundingClientRect(),t=e.right-e.left,n=i.body.offsetWidth,r=x(t/n*100)/100),r},j=function _getDOMObjectPosition(l){var t={left:0,top:0,width:0,height:0};if(l.getBoundingClientRect){var e=l.getBoundingClientRect(),r,a,o;"pageXOffset"in n&&"pageYOffset"in n?(r=n.pageXOffset,a=n.pageYOffset):(o=Oe(),r=x(i.documentElement.scrollLeft/o),a=x(i.documentElement.scrollTop/o));var s=i.documentElement.clientLeft||0,u=i.documentElement.clientTop||0;t.left=e.left+r-s,t.top=e.top+a-u,t.width="width"in e?e.width:e.right-e.left,t.height="height"in e?e.height:e.bottom-e.top}return t},Ie=function _reposition(){var n;if(u&&(n=y(t.bridge))){var e=j(u);o(n.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+F(r.zIndex)})}},Ne=function _setHandCursor(e){t.ready===!0&&(t.bridge&&"function"==typeof t.bridge.setHandCursor?t.bridge.setHandCursor(e):t.ready=!1)},F=function _getSafeZIndex(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||ze(e)?"string"==typeof e&&(t=_getSafeZIndex(ie(e,10))):t=e,"number"==typeof t?t:"auto"},_e=function _detectFlashSupport(i){function parseFlashVersion(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function isPepperFlash(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function inspectPlugin(t){t&&(n=!0,t.version&&(e=parseFlashVersion(t.version)),!e&&t.description&&(e=parseFlashVersion(t.description)),t.filename&&(s=isPepperFlash(t.filename)))}var a,r,l,n=!1,o=!1,s=!1,e="";if(p.plugins&&p.plugins.length)a=p.plugins["Shockwave Flash"],inspectPlugin(a),p.plugins["Shockwave Flash 2.0"]&&(n=!0,e="2.0.0.11");else if(p.mimeTypes&&p.mimeTypes.length)l=p.mimeTypes["application/x-shockwave-flash"],a=l&&l.enabledPlugin,inspectPlugin(a);else if("undefined"!=typeof i){o=!0;try{r=new i("ShockwaveFlash.ShockwaveFlash.7"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(u){try{r=new i("ShockwaveFlash.ShockwaveFlash.6"),n=!0,e="6.0.21"}catch(f){try{r=new i("ShockwaveFlash.ShockwaveFlash"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(c){o=!1}}}}t.disabled=n!==!0,t.outdated=e&&Y(e)<Y(I),t.version=e||"0.0.0",t.pluginType=s?"pepper":o?"activex":n?"netscape":"unknown"};_e(Fe);var e=function ZeroClipboard(){if(!(this instanceof ZeroClipboard))return new ZeroClipboard;"function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,a(arguments))};se(e,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0}),e.config=function(){return P.apply(this,a(arguments))},e.state=function(){return R.apply(this,a(arguments))},e.isFlashUnusable=function(){return Z.apply(this,a(arguments))},e.on=function(){return V.apply(this,a(arguments))},e.off=function(){return K.apply(this,a(arguments))},e.handlers=function(){return U.apply(this,a(arguments))},e.emit=function(){return G.apply(this,a(arguments))},e.create=function(){return J.apply(this,a(arguments))},e.destroy=function(){return W.apply(this,a(arguments))},e.setData=function(){return q.apply(this,a(arguments))},e.clearData=function(){return Q.apply(this,a(arguments))},e.getData=function(){return qe.apply(this,a(arguments))},e.focus=e.activate=function(){return te.apply(this,a(arguments))},e.blur=e.deactivate=function(){return ne.apply(this,a(arguments))},e.activeElement=function(){return re.apply(this,a(arguments))};var Se=0,s={},Ae=0,g={},E={};o(r,{autoActivate:!0});var $e=function _clientConstructor(n){var t=this;t.id=""+Se++,s[t.id]={instance:t,elements:[],handlers:{}},n&&t.clip(n),e.on("*",function(e){return t.emit(e)}),e.on("destroy",function(){t.destroy()}),e.create()},Be=function _clientOn(n,f){var e,a,r,i={},o=s[this.id]&&s[this.id].handlers;if("string"==typeof n&&n)r=n.toLowerCase().split(/\s+/);else if("object"==typeof n&&n&&"undefined"==typeof f)for(e in n)l.call(n,e)&&"string"==typeof e&&e&&"function"==typeof n[e]&&this.on(e,n[e]);if(r&&r.length){for(e=0,a=r.length;a>e;e++)n=r[e].replace(/^on/,""),i[n]=!0,o[n]||(o[n]=[]),o[n].push(f);if(i.ready&&t.ready&&this.emit({type:"ready",client:this}),i.error){var u=["disabled","outdated","unavailable","deactivated","overdue"];for(e=0,a=u.length;a>e;e++)if(t[u[e]]){this.emit({type:"error",name:"flash-"+u[e],client:this});break}}}return this},He=function _clientOff(e,i){var t,o,a,r,n,u=s[this.id]&&s[this.id].handlers;if(0===arguments.length)r=A(u);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof i)for(t in e)l.call(e,t)&&"string"==typeof t&&t&&"function"==typeof e[t]&&this.off(t,e[t]);if(r&&r.length)for(t=0,o=r.length;o>t;t++)if(e=r[t].toLowerCase().replace(/^on/,""),n=u[e],n&&n.length)if(i)for(a=n.indexOf(i);-1!==a;)n.splice(a,1),a=n.indexOf(i,a);else n.length=0;return this},Me=function _clientListeners(e){var n=null,t=s[this.id]&&s[this.id].handlers;return t&&(n="string"==typeof e&&e?t[e]?t[e].slice(0):[]:m(t)),n},Pe=function _clientEmit(e){if(Ue.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=o({},e));var t=o({},k(e),{client:this});Ge.call(this,t)}return this},Re=function _clientClip(e){e=H(e);for(var t=0;t<e.length;t++)if(l.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===g[e[t].zcClippingId].indexOf(this.id)&&g[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Ae++,g[e[t].zcClippingId]=[this.id],r.autoActivate===!0&&We(e[t]));var n=s[this.id]&&s[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},Ze=function _clientUnclip(e){var o=s[this.id];if(!o)return this;var i=o.elements,t;e="undefined"==typeof e?i.slice(0):H(e);for(var n=e.length;n--;)if(l.call(e,n)&&e[n]&&1===e[n].nodeType){for(t=0;-1!==(t=i.indexOf(e[n],t));)i.splice(t,1);var a=g[e[n].zcClippingId];if(a){for(t=0;-1!==(t=a.indexOf(this.id,t));)a.splice(t,1);0===a.length&&(r.autoActivate===!0&&De(e[n]),delete e[n].zcClippingId)}}return this},Ve=function _clientElements(){var e=s[this.id];return e&&e.elements?e.elements.slice(0):[]},Ke=function _clientDestroy(){this.unclip(),this.off(),delete s[this.id]},Ue=function _clientShouldEmit(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=s[this.id]&&s[this.id].elements,n=!!t&&t.length>0,r=!e.target||n&&-1!==t.indexOf(e.target),a=e.relatedTarget&&n&&-1!==t.indexOf(e.relatedTarget),i=e.client&&e.client===this;if(!(r||a||i))return!1;return!0},Ge=function _clientDispatchCallbacks(t){if("object"!=typeof t||!t||!t.type)return;var d=O(t),f=s[this.id]&&s[this.id].handlers["*"]||[],c=s[this.id]&&s[this.id].handlers[t.type]||[],a=f.concat(c);if(a&&a.length){var r,l,e,i,u,p=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=p,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"==typeof e&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(u=o({},t),S(e,i,[u],d))}return this},H=function _prepClip(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},We=function _addMouseHandlers(t){if(!t||1!==t.nodeType)return;var r=function _suppressMouseEvents(e){if(!e&&!(e=n.event))return;"js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source},a=function _elementMouseOver(a){if(!a&&!(a=n.event))return;r(a),e.focus(t)};t.addEventListener("mouseover",a,!1),t.addEventListener("mouseout",r,!1),t.addEventListener("mouseenter",r,!1),t.addEventListener("mouseleave",r,!1),t.addEventListener("mousemove",r,!1),E[t.zcClippingId]={mouseover:a,mouseout:r,mouseenter:r,mouseleave:r,mousemove:r}},De=function _removeMouseHandlers(e){if(!e||1!==e.nodeType)return;var t=E[e.zcClippingId];if("object"!=typeof t||!t)return;for(var n,r,i=["move","leave","enter","out","over"],a=0,o=i.length;o>a;a++)n="mouse"+i[a],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete E[e.zcClippingId]};e._createClient=function(){$e.apply(this,a(arguments))},e.prototype.on=function(){return Be.apply(this,a(arguments))},e.prototype.off=function(){return He.apply(this,a(arguments))},e.prototype.handlers=function(){return Me.apply(this,a(arguments))},e.prototype.emit=function(){return Pe.apply(this,a(arguments))},e.prototype.clip=function(){return Re.apply(this,a(arguments))},e.prototype.unclip=function(){return Ze.apply(this,a(arguments))},e.prototype.elements=function(){return Ve.apply(this,a(arguments))},e.prototype.destroy=function(){return Ke.apply(this,a(arguments))},e.prototype.setText=function(t){return e.setData("text/plain",t),this},e.prototype.setHtml=function(t){return e.setData("text/html",t),this},e.prototype.setRichText=function(t){return e.setData("application/rtf",t),this},e.prototype.setData=function(){return e.setData.apply(this,a(arguments)),this},e.prototype.clearData=function(){return e.clearData.apply(this,a(arguments)),this},e.prototype.getData=function(){return e.getData.apply(this,a(arguments))},"function"==typeof define&&define.amd?define("bundles/zeroclipboard/ZeroClipboard.v2-1-6",[],function(){return e}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=e:b.ZeroClipboard=e}(function(){return this||window}());
define("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6",["require","exports","module","jquery","bundles/zeroclipboard/ZeroClipboard.v2-1-6","js/app/config","js/lib/path"],function(require,exports,module){var $=require("jquery"),a=require("bundles/zeroclipboard/ZeroClipboard.v2-1-6"),e=require("js/app/config"),n=require("js/lib/path"),i=n.join(e.url.app_assets,"bundles/zeroclipboard/ZeroClipboard.swf");a.config({swfPath:i});var r={constants:{"data.clipboard":"clipboard.me"},getClipboard:function getClipboard(a){return $(a).data(r.constants["data.clipboard"])},makeClipboard:function makeClipboard(o){var n=$(o),e=new a(o);return n.data(r.constants["data.clipboard"],e),e}},o=function external(){if(!a.isFlashUnusable())return r.getClipboard.apply(null,arguments)||r.makeClipboard.apply(this,arguments)};o.isEnabled=function(){return!a.isFlashUnusable()},module.exports=o});
define("bundles/ui/components/CopyLink/ZeroClipboardCopyLink",["require","exports","module","react-dom","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","react-with-addons","bundles/iconfont/Icon","i18n!nls/ondemand","classnames"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var o=i[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=function get(i,c,l){var o=!0;e:for(;o;){var t=i,a=c,s=l;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,c=a,l=s,o=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(s)}},i=require("react-dom"),t=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),e=require("react-with-addons"),a=require("bundles/iconfont/Icon"),o=require("i18n!nls/ondemand"),n=require("classnames"),c=function(c){function ZeroClipboardCopyLink(){var e=this;_classCallCheck(this,ZeroClipboardCopyLink),r(Object.getPrototypeOf(ZeroClipboardCopyLink.prototype),"constructor",this).apply(this,arguments),this.state={isCopied:!1,isZeroClipboardEnabled:t.isEnabled()},this.copyLinkToClipboard=function(t){e.setState({isCopied:!0}),setTimeout(e.reset,3e3)},this.reset=function(){e.setState({isCopied:!1})}}return _inherits(ZeroClipboardCopyLink,c),s(ZeroClipboardCopyLink,[{key:"componentDidMount",value:function componentDidMount(){this.state.isZeroClipboardEnabled&&t(i.findDOMNode(this.refs.copyButton))}},{key:"render",value:function render(){var t=n("caption-text","color-secondary-text","clipboard-message",{"transition-in":this.state.isCopied}),r=n("horizontal-box","box",{copied:this.state.isCopied}),i=e.createElement("button",{ref:"copyButton","data-clipboard-target":"link",onClick:this.copyLinkToClipboard,className:"secondary copy"},o("Copy")),s=e.createElement("button",{className:"primary checkmark"},e.createElement(a,{name:"check"}));return e.createElement("div",null,e.createElement("div",{className:r},e.createElement("div",{id:"link",className:"flex-1 link horizontal-box align-items-vertical-center bgcolor-white"},this.props.shareLink),this.state.isCopied?s:i),this.state.isCopied&&e.createElement("div",{className:t},o("Copied to clipboard")))}}],[{key:"propTypes",value:{shareLink:e.PropTypes.string.isRequired},enumerable:!0}]),ZeroClipboardCopyLink}(e.Component);module.exports=c});

define('css!bundles/ui/components/CopyLink/__styles__/CopyLink',[],function(){})
define("bundles/ui/components/CopyLink/CopyLink",["require","exports","module","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","react-with-addons","classnames","bundles/ui/components/CopyLink/ZeroClipboardCopyLink","css!./__styles__/CopyLink"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),r=function get(i,p,c){var r=!0;e:for(;r;){var t=i,s=p,a=c;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,p=s,c=a,r=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},n=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),e=require("react-with-addons"),o=require("classnames"),i=require("bundles/ui/components/CopyLink/ZeroClipboardCopyLink");require("css!./__styles__/CopyLink");var s=function(n){function CopyLinkWithoutClipboard(){_classCallCheck(this,CopyLinkWithoutClipboard),r(Object.getPrototypeOf(CopyLinkWithoutClipboard.prototype),"constructor",this).apply(this,arguments)}return _inherits(CopyLinkWithoutClipboard,n),t(CopyLinkWithoutClipboard,[{key:"render",value:function render(){return e.createElement("div",null,e.createElement("input",{type:"text",className:"c-link-input color-primary-text body-1-text",value:this.props.shareLink,readOnly:"readonly"}),e.createElement("div",{className:"caption-text color-hint-text c-copy-message"},this.props.message))}}],[{key:"propTypes",value:{shareLink:e.PropTypes.string.isRequired,message:e.PropTypes.string.isRequired},enumerable:!0}]),CopyLinkWithoutClipboard}(e.Component),a=function(a){function CopyLink(){_classCallCheck(this,CopyLink),r(Object.getPrototypeOf(CopyLink.prototype),"constructor",this).apply(this,arguments),this.state={isZeroClipboardEnabled:n.isEnabled()}}return _inherits(CopyLink,a),t(CopyLink,[{key:"render",value:function render(){var t=this.props,n=t.className,r=t.shareLink,a=t.message,p=o(n,"rc-CopyLink","vertical-box");return e.createElement("div",{className:p},this.state.isZeroClipboardEnabled?e.createElement(i,{shareLink:r}):e.createElement(s,{shareLink:r,message:a}))}}],[{key:"propTypes",value:{shareLink:e.PropTypes.string.isRequired,message:e.PropTypes.string.isRequired,className:e.PropTypes.string},enumerable:!0}]),CopyLink}(e.Component);module.exports=a});

define('css!bundles/discussions/components/__styles__/ShareModal',[],function(){})
define("bundles/discussions/components/ShareModal",["require","exports","module","i18n!nls/discussions","react-with-addons","bundles/phoenix/components/Modal","bundles/discussions/utils/discussionsUrl","bundles/ui/components/CopyLink/CopyLink","bundles/discussions/viewModels/viewContext","css!./__styles__/ShareModal"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(r,l,a){var n=!0;e:for(;n;){var t=r,i=l,u=a;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;r=o,l=i,a=u,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var s=e.get;if(void 0===s)return void 0;return s.call(u)}},t=require("i18n!nls/discussions"),e=require("react-with-addons"),s=require("bundles/phoenix/components/Modal"),r=require("bundles/discussions/utils/discussionsUrl"),i=r.buildUrl,u=require("bundles/ui/components/CopyLink/CopyLink"),l=require("bundles/discussions/viewModels/viewContext");require("css!./__styles__/ShareModal");var a=function(r){function ShareModal(){_classCallCheck(this,ShareModal),o(Object.getPrototypeOf(ShareModal.prototype),"constructor",this).apply(this,arguments)}return _inherits(ShareModal,r),n(ShareModal,[{key:"render",value:function render(){var n=window.location.origin+i(this.context.viewContext.get("discussionsLink"),this.props.post.questionId,this.props.post.answerId,this.props.post.commentId);return e.createElement(s,{handleClose:this.props.handleClose,className:"rc-ShareModal"},e.createElement("h3",{className:"c-modal-title headline-3-text"},t("Share Post")),e.createElement(u,{shareLink:n,message:t("Copy the url for the post")}))}}],[{key:"propTypes",value:{handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(l).isRequired},enumerable:!0}]),ShareModal}(e.Component);module.exports=a});
define("bundles/groups/constants/GroupRoles",["require","exports","module","js/lib/keysToConstants"],function(require,exports,module){var e=require("js/lib/keysToConstants");module.exports=e(["Member","GroupManager","DerivedGroupManager"])});
define("pages/open-course/common/promises/groupAuthorizationPromise",["require","exports","module","q","underscore","bundles/phoenix/template/models/userAuthorization","bundles/groups/constants/GroupRoles","bundles/phoenix/template/models/userIdentity","bundles/groups/utils/GroupMembershipAPIUtils"],function(require,exports,module){var e=require("q"),_=require("underscore"),o=require("bundles/phoenix/template/models/userAuthorization"),t=require("bundles/groups/constants/GroupRoles"),n=require("bundles/phoenix/template/models/userIdentity"),s=require("bundles/groups/utils/GroupMembershipAPIUtils"),r={},u=function GroupMembershipsPromise(u){if(!o.get("authenticated"))return e({canModerate:!1});if(o.get("is_superuser"))return e({canModerate:!0});if(r[u])return e(r[u]);return s.getMembershipsForUser(n.id).then(function(o){var n=o.elements,s=_(n).find(function(e){return e.groupId===u&&(e.role===t.GroupManager||e.role===t.DerivedGroupManager)}),e={canModerate:!1};return s&&(e={canModerate:!0}),r[u]=e,e})};module.exports=u});

define('css!bundles/discussions/components/__styles__/ModerationDropdown',[],function(){})
define("bundles/discussions/components/ModerationDropdown",["require","exports","module","jquery","jsuri","react-dom","react-with-addons","underscore","bundles/discussions/actions/DropdownActions","bundles/discussions/components/Delete","bundles/discussions/components/EditThreadModal","bundles/discussions/components/EditWithModerationModal","bundles/discussions/components/FlaggingModal","bundles/discussions/components/ShareModal","bundles/discussions/viewModels/viewContext","bundles/phoenix/template/models/userIdentity","bundles/programming/utils/ProgrammingPermissionsUtils","i18n!nls/discussions","pages/open-course/common/promises/courseAuthorization","pages/open-course/common/promises/groupAuthorizationPromise","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/ModerationDropdown"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var o=i[t],s=Object.getOwnPropertyDescriptor(n,o);s&&s.configurable&&void 0===e[o]&&Object.defineProperty(e,o,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(s,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),m=function get(i,l,d){var o=!0;e:for(;o;){var t=i,r=l,a=d;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;i=s,l=r,d=a,o=!0,e=s=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}},$=require("jquery"),w=require("jsuri"),g=require("react-dom"),e=require("react-with-addons"),_=require("underscore"),o=require("bundles/discussions/actions/DropdownActions"),a=o.showAdminDetails,l=o.hideAdminDetails,d=o.showReplyEditor,c=require("bundles/discussions/components/Delete"),r=require("bundles/discussions/components/EditThreadModal"),u=require("bundles/discussions/components/EditWithModerationModal"),p=require("bundles/discussions/components/FlaggingModal"),h=require("bundles/discussions/components/ShareModal"),n=require("bundles/discussions/viewModels/viewContext"),i=require("bundles/phoenix/template/models/userIdentity"),f=require("bundles/programming/utils/ProgrammingPermissionsUtils"),t=require("i18n!nls/discussions"),M=require("pages/open-course/common/promises/courseAuthorization"),y=require("pages/open-course/common/promises/groupAuthorizationPromise"),b=require("pages/open-course/common/constants"),v=b.courseSlug,E=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/ModerationDropdown");var D=function(o){function ModerationDropdown(t,o){var e=this;_classCallCheck(this,ModerationDropdown),m(Object.getPrototypeOf(ModerationDropdown.prototype),"constructor",this).call(this,t,o),this.onEditClick=function(){e.state.postedByUser||"question"===e.props.post.type?e.showEdit():e.showEditWithModerationModal()},this.onFlaggingClick=function(){e.setState({showFlaggingModal:!0}),e.closeDropdown()},this.onShareClick=function(){e.setState({showShareModal:!0}),e.closeDropdown()},this.hideFlaggingModal=function(){e.setState({showFlaggingModal:!1})},this.hideEditQuestion=function(){e.setState({showEditThreadModal:!1})},this.hideEditWithModerationModal=function(){e.setState({showEditWithModerationModal:!1})},this.closeOnOutsideClick=function(t){$(g.findDOMNode(e)).find($(t.target)).length<=0&&e.closeDropdown()},this.showAdminDetails=function(){e.setState({showAdminDetails:!0}),e.context.executeAction(a,{post:e.props.post}),e.closeDropdown()},this.hideAdminDetails=function(){e.setState({showAdminDetails:!1}),e.context.executeAction(l,{post:e.props.post}),e.closeDropdown()},this.showDeleteModal=function(){e.setState({showDeleteModal:!0}),e.closeDropdown()},this.hideDeleteModal=function(){e.setState({showDeleteModal:!1})},this.editWithModerationModalSuccess=function(t,o){e.hideEditWithModerationModal(),e.showEditReply(t,o)},this.openDropdown=function(){e.setState({expandDropdown:!0}),$("body").on("click",e.closeOnOutsideClick)},this.hideShareModal=function(){e.setState({showShareModal:!1})},this.showEdit=function(){"question"===e.props.post.type?e.showEditQuestion():e.showEditReply(),e.closeDropdown()},this.showSubmissions=function(){var t=e.props.post,o=e.context.viewContext,s=o.get("id"),n=new w("/teach/"+v+"/monitor/programming").addQueryParam("assignmentId",s).addQueryParam("userId",t.creatorId).toString();window.open(n,"_blank"),e.closeDropdown()},this.state={expandDropdown:!1,showDeleteModal:!1,postedByUser:t.creator.id===i.get("id"),canModerate:!1,showAdminDetails:!1,showEditThreadModal:!1,showEditWithModerationModal:!1,showShareModal:!1}}return _inherits(ModerationDropdown,o),s(ModerationDropdown,null,[{key:"propTypes",value:{creator:e.PropTypes.object.isRequired,post:e.PropTypes.object.isRequired,hasTeachingRole:e.PropTypes.bool.isRequired,onDeleteSuccess:e.PropTypes.func,isProgrammingItem:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(n).isRequired,executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),s(ModerationDropdown,[{key:"componentWillMount",value:function componentWillMount(){var e=this,t=void 0;t=this.context.viewContext.get("groupId")?y(this.context.viewContext.get("groupId")):M,t.then(function(t){e._isMounted&&e.setState(t)})}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=!0}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=!1}},{key:"componentWillUnmount",value:function componentWillUnmount(){$("body").off("click",this.closeOnOutsideClick)}},{key:"closeDropdown",value:function closeDropdown(){this.setState({expandDropdown:!1}),$("body").off("click",this.closeOnOutsideClick)}},{key:"showEditQuestion",value:function showEditQuestion(){this.setState({showEditThreadModal:!0})}},{key:"showEditReply",value:function showEditReply(e,t){this.context.executeAction(d,{reply:this.props.post,reason:e,dontNotify:t})}},{key:"showEditWithModerationModal",value:function showEditWithModerationModal(){this.setState({showEditWithModerationModal:!0}),this.closeDropdown()}},{key:"render",value:function render(){var o=this,n=function deleteEntry(){if(this.state.postedByUser||this.state.canModerate)return e.createElement("li",{role:"dropdownitem",onClick:this.showDeleteModal,ref:"delete"},e.createElement("button",null,t("Delete")))},a=function editEntry(){if(this.state.postedByUser||this.state.canModerate)return e.createElement("li",{role:"dropdownitem",onClick:this.onEditClick,ref:"edit"},e.createElement("button",null,t("Edit")))},l=function flaggingEntry(){var o=this.props.post;if(!this.state.postedByUser)return e.createElement("li",{role:"dropdownitem","data-js":"flag-view",ref:"flag"},e.createElement("button",{onClick:this.onFlaggingClick},t(o.flagDetails&&o.flagDetails.isActive?"Resolve report":"Report this")))},d=e.createElement("li",{role:"dropdownitem",ref:"share"},e.createElement("button",{onClick:this.onShareClick},t("Link to Post"))),m=function adminDetailsEntry(){var o=this.props.hasTeachingRole;if(o||i.get("is_superuser"))return this.state.showAdminDetails?e.createElement("li",{role:"dropdownitem",onClick:this.hideAdminDetails,ref:"admin"},e.createElement("button",null,t("Hide User ID"))):e.createElement("li",{role:"dropdownitem",onClick:this.showAdminDetails,ref:"admin"},e.createElement("button",null,t("Show User ID")))},s=function submissionsEntry(){var o=this.props.hasTeachingRole,s=f.hasAdminPrivileges(o);if(!s||!this.props.isProgrammingItem)return null;return e.createElement("li",{role:"dropdownitem",onClick:this.showSubmissions,ref:"submissions"},e.createElement("button",null,t("View submissions")))},g=e.createElement(r,{question:this.props.post,handleClose:this.hideEditQuestion,showReasons:!this.state.postedByUser}),M=function editWithModerationModal(){return e.createElement(u,{handleCancel:o.hideEditWithModerationModal,handleSuccess:o.editWithModerationModalSuccess})},y=e.createElement(p,{post:this.props.post,handleClose:this.hideFlaggingModal}),b=e.createElement(h,{post:this.props.post,handleClose:this.hideShareModal}),v=e.createElement("ul",{role:"dropdown",className:"styleguide dropdown"},a.call(this),n.call(this),l.call(this),m.call(this),s.call(this),d),w=e.createElement(c,{showReasons:!this.state.postedByUser,onDeleteSuccess:this.props.onDeleteSuccess,handleClose:this.hideDeleteModal,post:this.props.post});return e.createElement("div",{className:"rc-Dropdown align-self-start"},e.createElement("button",{"aria-haspopup":"true","aria-label":"Settings Menu",ref:"open",onClick:this.openDropdown},e.createElement("i",{className:"cif-chevron-down c-dropdown-chevron"})),this.state.expandDropdown&&v,this.state.showDeleteModal&&w,this.state.showEditThreadModal&&g,this.state.showEditWithModerationModal&&M(),this.state.showFlaggingModal&&y,this.state.showShareModal&&b)}}]),ModerationDropdown}(e.Component);module.exports=E(D,["CourseMembershipStore","CourseStore"],function(e,a,t){var s=e.CourseMembershipStore,n=e.CourseStore,o="item"===t.viewContext.get("type")&&n.getMaterials().getItemMetadata(t.viewContext.get("id")),i=o&&o.getTypeName(),r=_(["gradedProgramming","ungradedProgramming"]).includes(i);return{hasTeachingRole:s.hasTeachingRole(),isProgrammingItem:r}},{viewContext:e.PropTypes.instanceOf(n).isRequired})});

define('css!bundles/discussions/components/profiles/__styles__/ProfileArea',[],function(){})
define("bundles/discussions/components/profiles/ProfileArea",["require","exports","module","react-with-addons","react-router","bundles/classmates/components/ProfileImageWithRole","bundles/classmates/components/MiniProfileRenderer","bundles/discussions/utils/discussionsUrl","css!./__styles__/ProfileArea"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),r=0;r<s.length;r++){var t=s[r],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var t=function(){function defineProperties(o,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),o=function get(s,a,u){var t=!0;e:for(;t;){var r=s,i=a,l=u;t=!1,null===r&&(r=Function.prototype);var e=Object.getOwnPropertyDescriptor(r,i);if(void 0===e){var o=Object.getPrototypeOf(r);if(null===o)return void 0;s=o,a=i,u=l,t=!0,e=o=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(l)}},e=require("react-with-addons"),r=require("react-router"),n=r.Link,s=require("bundles/classmates/components/ProfileImageWithRole"),i=require("bundles/classmates/components/MiniProfileRenderer"),l=require("bundles/discussions/utils/discussionsUrl"),a=l.getProfileLink;require("css!./__styles__/ProfileArea");var u=function(r){function ProfileArea(){_classCallCheck(this,ProfileArea),o(Object.getPrototypeOf(ProfileArea.prototype),"constructor",this).apply(this,arguments)}return _inherits(ProfileArea,r),t(ProfileArea,[{key:"render",value:function render(){var t=this,r=this.props,o=r.externalUserId,u=r.fullName,c=r.profileImageUrl,l=r.courseRole;return e.createElement("span",{className:"rc-ProfileArea"},e.createElement(n,{className:"nostyle c-profile-image-wrapper",to:a(o),onMouseEnter:function(e){return t.refs.miniProfile.display(e)},onMouseLeave:function(e){return t.refs.miniProfile.hide(e)}},e.createElement(s,{courseRole:l,profileImageUrl:c,fullName:u})),e.createElement("span",{"data-js":"mini-profile"},e.createElement(i,{ref:"miniProfile",source:"profileArea",externalId:o,courseRole:l})))}}],[{key:"propTypes",value:{externalUserId:e.PropTypes.string.isRequired,fullName:e.PropTypes.string.isRequired,profileImageUrl:e.PropTypes.string.isRequired,courseRole:e.PropTypes.string},enumerable:!0},{key:"contextTypes",value:{router:e.PropTypes.object.isRequired},enumerable:!0}]),ProfileArea}(e.Component);module.exports=u});

define('css!bundles/discussions/components/__styles__/AdminDetails',[],function(){})
define("bundles/discussions/components/AdminDetails",["require","exports","module","i18n!nls/discussions","react-with-addons","css!./__styles__/AdminDetails"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),r=function get(i,a,c){var r=!0;e:for(;r;){var t=i,s=a,u=c;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,a=s,c=u,r=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(u)}},n=require("i18n!nls/discussions"),e=require("react-with-addons");require("css!./__styles__/AdminDetails");var o=function(o){function AdminDetails(){_classCallCheck(this,AdminDetails),r(Object.getPrototypeOf(AdminDetails.prototype),"constructor",this).apply(this,arguments)}return _inherits(AdminDetails,o),t(AdminDetails,[{key:"render",value:function render(){var t=this.props.post;return t.showAdminDetails?e.createElement("div",{className:"rc-AdminDetails align-self-end"},e.createElement("p",null,n("User ID")+": "+t.creator.get("id"))):null}}],[{key:"propTypes",value:{post:e.PropTypes.object.isRequired},enumerable:!0}]),AdminDetails}(e.Component);module.exports=o});
define("bundles/discussions/components/NextViewLink",["require","exports","module","react-with-addons","react-router","bundles/discussions/viewModels/viewContext","bundles/discussions/actions/ThreadDetailsActions"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(i,c,a){var n=!0;e:for(;n;){var t=i,s=c,u=a;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;i=o,c=s,a=u,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(u)}},e=require("react-with-addons"),t=require("react-router"),r=t.Link,i=require("bundles/discussions/viewModels/viewContext"),s=require("bundles/discussions/actions/ThreadDetailsActions"),u=s.fetchNextViewInfo,c=function(t){function NextViewLink(){_classCallCheck(this,NextViewLink),o(Object.getPrototypeOf(NextViewLink.prototype),"constructor",this).apply(this,arguments)}return _inherits(NextViewLink,t),n(NextViewLink,[{key:"componentWillMount",value:function componentWillMount(){var e=this.props.question;"string"!=typeof e.nextViewName&&this.context.executeAction(u,{viewContext:this.context.viewContext,question:e})}},{key:"render",value:function render(){if(!this.props.question.nextViewName)return null;return e.createElement("span",{className:"rc-NextViewName"},e.createElement(r,{to:this.props.question.nextViewLink,className:"caption-text"},this.props.question.nextViewName))}}],[{key:"propTypes",value:{question:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(i).isRequired,executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),NextViewLink}(e.Component);module.exports=c});
define("bundles/discussions/components/CreatedTimeLink",["require","exports","module","react-with-addons","moment","bundles/discussions/utils/discussionsUrl","bundles/discussions/viewModels/viewContext"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),n=function get(i,c,a){var n=!0;e:for(;n;){var t=i,s=c,u=a;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;i=o,c=s,a=u,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(u)}},e=require("react-with-addons"),o=require("moment"),r=require("bundles/discussions/utils/discussionsUrl"),i=r.buildUrl,s=require("bundles/discussions/viewModels/viewContext"),u=function(r){function CreatedTimeLink(){_classCallCheck(this,CreatedTimeLink),n(Object.getPrototypeOf(CreatedTimeLink.prototype),"constructor",this).apply(this,arguments)}return _inherits(CreatedTimeLink,r),t(CreatedTimeLink,[{key:"render",value:function render(){var t=this.props.post,n=i(this.context.viewContext.get("discussionsLink"),this.props.post.questionId,this.props.post.answerId,this.props.post.commentId),r=o(new Date(t.createdAt)).fromNow();return e.createElement("a",{href:n,target:"_blank",className:"rc-CreatedTimeLink dim color-hint-text caption-text"},r)}}],[{key:"propTypes",value:{post:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(s).isRequired},enumerable:!0}]),CreatedTimeLink}(e.Component);module.exports=u});
define("bundles/discussions/components/EditIndicator",["require","exports","module","react-with-addons","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),r=function get(i,c,s){var r=!0;e:for(;r;){var t=i,u=c,a=s;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,c=u,s=a,r=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},e=require("react-with-addons"),n=require("i18n!nls/discussions"),o=function(o){function EditIndicator(){_classCallCheck(this,EditIndicator),r(Object.getPrototypeOf(EditIndicator.prototype),"constructor",this).apply(this,arguments)}return _inherits(EditIndicator,o),t(EditIndicator,[{key:"render",value:function render(){var t=this.props.post;if(!t.state.edited)return null;var r=t.state.edited.userId!==t.creator.get("id");return e.createElement("span",{className:"rc-EditIndicator"},e.createElement("span",null," · "),n(r?"Edited by moderator":"Edited"))}}],[{key:"propTypes",value:{post:e.PropTypes.object.isRequired},enumerable:!0}]),EditIndicator}(e.Component);module.exports=o});

define('css!bundles/discussions/components/__styles__/Upvote',[],function(){})
define("bundles/discussions/components/Upvote",["require","exports","module","react-with-addons","i18n!nls/discussions","bundles/phoenix/template/models/userIdentity","bundles/discussions/actions/ThreadDetailsActions","css!./__styles__/Upvote"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var o=s[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=function get(s,c,a){var o=!0;e:for(;o;){var t=s,i=c,u=a;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;s=n,c=i,a=u,o=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(u)}},e=require("react-with-addons"),t=require("i18n!nls/discussions"),s=require("bundles/phoenix/template/models/userIdentity"),o=require("bundles/discussions/actions/ThreadDetailsActions"),i=o.upvote,u=o.cancelUpvote;require("css!./__styles__/Upvote");var c=function(o){function Upvote(){var e=this;_classCallCheck(this,Upvote),r(Object.getPrototypeOf(Upvote.prototype),"constructor",this).apply(this,arguments),this.toggleUpvote=function(){var t=e.props.post;t.isUpvoted?e.context.executeAction(u,{post:t}):e.context.executeAction(i,{post:t})}}return _inherits(Upvote,o),n(Upvote,[{key:"formatVoteCount",value:function formatVoteCount(t){var e=t;return e.toString().length>3&&(e=Math.round(e/1e3*10)/10,e+="k"),e}},{key:"render",value:function render(){if(!this.props.post)return null;var o=this.props.post,r=o.creator.get("id")===s.get("id"),n=this.formatVoteCount(o.upvotes),i=o.upvoteError;return r?e.createElement("div",{className:"rc-Upvote"},e.createElement("div",{className:"cif-thumbs-o-up"}),e.createElement("span",null," ",n)):e.createElement("button",{className:"rc-Upvote",onClick:this.toggleUpvote},e.createElement("div",{className:"cif-thumbs-o-up"}),e.createElement("span",null," ",n," ",!o.isUpvoted&&t("Upvote")),i&&e.createElement("span",null,t("Sorry, something went wrong")))}}],[{key:"propTypes",value:{post:e.PropTypes.object},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),Upvote}(e.Component);module.exports=c});

define('css!bundles/discussions/components/__styles__/Follow',[],function(){})
define("bundles/discussions/components/Follow",["require","exports","module","react-with-addons","i18n!nls/discussions","bundles/discussions/actions/ThreadDetailsActions","css!./__styles__/Follow"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var o=i[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=function get(i,u,c){var o=!0;e:for(;o;){var t=i,s=u,l=c;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,u=s,c=l,o=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(l)}},e=require("react-with-addons"),t=require("i18n!nls/discussions"),o=require("bundles/discussions/actions/ThreadDetailsActions"),i=o.follow,s=o.unfollow;require("css!./__styles__/Follow");var l=function(o){function Follow(){var e=this;_classCallCheck(this,Follow),r(Object.getPrototypeOf(Follow.prototype),"constructor",this).apply(this,arguments),this.toggleFollowing=function(){var t=e.props.question;t.isFollowing?e.context.executeAction(s,{question:t}):e.context.executeAction(i,{question:t})}}return _inherits(Follow,o),n(Follow,[{key:"render",value:function render(){var o=this.props.question,n=o.isFollowing,r=o.followerCount,i=o.followError;return e.createElement("button",{onClick:this.toggleFollowing,className:"rc-Follow"},e.createElement("span",null,t(n?"Unfollow":"Follow")," "),e.createElement("span",{className:"follow-number"},r),i&&e.createElement("span",null,t("Sorry, something went wrong")))}}],[{key:"propTypes",value:{question:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),Follow}(e.Component);module.exports=l});

define('css!bundles/discussions/components/__styles__/DetailedQuestion',[],function(){})
define("bundles/discussions/components/DetailedQuestion",["require","exports","module","i18n!nls/discussions","classnames","react-with-addons","bundles/phoenix/components/CML","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/profiles/ProfileArea","bundles/discussions/viewModels/viewContext","js/lib/coursera.react-intl","bundles/discussions/components/AdminDetails","bundles/discussions/components/Badge","bundles/discussions/components/NextViewLink","bundles/discussions/components/CreatedTimeLink","bundles/discussions/components/EditIndicator","bundles/discussions/components/ProfileName","bundles/discussions/components/Upvote","bundles/discussions/components/Follow","css!./__styles__/DetailedQuestion"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var n=i[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(i,l,a){var n=!0;e:for(;n;){var t=i,r=l,c=a;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;i=s,l=r,a=c,n=!0,e=s=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(c)}},i=require("i18n!nls/discussions"),t=require("classnames"),e=require("react-with-addons"),r=require("bundles/phoenix/components/CML"),c=require("bundles/discussions/components/ModerationDropdown"),l=require("bundles/discussions/components/profiles/ProfileArea"),n=require("bundles/discussions/viewModels/viewContext"),a=require("js/lib/coursera.react-intl"),u=a.FormattedMessage,d=require("bundles/discussions/components/AdminDetails"),p=require("bundles/discussions/components/Badge"),m=require("bundles/discussions/components/NextViewLink"),f=require("bundles/discussions/components/CreatedTimeLink"),b=require("bundles/discussions/components/EditIndicator"),v=require("bundles/discussions/components/ProfileName"),g=require("bundles/discussions/components/Upvote"),y=require("bundles/discussions/components/Follow");require("css!./__styles__/DetailedQuestion");var E=function(a){function DetailedQuestion(){var e=this;_classCallCheck(this,DetailedQuestion),o(Object.getPrototypeOf(DetailedQuestion.prototype),"constructor",this).apply(this,arguments),this.onDeleteSuccess=function(t){if(!t){var n=e.context.viewContext.get("discussionsLink");e.context.router.replace(n)}}}return _inherits(DetailedQuestion,a),s(DetailedQuestion,[{key:"render",value:function render(){if(!this.props.question)return null;var n=this.props.question,o=n.flagDetails&&n.flagDetails.isActive,E=t("big",{flagged:o}),a=t({flagged:o}),s=n.creator;return e.createElement("div",{className:"rc-DetailedQuestion card-rich-interaction horizontal-box"},e.createElement("div",{className:"profile"},e.createElement(l,{externalUserId:s.get("externalUserId"),fullName:s.get("fullName"),profileImageUrl:s.getProfileImageUrl()})),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"horizontal-box"},e.createElement("p",{className:E},n.content.question),this.props.isPinned&&e.createElement("i",{className:"cif-pin cif-lg pin"})),e.createElement("div",{className:"metadata caption-text color-secondary-text"},e.createElement(v,{fullName:s.get("fullName"),externalId:s.get("externalUserId")}),e.createElement(p,{creator:s}),e.createElement(m,{question:this.props.question}),e.createElement("span",null," · "),e.createElement(f,{post:n}),e.createElement(b,{post:n})),e.createElement("div",{className:a},e.createElement(r,{cml:n.content.details,className:a})),e.createElement("div",{className:"action-area horizontal-box align-items-vertical-center caption-text color-secondary-text"},e.createElement(g,{post:n}),e.createElement("span",null," · "),e.createElement(y,{question:n}),e.createElement("span",null," · "),e.createElement("button",{href:"#input-container",onClick:this.props.goToInput},e.createElement(u,{message:i("Reply to {username}"),username:n.creator.get("fullName")})))),e.createElement(d,{post:n}),e.createElement(c,{onDeleteSuccess:this.onDeleteSuccess,creator:n.creator,post:n}))}}],[{key:"propTypes",value:{goToInput:e.PropTypes.func.isRequired,question:e.PropTypes.object,isPinned:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(n).isRequired,router:e.PropTypes.object.isRequired},enumerable:!0}]),DetailedQuestion}(e.Component);module.exports=E});
define("bundles/discussions/components/SessionDetails",["require","exports","module","i18n!nls/discussions","js/lib/coursera.react-intl","q","react-with-addons","bundles/ondemand/utils/onDemandSessionsApi","bundles/ondemand/sessions/models/Sessions"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var n=i[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),u=function get(i,l,u){var n=!0;e:for(;n;){var t=i,r=l,a=u;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;i=s,l=r,u=a,n=!0,e=s=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},t=require("i18n!nls/discussions"),i=require("js/lib/coursera.react-intl"),o=i.FormattedMessage,n=require("q"),e=require("react-with-addons"),a=require("bundles/ondemand/utils/onDemandSessionsApi"),l=require("bundles/ondemand/sessions/models/Sessions"),s=l.Session,c=function(i){function SessionDetails(){_classCallCheck(this,SessionDetails),u(Object.getPrototypeOf(SessionDetails.prototype),"constructor",this).apply(this,arguments),this.state={fromSession:null,loadingSessionDetails:!0}}return _inherits(SessionDetails,i),r(SessionDetails,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this._isMounted=!0;var s=this.props.question,e=s.sessionId;e||this.setState({loadingSessionDetails:!1});var o=e?a.getSession(e):n(null);n(o).then(function(e){t._isMounted&&t.setState({fromSession:e,loadingSessionDetails:!1})})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=!1}},{key:"renderSessionDetails",value:function renderSessionDetails(){if(this.state.loadingSessionDetails)return t("Loading");if(this.props.isPinned)return t("This thread is visible to all learners because it is pinned.");if(this.state.fromSession)return e.createElement(o,{message:t("This thread is only visible to learners in the {startDate} - {endDate} session."),startDate:s.formatDate(this.state.fromSession.startedAt),endDate:s.formatDate(this.state.fromSession.endedAt)});return t("This thread is only visible to on-demand learners.")}},{key:"render",value:function render(){return e.createElement("div",{className:"rc-SessionDetails mentor-message align-horizontal-center"},this.renderSessionDetails())}}],[{key:"propTypes",value:{question:e.PropTypes.object.isRequired,isPinned:e.PropTypes.bool},enumerable:!0}]),SessionDetails}(e.Component);module.exports=c});

define('css!bundles/discussions/components/repliesList/__styles__/RepliesSortBar',[],function(){})
define("bundles/discussions/components/repliesList/RepliesSortBar",["require","exports","module","classnames","react-with-addons","react-router","i18n!nls/discussions","bundles/discussions/constants","css!./__styles__/RepliesSortBar"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var c=function(){function defineProperties(o,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),u=function get(s,l,c){var r=!0;e:for(;r;){var t=s,i=l,a=c;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;s=o,l=i,c=a,r=!0,e=o=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}},t=require("classnames"),e=require("react-with-addons"),p=require("react-router"),r=p.Link,o=require("i18n!nls/discussions"),n=require("bundles/discussions/constants").answerSorts,i=n.oldestSort,a=n.popularSort,l=n.newestSort,s=function generateUrl(e){return window.location.pathname+"?sort="+e+"&page=1"};require("css!./__styles__/RepliesSortBar");var f=function(n){function RepliesSortBar(){_classCallCheck(this,RepliesSortBar),u(Object.getPrototypeOf(RepliesSortBar.prototype),"constructor",this).apply(this,arguments)}return _inherits(RepliesSortBar,n),c(RepliesSortBar,[{key:"render",value:function render(){var n=t("rc-RepliesSortBar","horizontal-box","align-items-spacebetween"),c=t("tab",{selected:this.props.sort===i}),u=t("tab",{selected:this.props.sort===a}),p=t("tab",{selected:this.props.sort===l});return e.createElement("div",{className:n},e.createElement("ul",{className:"tabs flex-2 shrink-block sorting-tabs"},e.createElement("li",{className:c},e.createElement(r,{to:s(i),title:"Show oldest replies."},o("Earliest"))),e.createElement("li",{style:{margin:"0 16px"},className:u},e.createElement(r,{to:s(a),title:"Show most popular replies."},o("Top"))),e.createElement("li",{className:p},e.createElement(r,{to:s(l),title:"Show latest replies."},o("Most Recent")))))}}],[{key:"propTypes",value:{sort:e.PropTypes.string},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),RepliesSortBar}(e.Component);module.exports=f});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyCML',[],function(){})
define("bundles/discussions/components/repliesList/ReplyCMLInput",["require","exports","module","i18n!nls/discussions","react-with-addons","react-dom","bundles/phoenix/components/CMLOrFallbackEditor","bundles/phoenix/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/phoenix/constants/CMLEditorPlugins","bundles/discussions/constants","pages/open-course/common/constants","bundles/discussions/constants","bundles/discussions/actions/ThreadDetailsActions","bundles/page/components/TrackedButton","css!./__styles__/ReplyCML","classnames"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),i=function get(r,c,l){var s=!0;e:for(;s;){var t=r,i=c,a=l;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;r=n,c=i,l=a,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},n=require("i18n!nls/discussions"),e=require("react-with-addons"),t=require("react-dom"),a=require("bundles/phoenix/components/CMLOrFallbackEditor"),c=require("bundles/phoenix/utils/CMLUtils"),s=require("bundles/discussions/utils/DiscussionsCMLUtils"),l=require("bundles/phoenix/constants/CMLEditorPlugins"),u=require("bundles/discussions/constants"),d=require("pages/open-course/common/constants"),p=require("bundles/discussions/constants"),o=p.savingStates,f=require("bundles/discussions/actions/ThreadDetailsActions"),h=f.savePost,b=require("bundles/page/components/TrackedButton");require("css!./__styles__/ReplyCML");var m=function(p){function ReplyCMLInput(n,o){var e=this;_classCallCheck(this,ReplyCMLInput),i(Object.getPrototypeOf(ReplyCMLInput.prototype),"constructor",this).call(this,n,o),this.handleInputChange=function(t){e.setState({cml:t,hasErrors:!s.validateLength(t),submitEnabled:!0})},this.handleSubmit=function(){if(e.state.hasErrors)return void t.findDOMNode(e.refs.content.refs.editorWrapper.refs.editor).focus();var s={data:{content:e.state.cml,questionId:e.props.parentPost.questionId,parentAnswerId:e.props.parentPost.answerId||null}};e.context.executeAction(h,{options:s,parentPost:e.props.parentPost}),e.setState({submitEnabled:!1})},this.setFocus=function(){e.setState({focus:!0})},this.state=this.getDefaultState()}return _inherits(ReplyCMLInput,p),r(ReplyCMLInput,null,[{key:"propTypes",value:{parentPost:e.PropTypes.object.isRequired,savingState:e.PropTypes.string.isRequired,hideToolbar:e.PropTypes.bool,placeholder:e.PropTypes.string},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},enumerable:!0},{key:"defaultProps",value:{placeholder:"Reply",savingState:o.UNCHANGED},enumerable:!0}]),r(ReplyCMLInput,[{key:"componentDidMount",value:function componentDidMount(){t.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).addEventListener("focus",this.setFocus)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.savingState!==this.props.savingState&&(e.savingState===o.SAVED?this.setState(Object.assign(this.getDefaultState(),{editorKey:this.state.editorKey+1})):e.savingState===o.ERROR)}},{key:"componentWillUnmount",value:function componentWillUnmount(){t.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).removeEventListener("focus",this.setFocus)}},{key:"getDefaultState",value:function getDefaultState(){var e=[];return this.props.hideToolbar||"answer"!==!this.props.parentPost.type||e.push(l.ToolbarVisibility),{blocks:s.getDefaultBlocks(),cml:c.create("",u.DTD_NAME),hasErrors:!1,submitEnabled:!1,disabledPlugins:e,focus:!1,editorKey:1}}},{key:"focus",value:function focus(){setTimeout(function(){t.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus(),t.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).click()}.bind(this),0)}},{key:"render",value:function render(){var t=s.generateContentLengthWarning(this.state.cml),r=e.createElement("div",{className:"c-error-text c-form-error-message"},n("Something went wrong. Please reload the page and try again.")),i=require("classnames"),c=i({"rc-ReplyCML":!0,collapsed:!this.state.focus}),l=this.props.parentPost.questionId;return e.createElement("div",{className:c},e.createElement("div",{className:"editor-container"},e.createElement(a,{ref:"content",onChange:this.handleInputChange,placeholder:n(this.props.placeholder),cml:this.state.cml,changeDelay:100,blocks:this.state.blocks,disabledPlugins:this.state.disabledPlugins,imageUploadOptions:s.getImageUploadOptions(d.courseId,l),title:n("Post Reply"),key:this.state.editorKey})),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("div",{className:"flex-2"},t,this.props.savingState===o.ERROR&&r),e.createElement(b,{ref:"submit",disabled:!this.state.submitEnabled||this.state.hasErrors,className:"secondary",onClick:this.handleSubmit,trackingName:"thread_reply"},n("Reply"))))}}]),ReplyCMLInput}(e.Component);module.exports=m});
define("bundles/discussions/components/repliesList/ReplyCMLEdit",["require","exports","module","i18n!nls/discussions","react-with-addons","react-dom","bundles/phoenix/components/CMLOrFallbackEditor","bundles/phoenix/utils/CMLUtils","bundles/discussions/constants","pages/open-course/common/constants","bundles/discussions/utils/DiscussionsCMLUtils","bundles/phoenix/constants/CMLEditorPlugins","bundles/discussions/actions/DropdownActions","css!bundles/discussions/components/__styles__/NewThreadFormComponents"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var n=i[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),d=function get(i,c,l){var n=!0;e:for(;n;){var t=i,r=c,a=l;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;i=s,c=r,l=a,n=!0,e=s=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},t=require("i18n!nls/discussions"),e=require("react-with-addons"),o=require("react-dom"),c=require("bundles/phoenix/components/CMLOrFallbackEditor"),a=require("bundles/phoenix/utils/CMLUtils"),i=require("bundles/discussions/constants"),l=require("pages/open-course/common/constants"),n=require("bundles/discussions/utils/DiscussionsCMLUtils"),u=require("bundles/phoenix/constants/CMLEditorPlugins"),r=require("bundles/discussions/actions/DropdownActions"),p=r.hideReplyEditor,b=r.editReply;require("css!bundles/discussions/components/__styles__/NewThreadFormComponents");var f=function(r){function ReplyCMLEdit(o,r){var e=this;_classCallCheck(this,ReplyCMLEdit),d(Object.getPrototypeOf(ReplyCMLEdit.prototype),"constructor",this).call(this,o,r),this.handleSubmit=function(){if(e.state.hasErrors)return void e.refs.content.refs.editorWrapper.refs.editor.focus();e.setState({submitEnabled:!1}),e.context.executeAction(b,{reply:e.props.reply,content:e.state.cml,handleFailure:e.onSubmitError,onSuccess:e.onSubmitSuccess})},this.handleCancel=function(){e.hideEdit()},this.handleInputChange=function(t){e.setState({cml:t,hasErrors:!n.validateLength(t),submitEnabled:t.definition.value!==e.state.initialValue})},this.onSubmitError=function(t){e.setState({submitError:!0,submitEnabled:!0})},this.onSubmitSuccess=function(){};var t=o.reply.content,s=t;if(!t||!t.typeName){var c="<co-content><text>"+(t||"")+"</text></co-content>";s=a.create(c,i.DTD_NAME)}s.definition.dtdId=i.DTD_NAME,this.state={blocks:n.getDefaultBlocks(),initialValue:s.definition.value,cml:s,hasErrors:!1,submitError:!1,lengthError:!1,submitEnabled:!1}}return _inherits(ReplyCMLEdit,r),s(ReplyCMLEdit,null,[{key:"propTypes",value:{reply:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),s(ReplyCMLEdit,[{key:"componentDidMount",value:function componentDidMount(){o.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus&&o.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus()}},{key:"hideEdit",value:function hideEdit(){this.context.executeAction(p,{reply:this.props.reply})}},{key:"render",value:function render(){var s=n.generateContentLengthWarning(this.state.cml),o=e.createElement("div",{className:"c-error-text c-form-error-message"},t("Something went wrong. Please reload the page and try again.")),i=this.props.reply.questionId;return e.createElement("div",{className:"rc-ReplyCML","data-rc":"ReplyCML"},e.createElement("div",{className:"editor-container"},e.createElement(c,{ref:"content",placeholder:t("Reply"),onChange:this.handleInputChange,cml:this.state.cml,changeDelay:100,blocks:this.state.blocks,imageUploadOptions:n.getImageUploadOptions(l.courseId,i),disabledPlugins:[u.ToolbarVisibility],title:t("Edit Reply")})),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("div",{className:"flex-2"},s,this.state.submitError&&o),e.createElement("button",{className:"passive cancel",onClick:this.handleCancel},t("Cancel")),e.createElement("button",{ref:"submit",className:"secondary",onClick:this.handleSubmit,disabled:!this.state.submitEnabled||this.state.hasErrors},t("Save"))))}}]),ReplyCMLEdit}(e.Component);module.exports=f});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyComponent',[],function(){})
define("bundles/discussions/components/repliesList/ReplyComponent",["require","exports","module","underscore","jquery","react-with-addons","react-dom","classnames","i18n!nls/discussions","js/lib/coursera.react-intl","bundles/discussions/components/profiles/ProfileArea","bundles/discussions/components/ProfileName","bundles/discussions/components/AdminDetails","bundles/phoenix/components/CML","bundles/discussions/components/repliesList/ReplyCMLEdit","bundles/discussions/components/Badge","bundles/discussions/components/CreatedTimeLink","bundles/discussions/components/EditIndicator","bundles/discussions/components/Upvote","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/SoftDelete","css!./__styles__/ReplyComponent"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var o=r[t],n=Object.getOwnPropertyDescriptor(s,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),c=function get(r,c,a){var o=!0;e:for(;o;){var t=r,l=c,i=a;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,l);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;r=n,c=l,a=i,o=!0,e=n=void 0;continue e}if("value"in e)return e.value;var s=e.get;if(void 0===s)return void 0;return s.call(i)}},_=require("underscore"),$=require("jquery"),e=require("react-with-addons"),E=require("react-dom"),o=require("classnames"),t=require("i18n!nls/discussions"),a=require("js/lib/coursera.react-intl"),s=a.FormattedMessage,p=require("bundles/discussions/components/profiles/ProfileArea"),i=require("bundles/discussions/components/ProfileName"),d=require("bundles/discussions/components/AdminDetails"),u=require("bundles/phoenix/components/CML"),m=require("bundles/discussions/components/repliesList/ReplyCMLEdit"),f=require("bundles/discussions/components/Badge"),y=require("bundles/discussions/components/CreatedTimeLink"),b=require("bundles/discussions/components/EditIndicator"),g=require("bundles/discussions/components/Upvote"),v=require("bundles/discussions/components/ModerationDropdown"),h=require("bundles/discussions/components/SoftDelete"),r=1e3,l=10;require("css!./__styles__/ReplyComponent");var P=function(a){function ReplyComponent(e,t){_classCallCheck(this,ReplyComponent),c(Object.getPrototypeOf(ReplyComponent.prototype),"constructor",this).call(this,e,t),this.wrappedScrollToLocation=_.once(this.scrollToLocation)}return _inherits(ReplyComponent,a),n(ReplyComponent,null,[{key:"propTypes",value:{reply:e.PropTypes.object.isRequired,commentsEnabled:e.PropTypes.bool,toggleComments:e.PropTypes.func,answerId:e.PropTypes.string,commentId:e.PropTypes.string,commentCount:e.PropTypes.number,className:e.PropTypes.string,children:e.PropTypes.node,isQuestionLoaded:e.PropTypes.bool},enumerable:!0}]),n(ReplyComponent,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.isDeepLinked()&&this.props.isQuestionLoaded&&this.wrappedScrollToLocation()}},{key:"isDeepLinked",value:function isDeepLinked(){var e=this.props,t=e.reply,o=e.commentId,n=e.answerId;return"comment"===t.type&&t.id===o||!o&&t.id===n}},{key:"scrollToLocation",value:function scrollToLocation(){var t=E.findDOMNode(this.refs.reply),e=$(t).offset().top;if($("main.od-contents").length)$("main.od-contents").animate({scrollTop:e+$("main.od-contents").scrollTop()-$("main.od-contents").offset().top-l},r);else if("hidden"!==$("body").css("overflow")){var o=$(".rc-PageHeader").length?$(".rc-PageHeader")[0].offsetHeight:0;$("body").animate({scrollTop:e+$("body").scrollTop()-$("body").offset().top-o-l},r)}}},{key:"renderShowToggle",value:function renderShowToggle(){var n=this.props,r=n.commentsEnabled,o=n.commentCount,l=e.createElement("button",{onClick:this.props.toggleComments},e.createElement(s,{message:t("Show {count} {count, plural, =1 {Reply} other {Replies}}"),count:o})),i=e.createElement("button",{onClick:this.props.toggleComments},e.createElement(s,{message:t("Hide {count} {count, plural, =1 {Reply} other {Replies}}"),count:o})),c=e.createElement("button",{onClick:this.props.toggleComments},t("Reply")),a=e.createElement("button",{onClick:this.props.toggleComments},t("Hide"));return r?o?i:a:o?l:c}},{key:"render",value:function render(){var t=this.props.reply,n=t.creator;if(t.hide)return null;var s=o("horizontal-box",{"bgcolor-primary-light":this.isDeepLinked()},"reply-content"),r=o("rc-ReplyComponent",this.props.className),l=o("reply-details",{flag:t.flagDetails&&t.flagDetails.isActive}),c=e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"metadata caption-text color-secondary-text"},e.createElement(i,{fullName:n.get("fullName"),externalId:n.get("externalUserId")}),e.createElement(f,{creator:n}),e.createElement("span",null," · "),e.createElement(y,{post:t}),e.createElement(b,{post:t})),e.createElement("div",{className:l},e.createElement(u,{cml:t.content})),e.createElement("div",{className:"action-area horizontal-box align-items-vertical-center caption-text color-secondary-text"},e.createElement(g,{post:t}),"answer"===t.type&&e.createElement("span",null," · "),"answer"===t.type&&this.renderShowToggle(),e.createElement(d,{post:t}))),a=e.createElement("div",{className:"flex-1"},e.createElement(m,{reply:t}));return e.createElement("li",{className:r,ref:"reply"},e.createElement("div",null,e.createElement("div",{className:s},e.createElement("div",{className:"profile"},e.createElement(p,{externalUserId:t.creator.get("externalUserId"),fullName:t.creator.get("fullName"),profileImageUrl:t.creator.getProfileImageUrl()})),t.showEditor?a:c,e.createElement(v,{creator:n,post:t})),t.state.deleted&&e.createElement(h,{entry:t}),this.props.children))}}]),ReplyComponent}(e.Component);module.exports=P});
define("bundles/discussions/components/repliesList/CommentPaginationContainer",["require","exports","module","react-with-addons","i18n!nls/discussions","bundles/discussions/components/ListBody","bundles/discussions/components/repliesList/ReplyComponent","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/constants","bundles/discussions/actions/ThreadDetailsActions"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var d=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),s=function get(r,c,l){var n=!0;e:for(;n;){var t=r,i=c,a=l;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;r=o,c=i,l=a,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var s=e.get;if(void 0===s)return void 0;return s.call(a)}},e=require("react-with-addons"),r=require("i18n!nls/discussions"),o=require("bundles/discussions/components/ListBody"),i=require("bundles/discussions/components/repliesList/ReplyComponent"),a=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),c=require("bundles/discussions/constants"),t=c.loadingStates,l=require("bundles/discussions/actions/ThreadDetailsActions"),n=l.fetchMultipleCommentPages,u=function(a){function CommentPaginationContainer(){var e=this;_classCallCheck(this,CommentPaginationContainer),s(Object.getPrototypeOf(CommentPaginationContainer.prototype),"constructor",this).apply(this,arguments),this.state={loadingComments:!1},this.loadEarlierReplies=function(){var t=e.props,s=t.reply,r=t.commentPageRange,o=r.endPage;e.context.executeAction(n,{answerId:s.id,startPage:o+1,endPage:o+1}),e.setState({loadingComments:!0})}}return _inherits(CommentPaginationContainer,a),d(CommentPaginationContainer,[{key:"componentWillMount",value:function componentWillMount(){var e=this.props,o=e.reply,t=e.answerId,s=e.commentId;s&&o.id===t&&this.context.executeAction(n,{answerId:t,startPage:1,endPage:100})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.props.commentLoadingState===t.LOADING&&this.props.commentLoadingState!==e.commentLoadingState&&this.setState({loadingComments:!1})}},{key:"render",value:function render(){var d=this,n=this.props,m=n.reply,c=n.comments,a=n.commentLoadingState,u=n.answerId,p=n.commentId,l=n.commentPageRange,s=this.state.loadingComments||a===t.LOADING,g=s?t.DONE:a;if(0===m.childAnswerCount)return null;return e.createElement("div",{className:"rc-CommentPaginationContainer vertical-box"},l.endPage<l.totalPageCount&&e.createElement("button",{className:"secondary reply-load-button",onClick:this.loadEarlierReplies,disabled:s},s?e.createElement("span",{className:"cif-spinner cif-spin"}):r("See earlier replies")),e.createElement(o,{loadingState:g},c&&c.map(function(t){return e.createElement(i,{reply:t,key:t.id,answerId:u,commentId:p,commentsEnabled:!1,ref:t.id,isQuestionLoaded:d.props.isQuestionLoaded})})))}}],[{key:"propTypes",value:{reply:e.PropTypes.object.isRequired,answerId:e.PropTypes.string,commentId:e.PropTypes.string,commentLoadingState:e.PropTypes.string,comments:e.PropTypes.array,commentPageRange:e.PropTypes.object,isQuestionLoaded:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),CommentPaginationContainer}(e.Component);module.exports=a(u,["ThreadDetailsStore"],function(o,s){var e=o.ThreadDetailsStore,n=s.reply;return{comments:e.getLoadedComments(n.id),commentLoadingState:e.commentLoadingState[n.id]||t.LOADING,commentPageRange:e.getCommentPageRange(n.id)}})});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyContainer',[],function(){})
define("bundles/discussions/components/repliesList/ReplyContainer",["require","exports","module","react-with-addons","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/components/profiles/ProfileArea","pages/open-course/common/models/currentSocialProfile","bundles/discussions/components/repliesList/ReplyCMLInput","bundles/discussions/components/repliesList/CommentPaginationContainer","bundles/discussions/components/repliesList/ReplyComponent","css!bundles/discussions/components/repliesList/__styles__/ReplyContainer"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),s=function get(r,a,c){var n=!0;e:for(;n;){var t=r,i=a,l=c;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;r=o,a=i,c=l,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var s=e.get;if(void 0===s)return void 0;return s.call(l)}},e=require("react-with-addons"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=require("bundles/discussions/components/profiles/ProfileArea"),t=require("pages/open-course/common/models/currentSocialProfile"),i=require("bundles/discussions/components/repliesList/ReplyCMLInput"),l=require("bundles/discussions/components/repliesList/CommentPaginationContainer"),a=require("bundles/discussions/components/repliesList/ReplyComponent");require("css!bundles/discussions/components/repliesList/__styles__/ReplyContainer");var c=function(o){function ReplyContainer(e,n){var t=this;_classCallCheck(this,ReplyContainer),s(Object.getPrototypeOf(ReplyContainer.prototype),"constructor",this).call(this,e,n),this.toggleComments=function(){t.setState({showComments:!t.state.showComments})},this.state={showComments:e.reply.childAnswerCount>0}}return _inherits(ReplyContainer,o),n(ReplyContainer,null,[{key:"propTypes",value:{reply:e.PropTypes.object.isRequired,savingState:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,isClosed:e.PropTypes.bool,comments:e.PropTypes.array,isQuestionLoaded:e.PropTypes.bool},enumerable:!0}]),n(ReplyContainer,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){if(!this.props.comments||!e.comments)return;this.props.comments.length<e.comments.length&&this.setState({showComments:!0})}},{key:"render",value:function render(){var n=this.props,o=n.reply,s=n.answerId,c=n.commentId,p=n.isClosed,u=n.savingState;if(o.hide)return null;return e.createElement(a,{reply:o,commentsEnabled:this.state.showComments,toggleComments:this.toggleComments,answerId:s,commentId:c,commentCount:o.childAnswerCount||0,className:"rc-ReplyContainer",isQuestionLoaded:this.props.isQuestionLoaded},this.state.showComments&&e.createElement("div",null,e.createElement(l,{reply:o,answerId:s,commentId:c,isQuestionLoaded:this.props.isQuestionLoaded}),!p&&e.createElement("div",{className:"comment-input horizontal-box"},e.createElement(r,{externalUserId:t.get("externalUserId"),fullName:t.get("fullName"),profileImageUrl:t.getProfileImageUrl()}),e.createElement(i,{savingState:u,parentPost:o}))))}}]),ReplyContainer}(e.Component);module.exports=o(c,["ThreadDetailsStore","ThreadSettingsStore"],function(e,o){var t=e.ThreadDetailsStore,s=e.ThreadSettingsStore,n=o.reply;return{comments:t.getLoadedComments(n.id),isClosed:s.isClosed(),savingState:t.savingStates[n.id]}})});
define("bundles/discussions/components/repliesList/RepliesList",["require","exports","module","react-with-addons","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","bundles/discussions/components/repliesList/RepliesSortBar","bundles/discussions/components/repliesList/ReplyContainer","bundles/page/components/PaginationControls","bundles/discussions/components/ListBody","bundles/discussions/constants","bundles/discussions/viewModels/viewContext","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var l=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),o=function get(r,p,u){var s=!0;e:for(;s;){var t=r,i=p,a=u;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;r=n,p=i,u=a,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},e=require("react-with-addons"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),i=require("i18n!nls/discussions"),n=require("bundles/discussions/components/repliesList/RepliesSortBar"),a=require("bundles/discussions/components/repliesList/ReplyContainer"),p=require("bundles/page/components/PaginationControls"),u=require("bundles/discussions/components/ListBody"),c=require("bundles/discussions/constants"),t=c.loadingStates,s=require("bundles/discussions/viewModels/viewContext");require("css!bundles/page/components/__styles__/PaginationControls.css");var d=function(r){function RepliesList(){var t=this;_classCallCheck(this,RepliesList),o(Object.getPrototypeOf(RepliesList.prototype),"constructor",this).apply(this,arguments),this.onPageChange=function(e){t.context.router.push({pathname:t.context.router.location.pathname,params:t.context.router.params,query:Object.assign(t.context.router.location.query,{page:e})})},this.renderReply=function(s,n){return e.createElement(a,{reply:s,savingState:t.props.savingStates[s.id],answerId:t.props.answerId,commentId:t.props.commentId,isQuestionLoaded:t.props.isLoaded,key:n,ref:s.id})}}return _inherits(RepliesList,r),l(RepliesList,[{key:"getChildContext",value:function getChildContext(){return{viewContext:this.props.viewContext?this.props.viewContext:this.context.viewContext}}},{key:"render",value:function render(){var s=this.props.loadingState===t.DONE;return e.createElement("div",null,e.createElement("div",{className:"rc-RepliesList card-rich-interaction nostyle"},e.createElement(n,{sort:this.props.sort}),e.createElement(u,{emptyStatePlaceholderText:i("No Replies Yet"),loadingState:this.props.loadingState},this.props.replies&&this.props.replies.map(this.renderReply))),s&&!!this.props.pageCount&&e.createElement(p,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5}))}}],[{key:"propTypes",value:{sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,questionId:e.PropTypes.string.isRequired,savingStates:e.PropTypes.object.isRequired,replies:e.PropTypes.array.isRequired,loadingState:e.PropTypes.string.isRequired,isLoaded:e.PropTypes.bool.isRequired,answerId:e.PropTypes.string,commentId:e.PropTypes.string,pageCount:e.PropTypes.number,viewContext:e.PropTypes.instanceOf(s)},enumerable:!0},{key:"contextTypes",value:{router:e.PropTypes.object.isRequired},enumerable:!0},{key:"childContextTypes",value:{viewContext:e.PropTypes.instanceOf(s).isRequired},enumerable:!0}]),RepliesList}(e.Component);module.exports=r(d,["ThreadDetailsStore"],function(i,r){var e=i.ThreadDetailsStore,s=r.questionId,n=r.page,o=r.sort;return{replies:e.getReplies(s,n,o)||[],pageCount:e.getPageCount(s,n,o),savingStates:e.savingStates,loadingState:e.getAnswerLoadedState({questionId:s,page:n,sort:o})||t.LOADING,isLoaded:e.isLoaded({questionId:s,page:n,sort:o})}})});
define("bundles/discussions/components/threadSettings/CloseThreadButton",["require","exports","module","react-with-addons","i18n!nls/discussions","bundles/discussions/actions/ThreadSettingsActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(r,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=function get(s,u,a){var o=!0;e:for(;o;){var t=s,i=u,c=a;o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;s=r,u=i,a=c,o=!0,e=r=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(c)}},e=require("react-with-addons"),t=require("i18n!nls/discussions"),o=require("bundles/discussions/actions/ThreadSettingsActions"),s=o.closeThread,i=o.uncloseThread,c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=function(o){function CloseThreadButton(){var e=this;_classCallCheck(this,CloseThreadButton),n(Object.getPrototypeOf(CloseThreadButton.prototype),"constructor",this).apply(this,arguments),this.toggleClosed=function(){e.props.isClosed?e.context.executeAction(i,e.props.questionId):e.context.executeAction(s,e.props.questionId)}}return _inherits(CloseThreadButton,o),r(CloseThreadButton,[{key:"renderErrorState",value:function renderErrorState(){if(this.props.isError)return e.createElement("div",{className:"errorMessage"},t("Sorry, something went wrong. Try again."))}},{key:"render",value:function render(){return e.createElement("div",{className:"rc-CloseThreadButton"},e.createElement("button",{className:"secondary",onClick:this.toggleClosed},t(this.props.isClosed?"Undo Close":"Close")),this.renderErrorState())}}],[{key:"propTypes",value:{viewContext:e.PropTypes.object.isRequired,questionId:e.PropTypes.string,isClosed:e.PropTypes.bool,isError:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),CloseThreadButton}(e.Component);module.exports=c(u,["ThreadSettingsStore"],function(t){var e=t.ThreadSettingsStore;return{questionId:e.getQuestionId(),isClosed:e.isClosed(),isError:e.isError()}})});
define("bundles/discussions/components/threadSettings/PinThreadButton",["require","exports","module","react-with-addons","i18n!nls/discussions","bundles/discussions/actions/ThreadSettingsActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var n=i[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(i,c,a){var n=!0;e:for(;n;){var t=i,s=c,u=a;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,c=s,a=u,n=!0,e=r=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(u)}},e=require("react-with-addons"),t=require("i18n!nls/discussions"),n=require("bundles/discussions/actions/ThreadSettingsActions"),i=n.pinThread,s=n.unpinThread,u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),c=function(n){function PinThreadButton(){var e=this;_classCallCheck(this,PinThreadButton),o(Object.getPrototypeOf(PinThreadButton.prototype),"constructor",this).apply(this,arguments),this.toggleClosed=function(){e.props.isPinned?e.context.executeAction(s,e.props.questionId):e.context.executeAction(i,e.props.questionId)}}return _inherits(PinThreadButton,n),r(PinThreadButton,[{key:"renderErrorState",value:function renderErrorState(){if(this.props.isError)return e.createElement("div",{className:"errorMessage"},t("Sorry, something went wrong. Try again."))}},{key:"render",value:function render(){return e.createElement("div",{className:"rc-PinThreadButton"},e.createElement("button",{className:"secondary",onClick:this.toggleClosed},t(this.props.isPinned?"Undo Pin":"Pin")),this.renderErrorState())}}],[{key:"propTypes",value:{viewContext:e.PropTypes.object.isRequired,questionId:e.PropTypes.string,isPinned:e.PropTypes.bool,isError:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0}]),PinThreadButton}(e.Component);module.exports=u(c,["ThreadSettingsStore"],function(t){var e=t.ThreadSettingsStore;return{questionId:e.getQuestionId(),isPinned:e.isPinned(),isError:e.isError()}})});

define('css!bundles/discussions/components/threadSettings/__styles__/MoveThreadModal',[],function(){})
define("bundles/discussions/components/threadSettings/MoveThreadModal",["require","exports","module","underscore","q","jsuri","i18n!nls/discussions","react-with-addons","pages/open-course/common/constants","bundles/phoenix/components/Modal","bundles/discussions/viewModels/viewContext","bundles/discussions/singletons/viewContexts","bundles/discussions/utils/discussionsUrl","bundles/discussions/components/NewThreadFormComponents","bundles/discussions/api/questions","css!./__styles__/MoveThreadModal"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var n=i[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(i,u,l){var n=!0;e:for(;n;){var t=i,r=u,a=l;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;i=s,u=r,l=a,n=!0,e=s=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},_=require("underscore"),i=require("q"),r=require("jsuri"),t=require("i18n!nls/discussions"),e=require("react-with-addons"),s=require("pages/open-course/common/constants"),a=require("bundles/phoenix/components/Modal"),u=require("bundles/discussions/viewModels/viewContext"),l=require("bundles/discussions/singletons/viewContexts"),c=require("bundles/discussions/utils/discussionsUrl"),d=c.buildUrl,p=require("bundles/discussions/components/NewThreadFormComponents"),h=p.ForumSelector,m=require("bundles/discussions/api/questions");require("css!./__styles__/MoveThreadModal");var v=function(c){function MoveThreadModal(t,a){var e=this;_classCallCheck(this,MoveThreadModal),o(Object.getPrototypeOf(MoveThreadModal.prototype),"constructor",this).call(this,t,a),this.handleSaveSuccess=function(){e.closeModal();var t=d(e.state.selectedForum.get("discussionsLink"),e.props.viewContext.get("question.id"));e.context.router.push(t)},this.handleSaveError=function(t){e.setState({saveError:!0,saving:!1})},this.handleInputChange=function(n,t){e.setState({selectedForum:t.value})},this.handleCloseModal=function(){e.closeModal()},this.handleCancel=function(){e.closeModal()},this.handleSubmit=function(){var t=e.state.selectedForum,o=(new r).addQueryParam("action","move").addQueryParam("id",e.props.question.id),n={context:{typeName:t.get("type"),definition:{courseId:s.courseId}}};"week"===t.get("type")?n.context.definition.weekNumber=parseInt(t.get("id"),10):n.context.definition[t.get("type")+"Id"]=t.get("id"),i(m.post(o.toString(),{data:n})).then(e.handleSaveSuccess)["catch"](e.handleSaveError).done(),e.setState({saving:!0})};var u=t.question,n=u.context,l=n.definition[n.typeName+"Id"];this.state={saving:!1,saveError:!1,selectedForum:t.viewContext,forums:null,initialId:l}}return _inherits(MoveThreadModal,c),n(MoveThreadModal,null,[{key:"propTypes",value:{viewContext:e.PropTypes.instanceOf(u).isRequired,handleClose:e.PropTypes.func.isRequired,question:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{router:e.PropTypes.object.isRequired},enumerable:!0}]),n(MoveThreadModal,[{key:"componentWillMount",value:function componentWillMount(){var e=this;l().then(function(n){var t=_(n).filter(function(e){return"course"!==e.get("type")&&"module"!==e.get("type")});e._isMounted&&e.setState({forums:t,selectedForum:_(t).find(function(t){return t.get("id")===e.state.initialId})})})}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=!0}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=!1}},{key:"closeModal",value:function closeModal(){this.props.handleClose()}},{key:"render",value:function render(){var n=e.createElement("div",{className:"c-error-text c-form-error-message"},t("Sorry, there was a problem moving this thread. Please reload the page and try again."));return e.createElement("div",{className:"rc-MoveThreadModal styleguide"},e.createElement(a,{handleClose:this.handleCloseModal,modalName:t("Move thread"),ref:"moveThreadModal"},e.createElement("h1",{className:"c-modal-title display-1-text"},t("Move Thread")),this.state.forums&&e.createElement(h,{ref:"currentForum",handleInputChange:this.handleInputChange,forums:this.state.forums,value:this.state.selectedForum}),e.createElement("div",{className:"horizontal-box align-items-right"},this.state.saveError&&n,e.createElement("button",{className:"passive",onClick:this.handleCancel},t("Cancel")),e.createElement("button",{ref:"submit",disabled:this.state.saving||!this.state.selectedForum||this.state.selectedForum.get("id")===this.state.initialId,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit")))))}}]),MoveThreadModal}(e.Component);module.exports=v});

define('css!bundles/discussions/components/threadSettings/__styles__/ThreadSettings',[],function(){})
define("bundles/discussions/components/threadSettings/ThreadSettings",["require","exports","module","jquery","react-with-addons","react-dom","bundles/iconfont/Icon","i18n!nls/discussions","bundles/discussions/viewModels/viewContext","bundles/discussions/components/threadSettings/CloseThreadButton","bundles/discussions/components/threadSettings/PinThreadButton","bundles/discussions/components/threadSettings/MoveThreadModal","css!./__styles__/ThreadSettings"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function get(r,d,u){var n=!0;e:for(;n;){var t=r,i=d,a=u;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;r=o,d=i,u=a,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var s=e.get;if(void 0===s)return void 0;return s.call(a)}},$=require("jquery"),e=require("react-with-addons"),s=require("react-dom"),t=require("bundles/iconfont/Icon"),r=require("i18n!nls/discussions"),i=require("bundles/discussions/viewModels/viewContext"),a=require("bundles/discussions/components/threadSettings/CloseThreadButton"),d=require("bundles/discussions/components/threadSettings/PinThreadButton"),u=require("bundles/discussions/components/threadSettings/MoveThreadModal");require("css!./__styles__/ThreadSettings");var c=function(c){function ThreadSettings(){var e=this;_classCallCheck(this,ThreadSettings),o(Object.getPrototypeOf(ThreadSettings.prototype),"constructor",this).apply(this,arguments),this.state={open:!1,showMoveThreadModal:!1},this.closeDropdown=function(t){e._isMounted&&$(s.findDOMNode(e)).find($(t.target)).length<=0&&e.toggleDropdown()},this.openMoveThreadModal=function(){e.setState({open:!1,showMoveThreadModal:!0})},this.closeMoveThreadModal=function(){e.setState({showMoveThreadModal:!1})},this.toggleDropdown=function(){e.state.open?(e.setState({open:!1}),document.body.removeEventListener("mousedown",e.closeDropdown)):(e.setState({open:!0}),document.body.addEventListener("mousedown",e.closeDropdown))}}return _inherits(ThreadSettings,c),n(ThreadSettings,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=!0}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=!1}},{key:"renderMoveThreadModal",value:function renderMoveThreadModal(){return e.createElement(u,{viewContext:this.context.viewContext,handleClose:this.closeMoveThreadModal,question:this.props.question})}},{key:"renderNonItemEntries",value:function renderNonItemEntries(){if("item"!==this.context.viewContext.get("model.viewContext.type"))return e.createElement("li",null,e.createElement("button",{className:"secondary",onClick:this.openMoveThreadModal},r("Move Thread")))}},{key:"renderDropdown",value:function renderDropdown(){return e.createElement("ul",{className:"styleguide dropdown"},e.createElement("li",null,e.createElement(a,{viewContext:this.context.viewContext})),e.createElement("li",null,e.createElement(d,{viewContext:this.context.viewContext})),this.renderNonItemEntries())}},{key:"render",value:function render(){return e.createElement("div",{className:"rc-ThreadSettings"},e.createElement("div",{onClick:this.toggleDropdown},e.createElement(t,{name:"settings",className:"color-secondary-text"})),this.state.open&&this.renderDropdown(),this.state.showMoveThreadModal&&this.renderMoveThreadModal())}}],[{key:"propTypes",value:{question:e.PropTypes.object.isRequired},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(i)},enumerable:!0}]),ThreadSettings}(e.Component);module.exports=c});

define('css!bundles/discussions/components/__styles__/ThreadDetail',[],function(){})
define("bundles/discussions/components/ThreadDetail",["require","exports","module","jsuri","react-router","react-with-addons","underscore","bundles/discussions/actions/ThreadDetailsActions","bundles/discussions/components/DetailedQuestion","bundles/discussions/components/SessionDetails","bundles/discussions/components/SoftDelete","bundles/discussions/components/profiles/ProfileArea","bundles/discussions/components/repliesList/RepliesList","bundles/discussions/components/repliesList/ReplyCMLInput","bundles/discussions/components/threadSettings/ThreadSettings","bundles/discussions/constants","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/subscriptionUtils","bundles/discussions/utils/threadDetailsUtils","bundles/discussions/utils/unreadTracker","bundles/discussions/viewModels/viewContext","i18n!nls/discussions","pages/open-course/common/models/currentSocialProfile","pages/open-course/common/promises/groupAuthorizationPromise","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/ThreadDetail"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var s=i[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var u=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),g=function get(i,c,u){var s=!0;e:for(;s;){var t=i,r=c,a=u;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,r);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,c=r,u=a,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}},f=require("jsuri"),y=require("react-router"),D=y.Link,e=require("react-with-addons"),_=require("underscore"),o=require("bundles/discussions/actions/ThreadDetailsActions"),c=o.fetchThread,t=o.fetchAnswers,l=require("bundles/discussions/components/DetailedQuestion"),d=require("bundles/discussions/components/SessionDetails"),p=require("bundles/discussions/components/SoftDelete"),m=require("bundles/discussions/components/profiles/ProfileArea"),h=require("bundles/discussions/components/repliesList/RepliesList"),v=require("bundles/discussions/components/repliesList/ReplyCMLInput"),a=require("bundles/discussions/components/threadSettings/ThreadSettings"),s=require("bundles/discussions/constants"),i=s.savingStates,b=s.answerSorts,r=s.defaults,x=s.answers,w=require("bundles/discussions/utils/discussionsUrl"),P=w.buildUrl,T=require("bundles/discussions/utils/subscriptionUtils"),S=require("bundles/discussions/utils/threadDetailsUtils"),k=S.getAnswerPosition,q=require("bundles/discussions/utils/unreadTracker"),I=require("bundles/discussions/viewModels/viewContext"),C=require("i18n!nls/discussions"),n=require("pages/open-course/common/models/currentSocialProfile"),E=require("pages/open-course/common/promises/groupAuthorizationPromise"),A=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),O=x.limitPerPage;require("css!./__styles__/ThreadDetail");var R=function(s){function ThreadDetail(){_classCallCheck(this,ThreadDetail),g(Object.getPrototypeOf(ThreadDetail.prototype),"constructor",this).apply(this,arguments),this.state={canTeach:!1}}return _inherits(ThreadDetail,s),u(ThreadDetail,[{key:"componentWillMount",value:function componentWillMount(){var e=this.props,s=e.questionId,n=e.sort,o=e.page,i=e.answerId;this.context.executeAction(c,{questionId:s,sort:n,page:o}),i||this.context.executeAction(t,{questionId:s,sort:n,page:o})}},{key:"componentDidMount",value:function componentDidMount(){this.markRead(),this.getRole(),this.fetchAnswerPosition(),this._isMounted=!0}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var s=e.questionId,n=e.sort,o=e.page;e.sort!==this.props.sort||e.page!==this.props.page?this.context.executeAction(t,{questionId:s,sort:n,page:o}):this.props.answerSavingState===i.SAVING&&e.answerSavingState===i.SAVED&&(this.context.executeAction(t,{questionId:s,sort:n,page:o}),this.context.router.push({pathname:window.location.pathname,params:{},query:{sort:b.newestSort}}))}},{key:"componentDidUpdate",value:function componentDidUpdate(e,s,t){(e.questionId!==this.props.questionId||t.viewContext.get("id")!==this.context.viewContext.get("id"))&&this.markRead()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=!1}},{key:"getRole",value:function getRole(){var e=this,t=void 0;t="group"===this.context.viewContext.get("contentType")?E(this.context.viewContext.get("model").id):T.userHasTeachingPermissions(),t.then(function(t){e._isMounted&&e.setState({canTeach:t})})}},{key:"getBackLinkDescription",value:function getBackLinkDescription(){var e=this.context.viewContext;return e.isType("item")||e.isType("question")?"Discussions":e.get("name")}},{key:"fetchAnswerPosition",value:function fetchAnswerPosition(){var e=this,s=this.props,o=s.answerId,n=s.questionId,i=s.sort,a=s.page;if(!o)return;k(o,i,O).then(function(s){s===a?e.context.executeAction(t,{questionId:n,sort:i,page:a}):e.context.router.replace({pathname:e.context.router.location.pathname,params:{},query:Object.assign(_.object(new f(e.context.router.location.search).queryPairs),{page:s})})}).fail(function(){e.context.router.replace(P(e.context.viewContext.get("dicussionsLink"),n)),e.context.executeAction(t,{questionId:n,sort:r.detailSort,page:r.detailPage})}).done()}},{key:"markRead",value:function markRead(){q.markRead(this.props.questionId)}},{key:"render",value:function render(){var r=this,s=this.props,t=s.question,o=s.isClosed,i=s.isPinned;return e.createElement("div",{className:"rc-ThreadDetail"},this.state.canTeach&&t&&e.createElement(d,{isPinned:i,question:t}),e.createElement("div",{className:"discussion-content"},e.createElement("div",{className:"horizontal-box align-items-vertical-center align-items-spacebetween"},e.createElement(D,{to:this.props.backLink,className:"back-area nostyle"},e.createElement("div",{className:"horizontal-box align-items-vertical-center"},e.createElement("i",{className:"back-arrow cif-arrow-left c-back-arrow-image"}),e.createElement("h4",{className:"headline-2-text c-back-label"},this.getBackLinkDescription()))),this.state.canTeach&&t&&e.createElement(a,{question:t,viewContext:this.context.viewContext})),e.createElement("div",{className:"frost-container"},e.createElement("div",null,e.createElement(l,{goToInput:function(){return r.refs.input.focus()},question:t,viewContext:this.context.viewContext,isPinned:i}),o&&e.createElement("div",{className:"c-thread-locked card-no-action color-secondary-text"},e.createElement("div",{className:"horizontal-box align-items-absolute-center"},e.createElement("i",{className:"cif-lock"}),C("This thread is closed. You cannot add any more responses.")))),e.createElement("div",null,e.createElement(h,{sort:this.props.sort,page:this.props.page,questionId:this.props.questionId,answerId:this.props.answerId,commentId:this.props.commentId,viewContext:this.context.viewContext}),!o&&e.createElement("div",{className:"reply-container horizontal-box"},e.createElement(m,{externalUserId:n.get("externalUserId"),fullName:n.get("fullName"),profileImageUrl:n.getProfileImageUrl()}),t&&e.createElement(v,{ref:"input",viewContext:this.context.viewContext,parentPost:t,savingState:this.props.answerSavingState})),t&&t.state&&t.state.deleted&&e.createElement(p,{entry:this.props.question,hideUndoDelete:!1})))))}}],[{key:"propTypes",value:{questionId:e.PropTypes.string.isRequired,sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,backLink:e.PropTypes.string.isRequired,answerSavingState:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,question:e.PropTypes.object,isClosed:e.PropTypes.bool,isPinned:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(I),executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},enumerable:!0}]),ThreadDetail}(e.Component);module.exports=A(R,["ThreadDetailsStore","ThreadSettingsStore"],function(t,e){var s=t.ThreadDetailsStore,n=t.ThreadSettingsStore,o=e.questionId,i=e.page,r=e.sort;return{question:s.getQuestion(o),answerSavingState:s.savingStates[o],isClosed:n.isClosed(),isPinned:n.isPinned()}})});
define("bundles/discussions/api/SearchApi",["require","exports","module","q","bundles/phoenix/lib/apiWrapper","jsuri","bundles/discussions/constants"],function(require,exports,module){var r=require("q"),a=require("bundles/phoenix/lib/apiWrapper"),d=require("jsuri"),u=require("bundles/discussions/constants"),e=u.APIConstants,s=a(e.searchResource,{type:"rest"}),i={searchFor:function searchFor(o,t,u,m){var a=(new d).addQueryParam("courseId",u.get("courseId")).addQueryParam("query",o).addQueryParam("limit",e.limit).addQueryParam("fields","snippet,parentAnswerId").addQueryParam("includes","creatorId,_links"),i=u.get("type");return a="course"===i?a.addQueryParam("q","byCourse"):"module"===i?a.addQueryParam("q","byModule").addQueryParam("moduleId",u.get("id")):"week"===i?a.addQueryParam("q","byWeek").addQueryParam("weekNumber",u.get("id")):"forum"===i?a.addQueryParam("q","byForum").addQueryParam("forumId",u.get("id")):"item"===i?a.addQueryParam("q","byItem").addQueryParam("itemId",u.get("id")):"group"===i?a.addQueryParam("q","byGroup").addQueryParam("groupId",u.get("groupId")):a.addQueryParam(u.get("type")+"Id",u.get("id")),t&&(a=a.addQueryParam("sessionFilter",t)),m&&(a=a.addQueryParam("start",(m-1)*e.limit)),r(s.get(a.toString()))}};module.exports=i});
define("bundles/discussions/actions/DiscussionsSearchActions",["require","exports","module","bundles/discussions/constants","bundles/discussions/api/SearchApi"],function(require,exports,module){var i=require("bundles/discussions/constants"),e=i.FluxibleActions,t=i.loadingStates,s=require("bundles/discussions/api/SearchApi"),o=function receiveSearchResults(i,t,s,n,o){i.dispatch(e.SEARCH_RESULTS_RECEIVED,{pageNum:n,viewContextId:t,query:s,naptimeResponse:o})},n=function searchApiError(i,t){i.dispatch(e.SEARCH_API_ERROR,{err:t})};exports.search=function(r,i,A){var u=i.query,p=i.filterQueryString,d=i.viewContext,a=i.reset,E=void 0===a?!1:a,c=i.pageNum,S=void 0===c?1:c;r.dispatch(e.UPDATE_LOADING_STATE,t.LOADING),E&&r.dispatch(e.CLEAR_DISCUSSIONS_SEARCH_STORE),s.searchFor(u,p,d,S).then(o.bind(void 0,r,d.get("id"),u,S)).fail(n.bind(void 0,r)).done(function(){return A()})},exports.goToPage=function(i,o,c){var d=o.query,a=o.filterQueryString,r=o.pageNum,u=o.viewContext,S=i.getStore("DiscussionsSearchStore"),A=S.searchResults({viewContextId:u.get("id"),pageNum:r});i.dispatch(e.UPDATE_LOADING_STATE,t.LOADING),0===A.length?s.searchFor(d,a,u,r).then(function(t){i.dispatch(e.SEARCH_PAGE_CHANGE,{pageNum:r,filterQueryString:a,naptimeResponse:t,viewContextId:u.get("id"),query:d})}).fail(n.bind(void 0,i)).done(function(){return c()}):(i.dispatch(e.SEARCH_PAGE_CHANGE,{pageNum:r,filterQueryString:a,viewContextId:u.get("id"),query:d}),c())}});
define("bundles/discussions/components/search/SearchResultEntry",["require","exports","module","react-with-addons","bundles/discussions/components/ThreadsListEntry","bundles/discussions/lib/propTypes","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/unreadTracker","bundles/discussions/viewModels/viewContext","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var s=i[t],r=Object.getOwnPropertyDescriptor(n,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(r,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),r=function get(i,p,c){var s=!0;e:for(;s;){var t=i,o=p,u=c;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,o);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,p=o,c=u,s=!0,e=r=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(u)}},e=require("react-with-addons"),n=require("bundles/discussions/components/ThreadsListEntry"),t=require("bundles/discussions/lib/propTypes"),i=t.profilePropType,o=require("bundles/discussions/utils/discussionsUrl"),u=require("bundles/discussions/utils/unreadTracker"),p=require("bundles/discussions/viewModels/viewContext"),c=require("i18n!nls/discussions"),a=function(t){function SearchResultEntry(){_classCallCheck(this,SearchResultEntry),r(Object.getPrototypeOf(SearchResultEntry.prototype),"constructor",this).apply(this,arguments)}return _inherits(SearchResultEntry,t),s(SearchResultEntry,[{key:"render",value:function render(){var t=this.props.entry,s=!u.hasUnread(t);return e.createElement("div",{className:"rc-SearchResultEntry nostyle"},e.createElement(n,{threadUrl:o.getDeepLink(this.context.viewContext.get("discussionsLink"),this.props.entry),profile:t.creator,timestamp:t.createdAt,threadName:t.title,snippet:t.snippet,questionId:t.id,questionUserId:t.creator.userId,isRead:s,metadataLabel:c("Post by"),linkClassName:"nostyle"}))}}],[{key:"propTypes",value:{entry:e.PropTypes.shape({id:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,snippet:e.PropTypes.object.isRequired,creator:i,createdAt:e.PropTypes.number}).isRequired,index:e.PropTypes.number.isRequired,page:e.PropTypes.number.isRequired,query:e.PropTypes.string.isRequired},enumerable:!0},{key:"contextTypes",value:{viewContext:e.PropTypes.instanceOf(p).isRequired},enumerable:!0}]),SearchResultEntry}(e.Component);module.exports=a});

define('css!bundles/discussions/components/search/__styles__/SearchResults',[],function(){})
define("bundles/discussions/components/search/SearchResults",["require","exports","module","underscore","react-with-addons","i18n!nls/discussions","pages/open-course/common/constants","bundles/discussions/viewModels/viewContext","bundles/discussions/constants","bundles/discussions/actions/DiscussionsSearchActions","bundles/discussions/components/ListBody","bundles/discussions/components/search/SearchBar","bundles/discussions/components/search/SearchResultEntry","bundles/page/components/PaginationControls","js/lib/path","js/lib/connectToRouter","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/utils/discussionsUrl","js/lib/coursera.react-intl","css!./__styles__/SearchResults","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var s=o[t],n=Object.getOwnPropertyDescriptor(r,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),l=function get(o,u,c){var s=!0;e:for(;s;){var t=o,i=u,a=c;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;o=n,u=i,c=a,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(a)}},x=require("underscore"),i=x.compose,e=require("react-with-addons"),t=require("i18n!nls/discussions"),a=require("pages/open-course/common/constants"),u=require("bundles/discussions/viewModels/viewContext"),c=require("bundles/discussions/constants"),n=c.loadingStates,s=require("bundles/discussions/actions/DiscussionsSearchActions"),p=require("bundles/discussions/components/ListBody"),d=require("bundles/discussions/components/search/SearchBar"),h=require("bundles/discussions/components/search/SearchResultEntry"),y=require("bundles/page/components/PaginationControls"),g=require("js/lib/path"),m=require("js/lib/connectToRouter"),v=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),b=require("bundles/discussions/utils/discussionsUrl"),f=b.getAllThreadsDiscussionsUrl,S=require("js/lib/coursera.react-intl"),o=S.FormattedMessage;require("css!./__styles__/SearchResults"),require("css!bundles/page/components/__styles__/PaginationControls.css");var C=function(i){function SearchResults(t,n){var e=this;_classCallCheck(this,SearchResults),l(Object.getPrototypeOf(SearchResults.prototype),"constructor",this).call(this,t,n),this.handleQueryChange=function(t){e.setState({query:t})},this.handleSearchCourse=function(t){t.preventDefault();var s=g.join("/learn",a.courseSlug,"discussions");e.context.router.push({pathname:s,params:{},query:{q:e.state.query}})},this.onPageChange=function(t){e.context.router.push({pathname:e.context.router.location.pathname,params:{},query:Object.assign(e.context.router.location.query,{page:t})}),e.context.executeAction(s.goToPage,{query:e.props.query,pageNum:t,viewContext:e.props.viewContext})},this.submitSearch=function(){if(e.state.query){var t=e.state.query.replace("*","");e.context.router.push({pathname:window.location.pathname,params:{},query:{q:t}})}},this.navigateBack=function(t){t.preventDefault();var s=e.props.viewContext.get("discussionsLink");e.context.router.push(s)},this.state={query:t.query||""},t.query&&this.context.executeAction(s.search,{query:t.query,filterQueryString:t.filterQueryString,pageNum:t.page,viewContext:t.viewContext,reset:!0})}return _inherits(SearchResults,i),r(SearchResults,null,[{key:"propTypes",value:{viewContext:e.PropTypes.instanceOf(u).isRequired,query:e.PropTypes.string.isRequired,pathname:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,loadingState:e.PropTypes.oneOf(Object.keys(n)),pageCount:e.PropTypes.number,currentResults:e.PropTypes.array,numResults:e.PropTypes.number,filterQueryString:e.PropTypes.string},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},enumerable:!0}]),r(SearchResults,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e,t,n){(e.query!==this.props.query||e.pathname!==this.props.pathname||e.viewContext.get("id")!==this.props.viewContext.get("id")||e.filterQueryString!==this.props.filterQueryString)&&(this.setState({query:e.query}),this.context.executeAction(s.search,{query:e.query,filterQueryString:e.filterQueryString,pageNum:this.props.page,viewContext:e.viewContext,reset:this.props.filterQueryString!==e.filterQueryString}))}},{key:"render",value:function render(){var r=this,s=this.context.router.isActive({pathname:f()}),i=void 0,a=e.createElement("a",{href:"#",onClick:this.handleSearchCourse,className:"nostyle search-course-link"},t("Search All Discussions")),u=e.createElement("div",{className:"results-metadata bgcolor-black-g1"},e.createElement("span",{className:"color-secondary-text"},this.props.loadingState===n.DONE?e.createElement(o,{message:t("{numResults} search results in {displayName}"),numResults:this.props.numResults,displayName:this.props.viewContext.getDisplayName()}):e.createElement(o,{message:t("Finding search results in {displayName}"),displayName:this.props.viewContext.getDisplayName()}),"course"!==this.props.viewContext.get("type")&&" • ","course"!==this.props.viewContext.get("type")&&a));this.props.loadingState===n.DONE&&this.props.currentResults.length>0&&(i=this.props.currentResults.map(function(s,t){return e.createElement(h,{key:t,index:t,entry:s,page:r.props.page,query:r.props.query})}));var c=this.props.viewContext.getDisplayName();return e.createElement("div",{className:"rc-DiscussionsSearchResults"},e.createElement("div",{className:"results-container card-rich-interaction"},!s&&e.createElement("div",{className:"bgcolor-black-g1"},e.createElement("a",{href:"#",onClick:this.navigateBack,className:"nostyle back-area"},e.createElement("div",{className:"back-arrow"},e.createElement("i",{className:"cif-arrow-left back-arrow-image"})),e.createElement("span",{className:"back-label body-2-text"},t("Back to "+c)))),!s&&e.createElement(d,{query:this.state.query,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange}),!s&&u,e.createElement(p,{loadingState:this.props.loadingState},i)),e.createElement(y,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5}))}}]),SearchResults}(e.Component);module.exports=i(m(function(e){return{query:decodeURIComponent(e.location.query.q),pathname:e.location.pathname}}),v(["DiscussionsSearchStore","SessionFilterStore"],function(s,e){var t=s.DiscussionsSearchStore,n=s.SessionFilterStore;return{currentResults:t.searchResults({viewContextId:e.viewContext.get("id"),query:e.query,pageNum:t.currentPage}),loadingState:t.loadingState,pageCount:t.getPageCount({viewContextId:e.viewContext.get("id"),query:e.query}),numResults:t.getNumResults({viewContextId:e.viewContext.get("id"),query:e.query}),filterQueryString:n.activeFilterQueryString}}))(C)});
define("bundles/discussions/components/DiscussionsBody",["require","exports","module","jquery","react-with-addons","underscore","jsuri","bundles/ondemand/appContextSingleton","js/lib/ReactRouterAdapter","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","js/lib/retracked","pages/open-course/common/constants","bundles/discussions/constants","bundles/discussions/viewModels/viewContext","bundles/discussions/components/ThreadsList","bundles/discussions/components/ThreadDetail","bundles/discussions/components/search/SearchResults","js/lib/connectToRouter"],function(require,exports,module){function _defaults(e,n){for(var o=Object.getOwnPropertyNames(n),t=0;t<o.length;t++){var s=o[t],r=Object.getOwnPropertyDescriptor(n,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(r,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),r=function get(o,u,p){var s=!0;e:for(;s;){var t=o,i=u,a=p;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;o=r,u=i,p=a,s=!0,e=r=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}},$=require("jquery"),e=require("react-with-addons"),d=require("underscore"),y=d.compose,i=require("jsuri"),a=require("bundles/ondemand/appContextSingleton"),u=require("js/lib/ReactRouterAdapter"),o=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),p=require("js/lib/retracked"),b=require("pages/open-course/common/constants"),l=require("bundles/discussions/constants"),t=l.defaults,n=require("bundles/discussions/viewModels/viewContext"),v=require("bundles/discussions/components/ThreadsList"),m=require("bundles/discussions/components/ThreadDetail"),g=require("bundles/discussions/components/search/SearchResults"),h=require("js/lib/connectToRouter"),c=function(o){function DiscussionsBody(){var e=this;_classCallCheck(this,DiscussionsBody),r(Object.getPrototypeOf(DiscussionsBody.prototype),"constructor",this).apply(this,arguments),this.state={},this.onKeypress=function(){e.props.videoPlayer&&e.props.videoPlayer.emitter.set("disableAutoplay")}}return _inherits(DiscussionsBody,o),s(DiscussionsBody,[{key:"getChildContext",value:function getChildContext(){return{viewContext:this.props.viewContext}}},{key:"componentWillMount",value:function componentWillMount(){$(document).one("keypress",this.onKeypress)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){!this.props.questionId&&e.questionId&&this.props.listPage?this.setState({previousListPage:this.props.listPage}):this.props.questionId!==e.questionId&&this.setState({previousListPage:null})}},{key:"componentWillUnmount",value:function componentWillUnmount(){$(document).off("keypress",this.onKeypress)}},{key:"renderSearchResults",value:function renderSearchResults(){var t=this.props,s=t.searchPage,r=t.q;return e.createElement(g,{query:r,page:s,ref:"SearchResults",viewContext:this.props.viewContext})}},{key:"renderThreadsList",value:function renderThreadsList(){var t=this.props,s=t.listPage,r=t.listSort;return e.createElement(v,{ref:"ThreadsList",videoPlayer:this.props.videoPlayer,sort:r,page:s})}},{key:"renderThreadDetail",value:function renderThreadDetail(){var t=this.props,r=t.videoPlayer,n=t.questionId,o=t.answerId,a=t.commentId,s=t.detailPage,p=t.detailSort,c=t.listSort,l=t.listPage,d=t.q,u=new i(this.props.viewContext.get("discussionsLink")).addQueryParam("sort",c).addQueryParam("page",this.state.previousListPage||l).addQueryParam("q",d).toString();return e.createElement(m,{ref:"ThreadDetail",videoPlayer:r,questionId:n,answerId:o,commentId:a,sort:p,page:s,backLink:u})}},{key:"render",value:function render(){var t=this.props.questionId,s=this.props.q;return e.createElement("div",{className:"rc-DiscussionsBody styleguide"},t&&this.renderThreadDetail(),!t&&(s?this.renderSearchResults():this.renderThreadsList()))}}],[{key:"propTypes",value:{viewContext:e.PropTypes.instanceOf(n).isRequired,videoPlayer:e.PropTypes.object,questionId:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,sort:e.PropTypes.string,page:e.PropTypes.number,detailSort:e.PropTypes.string,detailPage:e.PropTypes.number,listSort:e.PropTypes.string,listPage:e.PropTypes.number,q:e.PropTypes.string,searchPage:e.PropTypes.number},enumerable:!0},{key:"contextTypes",value:{router:e.PropTypes.object.isRequired},enumerable:!0},{key:"childContextTypes",value:{viewContext:e.PropTypes.instanceOf(n).isRequired},enumerable:!0},{key:"defaultProps",value:{detailSort:t.detailSort,detailPage:t.detailPage,listSort:t.listSort,listPage:t.listPage},enumerable:!0}]),DiscussionsBody}(e.Component),f=y(h(function(o){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=o.params,e=o.location.query,i=n.question_id||r.questionId,t=e.page?parseInt(e.page,10):1,s={answerId:n.answer_id||r.answerId,questionId:i,commentId:n.comment_id||r.commentId,sort:e.sort,page:t};return i?Object.assign(s,{detailSort:e.sort,detailPage:t}):e.q?Object.assign(s,{q:e.q,searchPage:t}):Object.assign(s,{listSort:e.sort,listPage:t}),s}),p.createTrackedContainer(function(e){return{view_context_id:e.viewContext.get("id"),type:e.viewContext.get("type"),sort:e.sort,page:e.page}}))(c);module.exports=function(t){function DiscussionsFluxibleApp(){_classCallCheck(this,DiscussionsFluxibleApp),r(Object.getPrototypeOf(DiscussionsFluxibleApp.prototype),"constructor",this).apply(this,arguments)}return _inherits(DiscussionsFluxibleApp,t),s(DiscussionsFluxibleApp,[{key:"getChildContext",value:function getChildContext(){return{router:u.rr}}},{key:"render",value:function render(){return e.createElement(o,{context:a.getComponentContext()},e.createElement(f,this.props))}}],[{key:"childContextTypes",value:{router:e.PropTypes.object.isRequired},enumerable:!0}]),DiscussionsFluxibleApp}(e.Component)});
define("bundles/ondemand/components/programming/ProgrammingDiscussions",["require","exports","module","react-with-addons","bundles/discussions/components/DiscussionsBody","bundles/discussions/viewModels/viewContext","pages/open-course/common/models/itemMetadata"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),n=function get(i,u,c){var n=!0;e:for(;n;){var t=i,s=u,a=c;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;i=o,u=s,c=a,n=!0,e=o=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(a)}},e=require("react-with-addons"),o=require("bundles/discussions/components/DiscussionsBody"),r=require("bundles/discussions/viewModels/viewContext"),i=require("pages/open-course/common/models/itemMetadata"),s=function(s){function ProgrammingDiscussions(){_classCallCheck(this,ProgrammingDiscussions),n(Object.getPrototypeOf(ProgrammingDiscussions.prototype),"constructor",this).apply(this,arguments)}return _inherits(ProgrammingDiscussions,s),t(ProgrammingDiscussions,[{key:"render",value:function render(){if(!this.props.itemMetadata)return null;var t=new r({itemMetadata:this.props.itemMetadata});return e.createElement(o,{viewContext:t})}}],[{key:"propTypes",value:{itemMetadata:e.PropTypes.instanceOf(i)},enumerable:!0}]),ProgrammingDiscussions}(e.Component);module.exports=s});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.wechat-image{cursor:pointer}.wechat-qrcode-container{background:#fff;border:1px solid #ccc;position:absolute;z-index:100;width:260px;height:130px;font-size:13px;right:10px;top:-120px;margin-top:20px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3)}#wechat-qrcode{display:inline-block;margin:20px 10px;float:left}.wechat-qrcode-message{display:inline-block;width:120px;height:90px;margin:20px 10px;line-height:20px;text-align:left}.wechat-qrcode-close{position:absolute;top:0;right:8px;cursor:pointer}.scribe-image-upload-command-loader{background:#fff;position:absolute;padding:5px 15px;border:1px solid #aaa}.scribe-image-upload-command-in-progress{opacity:.1;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=10)\";filter:alpha(opacity=10)}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SessionSwitcherDropdown .bt3-btn-group{width:100%}.rc-SessionSwitcherDropdown button.bt3-dropdown-toggle{-webkit-border-radius:0;border-radius:0;width:100%;text-align:left;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.rc-SessionSwitcherDropdown button.bt3-dropdown-toggle span{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.rc-SessionSwitcherDropdown ul.bt3-dropdown-menu{z-index:10000}.rc-SessionSwitcherDropdown .menu-item-label{background:#f6faff;-webkit-border-radius:2px;border-radius:2px;padding:2px 10px;border:1px solid rgba(0,0,0,0.1);margin-left:10px}.c-form{width:600px;max-width:100%}.c-form-input{padding:8px;border:1px solid #ddd}.c-form-textarea{min-height:180px;display:inline-block;}.c-form-textarea .rc-CMLEditor .scribe-editor{min-height:140px;padding:8px;max-height:500px;overflow:scroll}.c-form-textarea .rc-FallbackEditor textarea{min-height:140px;padding:8px;max-height:500px;overflow:scroll}.c-form-select{height:34px}.c-has-error{border-color:#a94442;outline-color:#d79493;}.c-has-error .rc-CMLEditor{border:1px solid #a94442;}.c-has-error .rc-CMLEditor .scribe-editor:focus{outline:none}.rc-ContextSelector select.c-form-select{width:100%}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-NewThreadForm .c-new-thread-button{margin:4px 0 8px 8px}.rc-NewThreadForm .context-selector-container .section-divider{width:100%;height:1px;margin-bottom:16px}.rc-NewThreadForm .context-selector-container h5{font-family:\'sofiapro-light\',Arial,sans-serif;font-size:18px}.rc-NewThreadForm .new-thread-modal .c-modal-content{overflow-y:scroll}.c-input-area{margin-bottom:12px}.c-form-label-area{width:56px;text-align:left;margin-right:8px;vertical-align:top;}.c-form-label-area h2.c-form-label{margin-top:4px}@media (max-width:767px){.c-post-heading{margin-bottom:0}.c-form-label-area{text-align:left}.c-form-error-message{margin-left:0}}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SearchBar{z-index:1000;}.rc-SearchBar.search-bar{border:none;}.rc-SearchBar.search-bar i{margin-right:16px}.rc-SearchBar .close-icon{margin-left:16px}.rc-SearchBox{position:relative;}.rc-SearchBox .search-box{width:100%;}.rc-SearchBox .search-box:hover{outline:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ControlsBar{border-bottom:1px solid rgba(0,0,0,0.06);max-height:50px;padding:0;}.rc-ControlsBar .sort-label{margin:0 0 0 32px}.rc-ControlsBar .sort-select{border:none;margin-right:20px}.rc-ControlsBar .rc-NewThreadForm{margin-right:8px;min-width:104px}.rc-ControlsBar .rc-SearchBox{margin-right:8px;max-width:200px}.rc-ControlsBar .expand-block{-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;z-index:1000;max-height:inherit}.rc-ControlsBar .shrink-block{-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;overflow:hidden;max-height:inherit}.rc-ControlsBar.in-search-mode .expand-block{-webkit-transition:flex 0.2s ease-in-out;-moz-transition:flex 0.2s ease-in-out;-o-transition:flex 0.2s ease-in-out;-ms-transition:flex 0.2s ease-in-out;transition:flex 0.2s ease-in-out}.rc-ControlsBar.in-search-mode .shrink-block{min-width:0;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:.00001;-ms-flex:.00001;flex:.00001;-webkit-flex:.00001;-ms-flex:.00001;-moz-flex:.00001;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.rc-ControlsBar button.tertiary{min-width:20px}.rc-ControlsBar .mobile{display:none}@media (max-width:767px){.rc-ControlsBar .mobile{display:block}.rc-ControlsBar .large-screen{display:none}.rc-ControlsBar .rc-NewThreadForm{min-width:0}.rc-ControlsBar button.tertiary{padding:0}.rc-ControlsBar .rc-SearchBox,.rc-ControlsBar .rc-NewThreadForm{width:24px;}.rc-ControlsBar .rc-SearchBox i,.rc-ControlsBar .rc-NewThreadForm i{font-size:20px;padding-bottom:6px}.rc-ControlsBar .rc-NewThreadForm i{padding-top:6px}.rc-ControlsBar .rc-SearchBox i{padding-top:4px}}.rc-ListBody{position:relative;max-height:120px;min-height:120px;overflow-x:visible;}.rc-ListBody.c-list-expanded{max-height:100000px;min-height:inherit;-webkit-transition:max-height 1s ease-in-out;-moz-transition:max-height 1s ease-in-out;-o-transition:max-height 1s ease-in-out;-ms-transition:max-height 1s ease-in-out;transition:max-height 1s ease-in-out}.rc-ListBody.c-post-transition{overflow:visible}.rc-ListBody .message{padding:40px 20px 44px;text-align:center;height:80px}.rc-ListBody .c-pre-fossil{z-index:0;top:0;right:0;bottom:0;left:0;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.rc-ListBody .c-pre-fossil.c-fossilized{position:absolute;background-color:rgba(255,255,255,0.7);z-index:1000;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.rc-ListBody ul{margin:0;padding:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-NewContent .c-discussion-new-content{height:30px;width:100%;background-color:#f6faff;border:1px solid #c4deff;cursor:pointer}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImage .c-profile-image{-webkit-border-radius:100%;border-radius:100%;}.rc-ProfileImage .c-profile-image img{-webkit-border-radius:100%;border-radius:100%}.rc-ProfileImage .c-profile-initials{background-color:#3277b2;color:#fff;text-transform:uppercase;}.rc-ProfileImage .c-profile-initials div{width:100%;height:100%;}.rc-ProfileImage .c-profile-initials div p{margin-bottom:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImageWithRole .course-role-icon{-webkit-border-radius:100%;border-radius:100%;color:#fff;width:18px;height:18px;position:absolute;margin-left:24px;margin-top:-14px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-MiniProfile{position:absolute;z-index:9999;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-MiniProfile.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-MiniProfile .profile-header{margin:16px 12px 12px;}.rc-MiniProfile .profile-header .profile-photo{margin-bottom:12px}.rc-MiniProfile .profile-footer{padding:12px 16px 16px}.rc-MiniProfile .loading-state{text-align:center;margin:48px}.rc-MiniProfile .dot-spacing{margin:0 4px}.rc-MiniProfile.profileAreaNorth{margin-top:-205px}.rc-MiniProfile.profileAreaSouth{margin-top:5px}.rc-MiniProfile.profileNameNorth{margin-top:-185px}.rc-MiniProfile.profileNameSouth{margin-top:5px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileName .profile-name{color:inherit;text-decoration:none;cursor:pointer;}.rc-ProfileName .profile-name:hover{text-decoration:underline;color:rgba(0,0,0,0.54)}.rc-SoftDelete .c-soft-delete{display:block;position:absolute;top:0;right:0;background:rgba(255,255,255,0.7);width:100%;height:100%;}.rc-SoftDelete .c-soft-delete .c-soft-delete-header{position:absolute;top:10px;right:15px}.rc-SoftDelete .c-soft-delete-clickable{pointer-events:none}.rc-SoftDelete .c-soft-delete-error{position:absolute;top:10px;right:15px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadsListEntry{padding:16px 16px 20px 16px;cursor:pointer;position:relative;border-bottom:1px solid rgba(0,0,0,0.06);}.rc-ThreadsListEntry:last-child{border-bottom:none}.rc-ThreadsListEntry:hover{background:rgba(0,0,0,0.05);}.rc-ThreadsListEntry:hover a{text-decoration:none}.rc-ThreadsListEntry .entry-metadata{margin-top:4px;}.rc-ThreadsListEntry .entry-metadata .timestamp-separator{margin-left:4px}.rc-ThreadsListEntry .entry-metadata .timestamp{margin-left:4px}.rc-ThreadsListEntry .c-title{margin-bottom:4px}.rc-ThreadsListEntry .c-reply-area{margin-left:16px;}.rc-ThreadsListEntry .c-reply-area .view-count{margin-right:12px}.rc-ThreadsListEntry .question-title-bold{font-weight:bold}.rc-ThreadsListEntry .forum-info{font-weight:bold}.rc-ThreadsListEntry .pin-container{margin:0 13px 0 -51px;z-index:1000;cursor:default}.rc-ThreadsListEntry .pin-background{color:#a07e46}.rc-ThreadsListEntry .pin-icon{margin:10px 0 0 8.5px;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform:rotate(-45deg);color:#fff}.rc-ThreadsListEntry .moderator-replied-badge{padding:2px 8px;-webkit-border-radius:3px;border-radius:3px;margin:0 12px 0 0;color:#a07e46}.rc-ThreadsListEntry .entry-snippet{max-height:150px;overflow:hidden}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadsList .c-forum-label-area{margin-top:24px;}.rc-ThreadsList .c-forum-label-area h3.headline-2-text,.rc-ThreadsList .c-forum-label-area p.big{margin-bottom:0}.rc-ThreadsList .c-forum-label-area .c-forum-label-section{padding-bottom:12px;}.rc-ThreadsList .c-forum-label-area .c-forum-label-section .btn-subscribe{margin-left:8px}.rc-ThreadsList .c-forum-description{margin-bottom:32px}.rc-ThreadsList .rc-ListBody{padding:0 16px 16px}.rc-ThreadsList .discussions-sidebar{margin-left:30px}.rc-PaginationControls{margin-top:16px;}.rc-PaginationControls .pagination-controls-container > .box{margin-left:6px;width:100%;}.rc-PaginationControls .pagination-controls-container > .box:first-child{margin-left:0}.rc-PaginationControls button{border:none;background-color:inherit}.rc-ModerationReasons .c-radio-group{list-style-type:none;padding-left:0}.rc-ModerationReasons li{margin:0 0 16px 16px}.rc-ModerationReasons a{text-decoration:underline}.rc-ModerationReasons label{font-weight:normal}.rc-ModerationReasons .c-radio-label{display:inline-block;padding-left:16px}.rc-NotifyOption input{margin-right:16px}.rc-Delete .c-delete-warning{margin-bottom:40px}.rc-FlaggingModal .c-modal-content{min-height:120px;}.rc-FlaggingModal .c-modal-content .modal-text{margin-top:20px;}.rc-FlaggingModal .c-modal-content .modal-text.success{text-align:center;margin-top:24px}.rc-FlaggingModal .c-modal-content .button-container{margin-top:40px;margin-right:12px;}.rc-FlaggingModal .c-modal-content .button-container .never-mind{margin-right:20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CopyLink .link-input{padding:0 8px}.rc-CopyLink .box{min-width:250px;border:1px solid rgba(0,0,0,0.1);background-color:#fff;}.rc-CopyLink .box.copied{border:1px solid #2a73cc}.rc-CopyLink .box .link{overflow:hidden;-webkit-border-radius:0;border-radius:0;padding-left:12px;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.rc-CopyLink .clipboard-message{margin-top:8px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-CopyLink .clipboard-message.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-CopyLink .copy-message{margin-top:2px}.rc-ShareModal .rc-CopyLink{margin:40px 0 0 0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-Dropdown{margin-top:-6px;}.rc-Dropdown ul.styleguide.dropdown{display:block;position:absolute;min-width:132px;margin:0 0 0 -120px;z-index:1000}.rc-Dropdown > button{border:none;background-color:inherit}.c-phoenix-dropdown-container{float:right;margin:-10px -8px 0 0}.c-dropdown-chevron{color:rgba(0,0,0,0.255);font-size:12px;cursor:pointer;}.c-dropdown-chevron:hover{color:rgba(0,0,0,0.45)}.rc-ProfileArea .c-profile-image-wrapper{cursor:pointer}.rc-ProfileArea .rc-ProfileImage{display:inline-block;}.rc-ProfileArea .rc-ProfileImage .c-profile-image{margin:0 4px 0 0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-AdminDetails{border:none;}.rc-AdminDetails p{background-color:#f6faff;border:1px solid rgba(0,0,0,0.12);-webkit-border-radius:3px;border-radius:3px;text-align:right;padding:2px 4px;margin-bottom:4px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-Upvote border-bottom-color $color-hint-text:hover{border-bottom-color:#2775d1}button.rc-Upvote{padding-left:0;}button.rc-Upvote:focus{outline:none}.rc-Follow .follow-number{background-color:#eef7ff;display:inline-block;padding:0 5px}.rc-DetailedQuestion{padding:20px 20px;min-height:120px;}.rc-DetailedQuestion p.big{margin-bottom:4px}.rc-DetailedQuestion .profile{width:44px;margin-right:8px}.rc-DetailedQuestion > .flex-1{overflow:hidden}.rc-DetailedQuestion .flagged{text-decoration:line-through}.rc-DetailedQuestion .pin{margin-left:2px}.rc-DetailedQuestion .rc-CML{margin:8px 0 20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-RepliesSortBar{border-bottom:1px solid rgba(0,0,0,0.06);max-height:68px;padding:0;}.rc-RepliesSortBar .tabs{margin-left:20px;min-width:200px;}.rc-RepliesSortBar .tabs a:active{color:rgba(0,0,0,0.87)}.rc-ReplyCML .editor-container{margin-bottom:16px;}.rc-ReplyCML .editor-container .rc-CMLEditor .scribe-editor{min-height:90px}.rc-ReplyCML .editor-container .rc-CMLEditor button{display:block}.rc-ReplyCML .editor-container .rc-CMLEditor .scribe-plugin-placeholder{top:15px;left:22px}.rc-ReplyCML .passive{margin-right:8px}.c-comment-input-container .rc-ReplyCML.collapsed .rc-CMLEditor .scribe-editor{min-height:48px}.c-comment-input-container .rc-ReplyCML.collapsed button{display:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ReplyComponent{position:relative;}.rc-ReplyComponent .reply-content{padding:12px 20px;}.rc-ReplyComponent .reply-content .action-area button,.rc-ReplyComponent .reply-content .metadata button{border:none;background-color:inherit;}.rc-ReplyComponent .reply-content .action-area button:hover,.rc-ReplyComponent .reply-content .metadata button:hover{color:#2a73cc}.rc-ReplyComponent .reply-content .reply-details{padding:0}.rc-ReplyComponent .profile{width:44px;margin:0 8px 0 0;padding-right:0}.rc-ReplyComponent .flag{text-decoration:line-through}.rc-ReplyComponent ol .reply-content{padding-left:72px}.rc-ReplyComponent .reply-load-button{margin-right:20px;margin-left:72px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ReplyContainer{position:relative;}.rc-ReplyContainer .comment-input{margin:20px 20px 0 80px;}.rc-ReplyContainer .comment-input .ListBody{position:initial}.rc-ReplyContainer .comment-input .rc-ProfileArea{width:44px}.rc-ReplyContainer .comment-input .rc-ReplyCML{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-left:14px}.rc-MoveThreadModal button{margin:16px 0 0 16px}.rc-ThreadSettings{position:relative;}.rc-ThreadSettings ul.dropdown{z-index:1000;position:absolute;top:20px;right:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadDetail .rc-SessionDetails{margin-top:20px}.rc-ThreadDetail .back-area{margin-right:8px;}.rc-ThreadDetail .back-area .back-arrow{padding-left:4px;margin-right:4px;margin-bottom:10px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-ThreadDetail .back-area:hover .back-arrow{padding:0 4px 0 0;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-ThreadDetail .discussion-content{margin-top:24px;}.rc-ThreadDetail .discussion-content .frost-container{position:relative}.rc-ThreadDetail .mentor-message{line-height:30px;height:30px;width:100%;background-color:#fff5c3;border:1px solid #f19a0b}.rc-ThreadDetail .metadata{line-height:18px;}.rc-ThreadDetail .metadata .rc-NextViewName{margin-left:4px}.rc-ThreadDetail .action-area button{border:none;background-color:inherit;}.rc-ThreadDetail .action-area button:hover{color:#2a73cc}.rc-ThreadDetail .rc-CML{margin:8px 0 16px}.rc-ThreadDetail .rc-DetailedQuestion{margin-top:20px}.rc-ThreadDetail .rc-RepliesList{margin-top:20px;padding:0 0 20px 0}.rc-ThreadDetail .reply-container{padding:12px;margin-top:48px;-webkit-border-radius:3px;border-radius:3px;background-color:rgba(0,0,0,0.05);}.rc-ThreadDetail .reply-container .rc-ProfileArea{margin:4px}.rc-ThreadDetail .reply-container .rc-ReplyCML{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-DiscussionsSearchResults .back-area{margin:8px 0 10px;display:inline-block;}.rc-DiscussionsSearchResults .back-area .back-label{display:inline-block;margin:0 8px}.rc-DiscussionsSearchResults .back-area .back-arrow{display:inline-block;padding-left:4px;margin-left:8px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;}.rc-DiscussionsSearchResults .back-area .back-arrow .back-arrow-image{margin-bottom:4px;height:12px;width:12px}.rc-DiscussionsSearchResults .back-area:hover .back-arrow{padding-left:0;padding-right:4px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-DiscussionsSearchResults .results-container .results-metadata{padding:16px 20px;}.rc-DiscussionsSearchResults .results-container .results-metadata .search-course-link{text-decoration:underline}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry{cursor:pointer;border-bottom:1px solid rgba(0,0,0,0.06);list-style-type:none;}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry .c-result-title{margin-bottom:4px;font-weight:bold}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry:hover .c-result-title{text-decoration:underline}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry:last-child{border-bottom:none}.rc-DiscussionsSearchResults .rc-ListBody{padding:0 16px 16px}');
